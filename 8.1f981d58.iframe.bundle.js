(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"./node_modules/@storybook/components/dist/esm/Color-f953d088.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ColorControl", function() { return ColorControl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ColorControl; });\n/* harmony import */ var core_js_modules_es_object_assign_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/core-js/modules/es.object.assign.js");\n/* harmony import */ var core_js_modules_es_object_assign_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_assign_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./node_modules/core-js/modules/es.object.keys.js");\n/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/core-js/modules/es.array.join.js");\n/* harmony import */ var core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/core-js/modules/es.array.filter.js");\n/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/core-js/modules/es.object.to-string.js");\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./node_modules/core-js/modules/es.number.constructor.js");\n/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js");\n/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js");\n/* harmony import */ var core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./node_modules/core-js/modules/es.string.replace.js");\n/* harmony import */ var core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./node_modules/core-js/modules/es.array.iterator.js");\n/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var core_js_modules_es_map_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./node_modules/core-js/modules/es.map.js");\n/* harmony import */ var core_js_modules_es_map_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_map_js__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./node_modules/core-js/modules/es.string.iterator.js");\n/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js");\n/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./node_modules/core-js/modules/es.string.match.js");\n/* harmony import */ var core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./node_modules/core-js/modules/es.array.map.js");\n/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./node_modules/core-js/modules/es.string.split.js");\n/* harmony import */ var core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js");\n/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("./node_modules/core-js/modules/es.array.slice.js");\n/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("./node_modules/core-js/modules/es.array.concat.js");\n/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("./node_modules/core-js/modules/es.object.values.js");\n/* harmony import */ var core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("./node_modules/core-js/modules/es.string.starts-with.js");\n/* harmony import */ var core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("./node_modules/core-js/modules/es.function.name.js");\n/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_21__);\n/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__("./node_modules/core-js/modules/es.symbol.js");\n/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_22__);\n/* harmony import */ var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__("./node_modules/core-js/modules/es.symbol.description.js");\n/* harmony import */ var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_23__);\n/* harmony import */ var core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js");\n/* harmony import */ var core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_24__);\n/* harmony import */ var core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__("./node_modules/core-js/modules/es.array.from.js");\n/* harmony import */ var core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_25__);\n/* harmony import */ var _index_681e4b07_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__("./node_modules/@storybook/components/dist/esm/index-681e4b07.js");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__("./node_modules/react/index.js");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_27__);\n/* harmony import */ var _storybook_theming__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__("./node_modules/@storybook/theming/dist/esm/index.js");\n/* harmony import */ var memoizerific__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__("./node_modules/memoizerific/src/memoizerific.js");\n/* harmony import */ var memoizerific__WEBPACK_IMPORTED_MODULE_29___default = /*#__PURE__*/__webpack_require__.n(memoizerific__WEBPACK_IMPORTED_MODULE_29__);\n/* harmony import */ var _storybook_csf__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__("./node_modules/@storybook/csf/dist/index.js");\n/* harmony import */ var _storybook_csf__WEBPACK_IMPORTED_MODULE_30___default = /*#__PURE__*/__webpack_require__.n(_storybook_csf__WEBPACK_IMPORTED_MODULE_30__);\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__("./node_modules/qs/lib/index.js");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_31___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_31__);\nvar _ColorPicker, _fallbackColor;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction u() {\n  return (u = Object.assign || function (e) {\n    for (var r = 1; r < arguments.length; r++) {\n      var t = arguments[r];\n\n      for (var n in t) {\n        Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);\n      }\n    }\n\n    return e;\n  }).apply(this, arguments);\n}\n\nfunction c(e, r) {\n  if (null == e) return {};\n  var t,\n      n,\n      o = {},\n      a = Object.keys(e);\n\n  for (n = 0; n < a.length; n++) {\n    r.indexOf(t = a[n]) >= 0 || (o[t] = e[t]);\n  }\n\n  return o;\n}\n\nfunction i(e) {\n  var t = Object(react__WEBPACK_IMPORTED_MODULE_27__["useRef"])(e),\n      n = Object(react__WEBPACK_IMPORTED_MODULE_27__["useRef"])(function (e) {\n    t.current && t.current(e);\n  });\n  return t.current = e, n.current;\n}\n\nvar s = function s(e, r, t) {\n  return void 0 === r && (r = 0), void 0 === t && (t = 1), e > t ? t : e < r ? r : e;\n},\n    f = function f(e) {\n  return "touches" in e;\n},\n    v = function v(e) {\n  return e && e.ownerDocument.defaultView || self;\n},\n    d = function d(e, r, t) {\n  var n = e.getBoundingClientRect(),\n      o = f(r) ? function (e, r) {\n    for (var t = 0; t < e.length; t++) {\n      if (e[t].identifier === r) return e[t];\n    }\n\n    return e[0];\n  }(r.touches, t) : r;\n  return {\n    left: s((o.pageX - (n.left + v(e).pageXOffset)) / n.width),\n    top: s((o.pageY - (n.top + v(e).pageYOffset)) / n.height)\n  };\n},\n    h = function h(e) {\n  !f(e) && e.preventDefault();\n},\n    m = react__WEBPACK_IMPORTED_MODULE_27___default.a.memo(function (o) {\n  var a = o.onMove,\n      l = o.onKey,\n      s = c(o, ["onMove", "onKey"]),\n      m = Object(react__WEBPACK_IMPORTED_MODULE_27__["useRef"])(null),\n      g = i(a),\n      p = i(l),\n      b = Object(react__WEBPACK_IMPORTED_MODULE_27__["useRef"])(null),\n      _ = Object(react__WEBPACK_IMPORTED_MODULE_27__["useRef"])(!1),\n      x = Object(react__WEBPACK_IMPORTED_MODULE_27__["useMemo"])(function () {\n    var e = function e(_e) {\n      h(_e), (f(_e) ? _e.touches.length > 0 : _e.buttons > 0) && m.current ? g(d(m.current, _e, b.current)) : t(!1);\n    },\n        r = function r() {\n      return t(!1);\n    };\n\n    function t(t) {\n      var n = _.current,\n          o = v(m.current),\n          a = t ? o.addEventListener : o.removeEventListener;\n      a(n ? "touchmove" : "mousemove", e), a(n ? "touchend" : "mouseup", r);\n    }\n\n    return [function (e) {\n      var r = e.nativeEvent,\n          n = m.current;\n\n      if (n && (h(r), !function (e, r) {\n        return r && !f(e);\n      }(r, _.current) && n)) {\n        if (f(r)) {\n          _.current = !0;\n          var o = r.changedTouches || [];\n          o.length && (b.current = o[0].identifier);\n        }\n\n        n.focus(), g(d(n, r, b.current)), t(!0);\n      }\n    }, function (e) {\n      var r = e.which || e.keyCode;\n      r < 37 || r > 40 || (e.preventDefault(), p({\n        left: 39 === r ? .05 : 37 === r ? -.05 : 0,\n        top: 40 === r ? .05 : 38 === r ? -.05 : 0\n      }));\n    }, t];\n  }, [p, g]),\n      C = x[0],\n      E = x[1],\n      H = x[2];\n\n  return Object(react__WEBPACK_IMPORTED_MODULE_27__["useEffect"])(function () {\n    return H;\n  }, [H]), react__WEBPACK_IMPORTED_MODULE_27___default.a.createElement("div", u({}, s, {\n    onTouchStart: C,\n    onMouseDown: C,\n    className: "react-colorful__interactive",\n    ref: m,\n    onKeyDown: E,\n    tabIndex: 0,\n    role: "slider"\n  }));\n}),\n    g = function g(e) {\n  return e.filter(Boolean).join(" ");\n},\n    p = function p(r) {\n  var t = r.color,\n      n = r.left,\n      o = r.top,\n      a = void 0 === o ? .5 : o,\n      l = g(["react-colorful__pointer", r.className]);\n  return react__WEBPACK_IMPORTED_MODULE_27___default.a.createElement("div", {\n    className: l,\n    style: {\n      top: 100 * a + "%",\n      left: 100 * n + "%"\n    }\n  }, react__WEBPACK_IMPORTED_MODULE_27___default.a.createElement("div", {\n    className: "react-colorful__pointer-fill",\n    style: {\n      backgroundColor: t\n    }\n  }));\n},\n    b = function b(e, r, t) {\n  return void 0 === r && (r = 0), void 0 === t && (t = Math.pow(10, r)), Math.round(t * e) / t;\n},\n    _ = {\n  grad: .9,\n  turn: 360,\n  rad: 360 / (2 * Math.PI)\n},\n    x = function x(e) {\n  return "#" === e[0] && (e = e.substr(1)), e.length < 6 ? {\n    r: parseInt(e[0] + e[0], 16),\n    g: parseInt(e[1] + e[1], 16),\n    b: parseInt(e[2] + e[2], 16),\n    a: 1\n  } : {\n    r: parseInt(e.substr(0, 2), 16),\n    g: parseInt(e.substr(2, 2), 16),\n    b: parseInt(e.substr(4, 2), 16),\n    a: 1\n  };\n},\n    C = function C(e, r) {\n  return void 0 === r && (r = "deg"), Number(e) * (_[r] || 1);\n},\n    E = function E(e) {\n  var r = /hsla?\\(?\\s*(-?\\d*\\.?\\d+)(deg|rad|grad|turn)?[,\\s]+(-?\\d*\\.?\\d+)%?[,\\s]+(-?\\d*\\.?\\d+)%?,?\\s*[/\\s]*(-?\\d*\\.?\\d+)?(%)?\\s*\\)?/i.exec(e);\n  return r ? M({\n    h: C(r[1], r[2]),\n    s: Number(r[3]),\n    l: Number(r[4]),\n    a: void 0 === r[5] ? 1 : Number(r[5]) / (r[6] ? 100 : 1)\n  }) : {\n    h: 0,\n    s: 0,\n    v: 0,\n    a: 1\n  };\n},\n    M = function M(e) {\n  var r = e.s,\n      t = e.l;\n  return {\n    h: e.h,\n    s: (r *= (t < 50 ? t : 100 - t) / 100) > 0 ? 2 * r / (t + r) * 100 : 0,\n    v: t + r,\n    a: e.a\n  };\n},\n    N = function N(e) {\n  var r = e.s,\n      t = e.v,\n      n = e.a,\n      o = (200 - r) * t / 100;\n  return {\n    h: b(e.h),\n    s: b(o > 0 && o < 200 ? r * t / 100 / (o <= 100 ? o : 200 - o) * 100 : 0),\n    l: b(o / 2),\n    a: b(n, 2)\n  };\n},\n    w = function w(e) {\n  var r = N(e);\n  return "hsl(" + r.h + ", " + r.s + "%, " + r.l + "%)";\n},\n    y = function y(e) {\n  var r = N(e);\n  return "hsla(" + r.h + ", " + r.s + "%, " + r.l + "%, " + r.a + ")";\n},\n    q = function q(e) {\n  var r = e.h,\n      t = e.s,\n      n = e.v,\n      o = e.a;\n  r = r / 360 * 6, t /= 100, n /= 100;\n  var a = Math.floor(r),\n      l = n * (1 - t),\n      u = n * (1 - (r - a) * t),\n      c = n * (1 - (1 - r + a) * t),\n      i = a % 6;\n  return {\n    r: b(255 * [n, u, l, l, c, n][i]),\n    g: b(255 * [c, n, n, u, l, l][i]),\n    b: b(255 * [l, l, c, n, n, u][i]),\n    a: b(o, 2)\n  };\n},\n    I = function I(e) {\n  var r = /rgba?\\(?\\s*(-?\\d*\\.?\\d+)(%)?[,\\s]+(-?\\d*\\.?\\d+)(%)?[,\\s]+(-?\\d*\\.?\\d+)(%)?,?\\s*[/\\s]*(-?\\d*\\.?\\d+)?(%)?\\s*\\)?/i.exec(e);\n  return r ? B({\n    r: Number(r[1]) / (r[2] ? 100 / 255 : 1),\n    g: Number(r[3]) / (r[4] ? 100 / 255 : 1),\n    b: Number(r[5]) / (r[6] ? 100 / 255 : 1),\n    a: void 0 === r[7] ? 1 : Number(r[7]) / (r[8] ? 100 : 1)\n  }) : {\n    h: 0,\n    s: 0,\n    v: 0,\n    a: 1\n  };\n},\n    z = function z(e) {\n  var r = e.toString(16);\n  return r.length < 2 ? "0" + r : r;\n},\n    B = function B(e) {\n  var r = e.r,\n      t = e.g,\n      n = e.b,\n      o = e.a,\n      a = Math.max(r, t, n),\n      l = a - Math.min(r, t, n),\n      u = l ? a === r ? (t - n) / l : a === t ? 2 + (n - r) / l : 4 + (r - t) / l : 0;\n  return {\n    h: b(60 * (u < 0 ? u + 6 : u)),\n    s: b(a ? l / a * 100 : 0),\n    v: b(a / 255 * 100),\n    a: o\n  };\n},\n    K = react__WEBPACK_IMPORTED_MODULE_27___default.a.memo(function (r) {\n  var t = r.hue,\n      n = r.onChange,\n      o = g(["react-colorful__hue", r.className]);\n  return react__WEBPACK_IMPORTED_MODULE_27___default.a.createElement("div", {\n    className: o\n  }, react__WEBPACK_IMPORTED_MODULE_27___default.a.createElement(m, {\n    onMove: function onMove(e) {\n      n({\n        h: 360 * e.left\n      });\n    },\n    onKey: function onKey(e) {\n      n({\n        h: s(t + 360 * e.left, 0, 360)\n      });\n    },\n    "aria-label": "Hue",\n    "aria-valuetext": b(t)\n  }, react__WEBPACK_IMPORTED_MODULE_27___default.a.createElement(p, {\n    className: "react-colorful__hue-pointer",\n    left: t / 360,\n    color: w({\n      h: t,\n      s: 100,\n      v: 100,\n      a: 1\n    })\n  })));\n}),\n    L = react__WEBPACK_IMPORTED_MODULE_27___default.a.memo(function (r) {\n  var t = r.hsva,\n      n = r.onChange,\n      o = {\n    backgroundColor: w({\n      h: t.h,\n      s: 100,\n      v: 100,\n      a: 1\n    })\n  };\n  return react__WEBPACK_IMPORTED_MODULE_27___default.a.createElement("div", {\n    className: "react-colorful__saturation",\n    style: o\n  }, react__WEBPACK_IMPORTED_MODULE_27___default.a.createElement(m, {\n    onMove: function onMove(e) {\n      n({\n        s: 100 * e.left,\n        v: 100 - 100 * e.top\n      });\n    },\n    onKey: function onKey(e) {\n      n({\n        s: s(t.s + 100 * e.left, 0, 100),\n        v: s(t.v - 100 * e.top, 0, 100)\n      });\n    },\n    "aria-label": "Color",\n    "aria-valuetext": "Saturation " + b(t.s) + "%, Brightness " + b(t.v) + "%"\n  }, react__WEBPACK_IMPORTED_MODULE_27___default.a.createElement(p, {\n    className: "react-colorful__saturation-pointer",\n    top: 1 - t.v / 100,\n    left: t.s / 100,\n    color: w(t)\n  })));\n}),\n    A = function A(e, r) {\n  if (e === r) return !0;\n\n  for (var t in e) {\n    if (e[t] !== r[t]) return !1;\n  }\n\n  return !0;\n},\n    S = function S(e, r) {\n  return e.replace(/\\s/g, "") === r.replace(/\\s/g, "");\n};\n\nfunction T(e, t, l) {\n  var u = i(l),\n      c = Object(react__WEBPACK_IMPORTED_MODULE_27__["useState"])(function () {\n    return e.toHsva(t);\n  }),\n      s = c[0],\n      f = c[1],\n      v = Object(react__WEBPACK_IMPORTED_MODULE_27__["useRef"])({\n    color: t,\n    hsva: s\n  });\n  Object(react__WEBPACK_IMPORTED_MODULE_27__["useEffect"])(function () {\n    if (!e.equal(t, v.current.color)) {\n      var r = e.toHsva(t);\n      v.current = {\n        hsva: r,\n        color: t\n      }, f(r);\n    }\n  }, [t, e]), Object(react__WEBPACK_IMPORTED_MODULE_27__["useEffect"])(function () {\n    var r;\n    A(s, v.current.hsva) || e.equal(r = e.fromHsva(s), v.current.color) || (v.current = {\n      hsva: s,\n      color: r\n    }, u(r));\n  }, [s, e, u]);\n  var d = Object(react__WEBPACK_IMPORTED_MODULE_27__["useCallback"])(function (e) {\n    f(function (r) {\n      return Object.assign({}, r, e);\n    });\n  }, []);\n  return [s, d];\n}\n\nvar P = "undefined" != typeof window ? react__WEBPACK_IMPORTED_MODULE_27__["useLayoutEffect"] : react__WEBPACK_IMPORTED_MODULE_27__["useEffect"],\n    X = function X() {\n  return  true ? __webpack_require__.nc : undefined;\n},\n    R = new Map(),\n    V = function V(e) {\n  P(function () {\n    var r = e.current ? e.current.ownerDocument : document;\n\n    if (void 0 !== r && !R.has(r)) {\n      var t = r.createElement("style");\n      t.innerHTML = \'.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\\\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\\\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}\', R.set(r, t);\n      var n = X();\n      n && t.setAttribute("nonce", n), r.head.appendChild(t);\n    }\n  }, []);\n},\n    $ = function $(t) {\n  var n = t.className,\n      o = t.colorModel,\n      a = t.color,\n      l = void 0 === a ? o.defaultColor : a,\n      i = t.onChange,\n      s = c(t, ["className", "colorModel", "color", "onChange"]),\n      f = Object(react__WEBPACK_IMPORTED_MODULE_27__["useRef"])(null);\n  V(f);\n  var v = T(o, l, i),\n      d = v[0],\n      h = v[1],\n      m = g(["react-colorful", n]);\n  return react__WEBPACK_IMPORTED_MODULE_27___default.a.createElement("div", u({}, s, {\n    ref: f,\n    className: m\n  }), react__WEBPACK_IMPORTED_MODULE_27___default.a.createElement(L, {\n    hsva: d,\n    onChange: h\n  }), react__WEBPACK_IMPORTED_MODULE_27___default.a.createElement(K, {\n    hue: d.h,\n    onChange: h,\n    className: "react-colorful__last-control"\n  }));\n},\n    G = {\n  defaultColor: "000",\n  toHsva: function toHsva(e) {\n    return B(x(e));\n  },\n  fromHsva: function fromHsva(e) {\n    return t = (r = q(e)).g, n = r.b, "#" + z(r.r) + z(t) + z(n);\n    var r, t, n;\n  },\n  equal: function equal(e, r) {\n    return e.toLowerCase() === r.toLowerCase() || A(x(e), x(r));\n  }\n},\n    J = function J(r) {\n  return react__WEBPACK_IMPORTED_MODULE_27___default.a.createElement($, u({}, r, {\n    colorModel: G\n  }));\n},\n    Q = function Q(r) {\n  var t = r.className,\n      n = r.hsva,\n      o = r.onChange,\n      a = {\n    backgroundImage: "linear-gradient(90deg, " + y(Object.assign({}, n, {\n      a: 0\n    })) + ", " + y(Object.assign({}, n, {\n      a: 1\n    })) + ")"\n  },\n      l = g(["react-colorful__alpha", t]);\n  return react__WEBPACK_IMPORTED_MODULE_27___default.a.createElement("div", {\n    className: l\n  }, react__WEBPACK_IMPORTED_MODULE_27___default.a.createElement("div", {\n    className: "react-colorful__alpha-gradient",\n    style: a\n  }), react__WEBPACK_IMPORTED_MODULE_27___default.a.createElement(m, {\n    onMove: function onMove(e) {\n      o({\n        a: e.left\n      });\n    },\n    onKey: function onKey(e) {\n      o({\n        a: s(n.a + e.left)\n      });\n    },\n    "aria-label": "Alpha",\n    "aria-valuetext": b(100 * n.a) + "%"\n  }, react__WEBPACK_IMPORTED_MODULE_27___default.a.createElement(p, {\n    className: "react-colorful__alpha-pointer",\n    left: n.a,\n    color: y(n)\n  })));\n},\n    U = function U(t) {\n  var n = t.className,\n      o = t.colorModel,\n      a = t.color,\n      l = void 0 === a ? o.defaultColor : a,\n      i = t.onChange,\n      s = c(t, ["className", "colorModel", "color", "onChange"]),\n      f = Object(react__WEBPACK_IMPORTED_MODULE_27__["useRef"])(null);\n  V(f);\n  var v = T(o, l, i),\n      d = v[0],\n      h = v[1],\n      m = g(["react-colorful", n]);\n  return react__WEBPACK_IMPORTED_MODULE_27___default.a.createElement("div", u({}, s, {\n    ref: f,\n    className: m\n  }), react__WEBPACK_IMPORTED_MODULE_27___default.a.createElement(L, {\n    hsva: d,\n    onChange: h\n  }), react__WEBPACK_IMPORTED_MODULE_27___default.a.createElement(K, {\n    hue: d.h,\n    onChange: h\n  }), react__WEBPACK_IMPORTED_MODULE_27___default.a.createElement(Q, {\n    hsva: d,\n    onChange: h,\n    className: "react-colorful__last-control"\n  }));\n},\n    ee = {\n  defaultColor: "hsla(0, 0%, 0%, 1)",\n  toHsva: E,\n  fromHsva: y,\n  equal: S\n},\n    re = function re(r) {\n  return react__WEBPACK_IMPORTED_MODULE_27___default.a.createElement(U, u({}, r, {\n    colorModel: ee\n  }));\n},\n    ge = {\n  defaultColor: "rgba(0, 0, 0, 1)",\n  toHsva: I,\n  fromHsva: function fromHsva(e) {\n    var r = q(e);\n    return "rgba(" + r.r + ", " + r.g + ", " + r.b + ", " + r.a + ")";\n  },\n  equal: S\n},\n    pe = function pe(r) {\n  return react__WEBPACK_IMPORTED_MODULE_27___default.a.createElement(U, u({}, r, {\n    colorModel: ge\n  }));\n};\n\nvar colorName = {\n  "aliceblue": [240, 248, 255],\n  "antiquewhite": [250, 235, 215],\n  "aqua": [0, 255, 255],\n  "aquamarine": [127, 255, 212],\n  "azure": [240, 255, 255],\n  "beige": [245, 245, 220],\n  "bisque": [255, 228, 196],\n  "black": [0, 0, 0],\n  "blanchedalmond": [255, 235, 205],\n  "blue": [0, 0, 255],\n  "blueviolet": [138, 43, 226],\n  "brown": [165, 42, 42],\n  "burlywood": [222, 184, 135],\n  "cadetblue": [95, 158, 160],\n  "chartreuse": [127, 255, 0],\n  "chocolate": [210, 105, 30],\n  "coral": [255, 127, 80],\n  "cornflowerblue": [100, 149, 237],\n  "cornsilk": [255, 248, 220],\n  "crimson": [220, 20, 60],\n  "cyan": [0, 255, 255],\n  "darkblue": [0, 0, 139],\n  "darkcyan": [0, 139, 139],\n  "darkgoldenrod": [184, 134, 11],\n  "darkgray": [169, 169, 169],\n  "darkgreen": [0, 100, 0],\n  "darkgrey": [169, 169, 169],\n  "darkkhaki": [189, 183, 107],\n  "darkmagenta": [139, 0, 139],\n  "darkolivegreen": [85, 107, 47],\n  "darkorange": [255, 140, 0],\n  "darkorchid": [153, 50, 204],\n  "darkred": [139, 0, 0],\n  "darksalmon": [233, 150, 122],\n  "darkseagreen": [143, 188, 143],\n  "darkslateblue": [72, 61, 139],\n  "darkslategray": [47, 79, 79],\n  "darkslategrey": [47, 79, 79],\n  "darkturquoise": [0, 206, 209],\n  "darkviolet": [148, 0, 211],\n  "deeppink": [255, 20, 147],\n  "deepskyblue": [0, 191, 255],\n  "dimgray": [105, 105, 105],\n  "dimgrey": [105, 105, 105],\n  "dodgerblue": [30, 144, 255],\n  "firebrick": [178, 34, 34],\n  "floralwhite": [255, 250, 240],\n  "forestgreen": [34, 139, 34],\n  "fuchsia": [255, 0, 255],\n  "gainsboro": [220, 220, 220],\n  "ghostwhite": [248, 248, 255],\n  "gold": [255, 215, 0],\n  "goldenrod": [218, 165, 32],\n  "gray": [128, 128, 128],\n  "green": [0, 128, 0],\n  "greenyellow": [173, 255, 47],\n  "grey": [128, 128, 128],\n  "honeydew": [240, 255, 240],\n  "hotpink": [255, 105, 180],\n  "indianred": [205, 92, 92],\n  "indigo": [75, 0, 130],\n  "ivory": [255, 255, 240],\n  "khaki": [240, 230, 140],\n  "lavender": [230, 230, 250],\n  "lavenderblush": [255, 240, 245],\n  "lawngreen": [124, 252, 0],\n  "lemonchiffon": [255, 250, 205],\n  "lightblue": [173, 216, 230],\n  "lightcoral": [240, 128, 128],\n  "lightcyan": [224, 255, 255],\n  "lightgoldenrodyellow": [250, 250, 210],\n  "lightgray": [211, 211, 211],\n  "lightgreen": [144, 238, 144],\n  "lightgrey": [211, 211, 211],\n  "lightpink": [255, 182, 193],\n  "lightsalmon": [255, 160, 122],\n  "lightseagreen": [32, 178, 170],\n  "lightskyblue": [135, 206, 250],\n  "lightslategray": [119, 136, 153],\n  "lightslategrey": [119, 136, 153],\n  "lightsteelblue": [176, 196, 222],\n  "lightyellow": [255, 255, 224],\n  "lime": [0, 255, 0],\n  "limegreen": [50, 205, 50],\n  "linen": [250, 240, 230],\n  "magenta": [255, 0, 255],\n  "maroon": [128, 0, 0],\n  "mediumaquamarine": [102, 205, 170],\n  "mediumblue": [0, 0, 205],\n  "mediumorchid": [186, 85, 211],\n  "mediumpurple": [147, 112, 219],\n  "mediumseagreen": [60, 179, 113],\n  "mediumslateblue": [123, 104, 238],\n  "mediumspringgreen": [0, 250, 154],\n  "mediumturquoise": [72, 209, 204],\n  "mediumvioletred": [199, 21, 133],\n  "midnightblue": [25, 25, 112],\n  "mintcream": [245, 255, 250],\n  "mistyrose": [255, 228, 225],\n  "moccasin": [255, 228, 181],\n  "navajowhite": [255, 222, 173],\n  "navy": [0, 0, 128],\n  "oldlace": [253, 245, 230],\n  "olive": [128, 128, 0],\n  "olivedrab": [107, 142, 35],\n  "orange": [255, 165, 0],\n  "orangered": [255, 69, 0],\n  "orchid": [218, 112, 214],\n  "palegoldenrod": [238, 232, 170],\n  "palegreen": [152, 251, 152],\n  "paleturquoise": [175, 238, 238],\n  "palevioletred": [219, 112, 147],\n  "papayawhip": [255, 239, 213],\n  "peachpuff": [255, 218, 185],\n  "peru": [205, 133, 63],\n  "pink": [255, 192, 203],\n  "plum": [221, 160, 221],\n  "powderblue": [176, 224, 230],\n  "purple": [128, 0, 128],\n  "rebeccapurple": [102, 51, 153],\n  "red": [255, 0, 0],\n  "rosybrown": [188, 143, 143],\n  "royalblue": [65, 105, 225],\n  "saddlebrown": [139, 69, 19],\n  "salmon": [250, 128, 114],\n  "sandybrown": [244, 164, 96],\n  "seagreen": [46, 139, 87],\n  "seashell": [255, 245, 238],\n  "sienna": [160, 82, 45],\n  "silver": [192, 192, 192],\n  "skyblue": [135, 206, 235],\n  "slateblue": [106, 90, 205],\n  "slategray": [112, 128, 144],\n  "slategrey": [112, 128, 144],\n  "snow": [255, 250, 250],\n  "springgreen": [0, 255, 127],\n  "steelblue": [70, 130, 180],\n  "tan": [210, 180, 140],\n  "teal": [0, 128, 128],\n  "thistle": [216, 191, 216],\n  "tomato": [255, 99, 71],\n  "turquoise": [64, 224, 208],\n  "violet": [238, 130, 238],\n  "wheat": [245, 222, 179],\n  "white": [255, 255, 255],\n  "whitesmoke": [245, 245, 245],\n  "yellow": [255, 255, 0],\n  "yellowgreen": [154, 205, 50]\n};\n/* MIT license */\n\n/* eslint-disable no-mixed-operators */\n\nvar cssKeywords = colorName; // NOTE: conversions should only return primitive values (i.e. arrays, or\n//       values that give correct `typeof` results).\n//       do not use box values types (i.e. Number(), String(), etc.)\n\nvar reverseKeywords = {};\n\nfor (var _i = 0, _Object$keys = Object.keys(cssKeywords); _i < _Object$keys.length; _i++) {\n  var key = _Object$keys[_i];\n  reverseKeywords[cssKeywords[key]] = key;\n}\n\nvar convert$1 = {\n  rgb: {\n    channels: 3,\n    labels: \'rgb\'\n  },\n  hsl: {\n    channels: 3,\n    labels: \'hsl\'\n  },\n  hsv: {\n    channels: 3,\n    labels: \'hsv\'\n  },\n  hwb: {\n    channels: 3,\n    labels: \'hwb\'\n  },\n  cmyk: {\n    channels: 4,\n    labels: \'cmyk\'\n  },\n  xyz: {\n    channels: 3,\n    labels: \'xyz\'\n  },\n  lab: {\n    channels: 3,\n    labels: \'lab\'\n  },\n  lch: {\n    channels: 3,\n    labels: \'lch\'\n  },\n  hex: {\n    channels: 1,\n    labels: [\'hex\']\n  },\n  keyword: {\n    channels: 1,\n    labels: [\'keyword\']\n  },\n  ansi16: {\n    channels: 1,\n    labels: [\'ansi16\']\n  },\n  ansi256: {\n    channels: 1,\n    labels: [\'ansi256\']\n  },\n  hcg: {\n    channels: 3,\n    labels: [\'h\', \'c\', \'g\']\n  },\n  apple: {\n    channels: 3,\n    labels: [\'r16\', \'g16\', \'b16\']\n  },\n  gray: {\n    channels: 1,\n    labels: [\'gray\']\n  }\n};\nvar conversions$2 = convert$1; // Hide .channels and .labels properties\n\nfor (var _i2 = 0, _Object$keys2 = Object.keys(convert$1); _i2 < _Object$keys2.length; _i2++) {\n  var model = _Object$keys2[_i2];\n\n  if (!(\'channels\' in convert$1[model])) {\n    throw new Error(\'missing channels property: \' + model);\n  }\n\n  if (!(\'labels\' in convert$1[model])) {\n    throw new Error(\'missing channel labels property: \' + model);\n  }\n\n  if (convert$1[model].labels.length !== convert$1[model].channels) {\n    throw new Error(\'channel and label counts mismatch: \' + model);\n  }\n\n  var _convert$1$model = convert$1[model],\n      channels = _convert$1$model.channels,\n      labels = _convert$1$model.labels;\n  delete convert$1[model].channels;\n  delete convert$1[model].labels;\n  Object.defineProperty(convert$1[model], \'channels\', {\n    value: channels\n  });\n  Object.defineProperty(convert$1[model], \'labels\', {\n    value: labels\n  });\n}\n\nconvert$1.rgb.hsl = function (rgb) {\n  var r = rgb[0] / 255;\n  var g = rgb[1] / 255;\n  var b = rgb[2] / 255;\n  var min = Math.min(r, g, b);\n  var max = Math.max(r, g, b);\n  var delta = max - min;\n  var h;\n  var s;\n\n  if (max === min) {\n    h = 0;\n  } else if (r === max) {\n    h = (g - b) / delta;\n  } else if (g === max) {\n    h = 2 + (b - r) / delta;\n  } else if (b === max) {\n    h = 4 + (r - g) / delta;\n  }\n\n  h = Math.min(h * 60, 360);\n\n  if (h < 0) {\n    h += 360;\n  }\n\n  var l = (min + max) / 2;\n\n  if (max === min) {\n    s = 0;\n  } else if (l <= 0.5) {\n    s = delta / (max + min);\n  } else {\n    s = delta / (2 - max - min);\n  }\n\n  return [h, s * 100, l * 100];\n};\n\nconvert$1.rgb.hsv = function (rgb) {\n  var rdif;\n  var gdif;\n  var bdif;\n  var h;\n  var s;\n  var r = rgb[0] / 255;\n  var g = rgb[1] / 255;\n  var b = rgb[2] / 255;\n  var v = Math.max(r, g, b);\n  var diff = v - Math.min(r, g, b);\n\n  var diffc = function diffc(c) {\n    return (v - c) / 6 / diff + 1 / 2;\n  };\n\n  if (diff === 0) {\n    h = 0;\n    s = 0;\n  } else {\n    s = diff / v;\n    rdif = diffc(r);\n    gdif = diffc(g);\n    bdif = diffc(b);\n\n    if (r === v) {\n      h = bdif - gdif;\n    } else if (g === v) {\n      h = 1 / 3 + rdif - bdif;\n    } else if (b === v) {\n      h = 2 / 3 + gdif - rdif;\n    }\n\n    if (h < 0) {\n      h += 1;\n    } else if (h > 1) {\n      h -= 1;\n    }\n  }\n\n  return [h * 360, s * 100, v * 100];\n};\n\nconvert$1.rgb.hwb = function (rgb) {\n  var r = rgb[0];\n  var g = rgb[1];\n  var b = rgb[2];\n  var h = convert$1.rgb.hsl(rgb)[0];\n  var w = 1 / 255 * Math.min(r, Math.min(g, b));\n  b = 1 - 1 / 255 * Math.max(r, Math.max(g, b));\n  return [h, w * 100, b * 100];\n};\n\nconvert$1.rgb.cmyk = function (rgb) {\n  var r = rgb[0] / 255;\n  var g = rgb[1] / 255;\n  var b = rgb[2] / 255;\n  var k = Math.min(1 - r, 1 - g, 1 - b);\n  var c = (1 - r - k) / (1 - k) || 0;\n  var m = (1 - g - k) / (1 - k) || 0;\n  var y = (1 - b - k) / (1 - k) || 0;\n  return [c * 100, m * 100, y * 100, k * 100];\n};\n\nfunction comparativeDistance(x, y) {\n  /*\n  \tSee https://en.m.wikipedia.org/wiki/Euclidean_distance#Squared_Euclidean_distance\n  */\n  return Math.pow(x[0] - y[0], 2) + Math.pow(x[1] - y[1], 2) + Math.pow(x[2] - y[2], 2);\n}\n\nconvert$1.rgb.keyword = function (rgb) {\n  var reversed = reverseKeywords[rgb];\n\n  if (reversed) {\n    return reversed;\n  }\n\n  var currentClosestDistance = Infinity;\n  var currentClosestKeyword;\n\n  for (var _i3 = 0, _Object$keys3 = Object.keys(cssKeywords); _i3 < _Object$keys3.length; _i3++) {\n    var keyword = _Object$keys3[_i3];\n    var value = cssKeywords[keyword]; // Compute comparative distance\n\n    var distance = comparativeDistance(rgb, value); // Check if its less, if so set as closest\n\n    if (distance < currentClosestDistance) {\n      currentClosestDistance = distance;\n      currentClosestKeyword = keyword;\n    }\n  }\n\n  return currentClosestKeyword;\n};\n\nconvert$1.keyword.rgb = function (keyword) {\n  return cssKeywords[keyword];\n};\n\nconvert$1.rgb.xyz = function (rgb) {\n  var r = rgb[0] / 255;\n  var g = rgb[1] / 255;\n  var b = rgb[2] / 255; // Assume sRGB\n\n  r = r > 0.04045 ? Math.pow((r + 0.055) / 1.055, 2.4) : r / 12.92;\n  g = g > 0.04045 ? Math.pow((g + 0.055) / 1.055, 2.4) : g / 12.92;\n  b = b > 0.04045 ? Math.pow((b + 0.055) / 1.055, 2.4) : b / 12.92;\n  var x = r * 0.4124 + g * 0.3576 + b * 0.1805;\n  var y = r * 0.2126 + g * 0.7152 + b * 0.0722;\n  var z = r * 0.0193 + g * 0.1192 + b * 0.9505;\n  return [x * 100, y * 100, z * 100];\n};\n\nconvert$1.rgb.lab = function (rgb) {\n  var xyz = convert$1.rgb.xyz(rgb);\n  var x = xyz[0];\n  var y = xyz[1];\n  var z = xyz[2];\n  x /= 95.047;\n  y /= 100;\n  z /= 108.883;\n  x = x > 0.008856 ? Math.pow(x, 1 / 3) : 7.787 * x + 16 / 116;\n  y = y > 0.008856 ? Math.pow(y, 1 / 3) : 7.787 * y + 16 / 116;\n  z = z > 0.008856 ? Math.pow(z, 1 / 3) : 7.787 * z + 16 / 116;\n  var l = 116 * y - 16;\n  var a = 500 * (x - y);\n  var b = 200 * (y - z);\n  return [l, a, b];\n};\n\nconvert$1.hsl.rgb = function (hsl) {\n  var h = hsl[0] / 360;\n  var s = hsl[1] / 100;\n  var l = hsl[2] / 100;\n  var t2;\n  var t3;\n  var val;\n\n  if (s === 0) {\n    val = l * 255;\n    return [val, val, val];\n  }\n\n  if (l < 0.5) {\n    t2 = l * (1 + s);\n  } else {\n    t2 = l + s - l * s;\n  }\n\n  var t1 = 2 * l - t2;\n  var rgb = [0, 0, 0];\n\n  for (var _i4 = 0; _i4 < 3; _i4++) {\n    t3 = h + 1 / 3 * -(_i4 - 1);\n\n    if (t3 < 0) {\n      t3++;\n    }\n\n    if (t3 > 1) {\n      t3--;\n    }\n\n    if (6 * t3 < 1) {\n      val = t1 + (t2 - t1) * 6 * t3;\n    } else if (2 * t3 < 1) {\n      val = t2;\n    } else if (3 * t3 < 2) {\n      val = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n    } else {\n      val = t1;\n    }\n\n    rgb[_i4] = val * 255;\n  }\n\n  return rgb;\n};\n\nconvert$1.hsl.hsv = function (hsl) {\n  var h = hsl[0];\n  var s = hsl[1] / 100;\n  var l = hsl[2] / 100;\n  var smin = s;\n  var lmin = Math.max(l, 0.01);\n  l *= 2;\n  s *= l <= 1 ? l : 2 - l;\n  smin *= lmin <= 1 ? lmin : 2 - lmin;\n  var v = (l + s) / 2;\n  var sv = l === 0 ? 2 * smin / (lmin + smin) : 2 * s / (l + s);\n  return [h, sv * 100, v * 100];\n};\n\nconvert$1.hsv.rgb = function (hsv) {\n  var h = hsv[0] / 60;\n  var s = hsv[1] / 100;\n  var v = hsv[2] / 100;\n  var hi = Math.floor(h) % 6;\n  var f = h - Math.floor(h);\n  var p = 255 * v * (1 - s);\n  var q = 255 * v * (1 - s * f);\n  var t = 255 * v * (1 - s * (1 - f));\n  v *= 255;\n\n  switch (hi) {\n    case 0:\n      return [v, t, p];\n\n    case 1:\n      return [q, v, p];\n\n    case 2:\n      return [p, v, t];\n\n    case 3:\n      return [p, q, v];\n\n    case 4:\n      return [t, p, v];\n\n    case 5:\n      return [v, p, q];\n  }\n};\n\nconvert$1.hsv.hsl = function (hsv) {\n  var h = hsv[0];\n  var s = hsv[1] / 100;\n  var v = hsv[2] / 100;\n  var vmin = Math.max(v, 0.01);\n  var sl;\n  var l;\n  l = (2 - s) * v;\n  var lmin = (2 - s) * vmin;\n  sl = s * vmin;\n  sl /= lmin <= 1 ? lmin : 2 - lmin;\n  sl = sl || 0;\n  l /= 2;\n  return [h, sl * 100, l * 100];\n}; // http://dev.w3.org/csswg/css-color/#hwb-to-rgb\n\n\nconvert$1.hwb.rgb = function (hwb) {\n  var h = hwb[0] / 360;\n  var wh = hwb[1] / 100;\n  var bl = hwb[2] / 100;\n  var ratio = wh + bl;\n  var f; // Wh + bl cant be > 1\n\n  if (ratio > 1) {\n    wh /= ratio;\n    bl /= ratio;\n  }\n\n  var i = Math.floor(6 * h);\n  var v = 1 - bl;\n  f = 6 * h - i;\n\n  if ((i & 0x01) !== 0) {\n    f = 1 - f;\n  }\n\n  var n = wh + f * (v - wh); // Linear interpolation\n\n  var r;\n  var g;\n  var b;\n  /* eslint-disable max-statements-per-line,no-multi-spaces */\n\n  switch (i) {\n    default:\n    case 6:\n    case 0:\n      r = v;\n      g = n;\n      b = wh;\n      break;\n\n    case 1:\n      r = n;\n      g = v;\n      b = wh;\n      break;\n\n    case 2:\n      r = wh;\n      g = v;\n      b = n;\n      break;\n\n    case 3:\n      r = wh;\n      g = n;\n      b = v;\n      break;\n\n    case 4:\n      r = n;\n      g = wh;\n      b = v;\n      break;\n\n    case 5:\n      r = v;\n      g = wh;\n      b = n;\n      break;\n  }\n  /* eslint-enable max-statements-per-line,no-multi-spaces */\n\n\n  return [r * 255, g * 255, b * 255];\n};\n\nconvert$1.cmyk.rgb = function (cmyk) {\n  var c = cmyk[0] / 100;\n  var m = cmyk[1] / 100;\n  var y = cmyk[2] / 100;\n  var k = cmyk[3] / 100;\n  var r = 1 - Math.min(1, c * (1 - k) + k);\n  var g = 1 - Math.min(1, m * (1 - k) + k);\n  var b = 1 - Math.min(1, y * (1 - k) + k);\n  return [r * 255, g * 255, b * 255];\n};\n\nconvert$1.xyz.rgb = function (xyz) {\n  var x = xyz[0] / 100;\n  var y = xyz[1] / 100;\n  var z = xyz[2] / 100;\n  var r;\n  var g;\n  var b;\n  r = x * 3.2406 + y * -1.5372 + z * -0.4986;\n  g = x * -0.9689 + y * 1.8758 + z * 0.0415;\n  b = x * 0.0557 + y * -0.2040 + z * 1.0570; // Assume sRGB\n\n  r = r > 0.0031308 ? 1.055 * Math.pow(r, 1.0 / 2.4) - 0.055 : r * 12.92;\n  g = g > 0.0031308 ? 1.055 * Math.pow(g, 1.0 / 2.4) - 0.055 : g * 12.92;\n  b = b > 0.0031308 ? 1.055 * Math.pow(b, 1.0 / 2.4) - 0.055 : b * 12.92;\n  r = Math.min(Math.max(0, r), 1);\n  g = Math.min(Math.max(0, g), 1);\n  b = Math.min(Math.max(0, b), 1);\n  return [r * 255, g * 255, b * 255];\n};\n\nconvert$1.xyz.lab = function (xyz) {\n  var x = xyz[0];\n  var y = xyz[1];\n  var z = xyz[2];\n  x /= 95.047;\n  y /= 100;\n  z /= 108.883;\n  x = x > 0.008856 ? Math.pow(x, 1 / 3) : 7.787 * x + 16 / 116;\n  y = y > 0.008856 ? Math.pow(y, 1 / 3) : 7.787 * y + 16 / 116;\n  z = z > 0.008856 ? Math.pow(z, 1 / 3) : 7.787 * z + 16 / 116;\n  var l = 116 * y - 16;\n  var a = 500 * (x - y);\n  var b = 200 * (y - z);\n  return [l, a, b];\n};\n\nconvert$1.lab.xyz = function (lab) {\n  var l = lab[0];\n  var a = lab[1];\n  var b = lab[2];\n  var x;\n  var y;\n  var z;\n  y = (l + 16) / 116;\n  x = a / 500 + y;\n  z = y - b / 200;\n  var y2 = Math.pow(y, 3);\n  var x2 = Math.pow(x, 3);\n  var z2 = Math.pow(z, 3);\n  y = y2 > 0.008856 ? y2 : (y - 16 / 116) / 7.787;\n  x = x2 > 0.008856 ? x2 : (x - 16 / 116) / 7.787;\n  z = z2 > 0.008856 ? z2 : (z - 16 / 116) / 7.787;\n  x *= 95.047;\n  y *= 100;\n  z *= 108.883;\n  return [x, y, z];\n};\n\nconvert$1.lab.lch = function (lab) {\n  var l = lab[0];\n  var a = lab[1];\n  var b = lab[2];\n  var h;\n  var hr = Math.atan2(b, a);\n  h = hr * 360 / 2 / Math.PI;\n\n  if (h < 0) {\n    h += 360;\n  }\n\n  var c = Math.sqrt(a * a + b * b);\n  return [l, c, h];\n};\n\nconvert$1.lch.lab = function (lch) {\n  var l = lch[0];\n  var c = lch[1];\n  var h = lch[2];\n  var hr = h / 360 * 2 * Math.PI;\n  var a = c * Math.cos(hr);\n  var b = c * Math.sin(hr);\n  return [l, a, b];\n};\n\nconvert$1.rgb.ansi16 = function (args) {\n  var saturation = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  var _args = _slicedToArray(args, 3),\n      r = _args[0],\n      g = _args[1],\n      b = _args[2];\n\n  var value = saturation === null ? convert$1.rgb.hsv(args)[2] : saturation; // Hsv -> ansi16 optimization\n\n  value = Math.round(value / 50);\n\n  if (value === 0) {\n    return 30;\n  }\n\n  var ansi = 30 + (Math.round(b / 255) << 2 | Math.round(g / 255) << 1 | Math.round(r / 255));\n\n  if (value === 2) {\n    ansi += 60;\n  }\n\n  return ansi;\n};\n\nconvert$1.hsv.ansi16 = function (args) {\n  // Optimization here; we already know the value and don\'t need to get\n  // it converted for us.\n  return convert$1.rgb.ansi16(convert$1.hsv.rgb(args), args[2]);\n};\n\nconvert$1.rgb.ansi256 = function (args) {\n  var r = args[0];\n  var g = args[1];\n  var b = args[2]; // We use the extended greyscale palette here, with the exception of\n  // black and white. normal palette only has 4 greyscale shades.\n\n  if (r === g && g === b) {\n    if (r < 8) {\n      return 16;\n    }\n\n    if (r > 248) {\n      return 231;\n    }\n\n    return Math.round((r - 8) / 247 * 24) + 232;\n  }\n\n  var ansi = 16 + 36 * Math.round(r / 255 * 5) + 6 * Math.round(g / 255 * 5) + Math.round(b / 255 * 5);\n  return ansi;\n};\n\nconvert$1.ansi16.rgb = function (args) {\n  var color = args % 10; // Handle greyscale\n\n  if (color === 0 || color === 7) {\n    if (args > 50) {\n      color += 3.5;\n    }\n\n    color = color / 10.5 * 255;\n    return [color, color, color];\n  }\n\n  var mult = (~~(args > 50) + 1) * 0.5;\n  var r = (color & 1) * mult * 255;\n  var g = (color >> 1 & 1) * mult * 255;\n  var b = (color >> 2 & 1) * mult * 255;\n  return [r, g, b];\n};\n\nconvert$1.ansi256.rgb = function (args) {\n  // Handle greyscale\n  if (args >= 232) {\n    var _c = (args - 232) * 10 + 8;\n\n    return [_c, _c, _c];\n  }\n\n  args -= 16;\n  var rem;\n  var r = Math.floor(args / 36) / 5 * 255;\n  var g = Math.floor((rem = args % 36) / 6) / 5 * 255;\n  var b = rem % 6 / 5 * 255;\n  return [r, g, b];\n};\n\nconvert$1.rgb.hex = function (args) {\n  var integer = ((Math.round(args[0]) & 0xFF) << 16) + ((Math.round(args[1]) & 0xFF) << 8) + (Math.round(args[2]) & 0xFF);\n  var string = integer.toString(16).toUpperCase();\n  return \'000000\'.substring(string.length) + string;\n};\n\nconvert$1.hex.rgb = function (args) {\n  var match = args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);\n\n  if (!match) {\n    return [0, 0, 0];\n  }\n\n  var colorString = match[0];\n\n  if (match[0].length === 3) {\n    colorString = colorString.split(\'\').map(function (char) {\n      return char + char;\n    }).join(\'\');\n  }\n\n  var integer = parseInt(colorString, 16);\n  var r = integer >> 16 & 0xFF;\n  var g = integer >> 8 & 0xFF;\n  var b = integer & 0xFF;\n  return [r, g, b];\n};\n\nconvert$1.rgb.hcg = function (rgb) {\n  var r = rgb[0] / 255;\n  var g = rgb[1] / 255;\n  var b = rgb[2] / 255;\n  var max = Math.max(Math.max(r, g), b);\n  var min = Math.min(Math.min(r, g), b);\n  var chroma = max - min;\n  var grayscale;\n  var hue;\n\n  if (chroma < 1) {\n    grayscale = min / (1 - chroma);\n  } else {\n    grayscale = 0;\n  }\n\n  if (chroma <= 0) {\n    hue = 0;\n  } else if (max === r) {\n    hue = (g - b) / chroma % 6;\n  } else if (max === g) {\n    hue = 2 + (b - r) / chroma;\n  } else {\n    hue = 4 + (r - g) / chroma;\n  }\n\n  hue /= 6;\n  hue %= 1;\n  return [hue * 360, chroma * 100, grayscale * 100];\n};\n\nconvert$1.hsl.hcg = function (hsl) {\n  var s = hsl[1] / 100;\n  var l = hsl[2] / 100;\n  var c = l < 0.5 ? 2.0 * s * l : 2.0 * s * (1.0 - l);\n  var f = 0;\n\n  if (c < 1.0) {\n    f = (l - 0.5 * c) / (1.0 - c);\n  }\n\n  return [hsl[0], c * 100, f * 100];\n};\n\nconvert$1.hsv.hcg = function (hsv) {\n  var s = hsv[1] / 100;\n  var v = hsv[2] / 100;\n  var c = s * v;\n  var f = 0;\n\n  if (c < 1.0) {\n    f = (v - c) / (1 - c);\n  }\n\n  return [hsv[0], c * 100, f * 100];\n};\n\nconvert$1.hcg.rgb = function (hcg) {\n  var h = hcg[0] / 360;\n  var c = hcg[1] / 100;\n  var g = hcg[2] / 100;\n\n  if (c === 0.0) {\n    return [g * 255, g * 255, g * 255];\n  }\n\n  var pure = [0, 0, 0];\n  var hi = h % 1 * 6;\n  var v = hi % 1;\n  var w = 1 - v;\n  var mg = 0;\n  /* eslint-disable max-statements-per-line */\n\n  switch (Math.floor(hi)) {\n    case 0:\n      pure[0] = 1;\n      pure[1] = v;\n      pure[2] = 0;\n      break;\n\n    case 1:\n      pure[0] = w;\n      pure[1] = 1;\n      pure[2] = 0;\n      break;\n\n    case 2:\n      pure[0] = 0;\n      pure[1] = 1;\n      pure[2] = v;\n      break;\n\n    case 3:\n      pure[0] = 0;\n      pure[1] = w;\n      pure[2] = 1;\n      break;\n\n    case 4:\n      pure[0] = v;\n      pure[1] = 0;\n      pure[2] = 1;\n      break;\n\n    default:\n      pure[0] = 1;\n      pure[1] = 0;\n      pure[2] = w;\n  }\n  /* eslint-enable max-statements-per-line */\n\n\n  mg = (1.0 - c) * g;\n  return [(c * pure[0] + mg) * 255, (c * pure[1] + mg) * 255, (c * pure[2] + mg) * 255];\n};\n\nconvert$1.hcg.hsv = function (hcg) {\n  var c = hcg[1] / 100;\n  var g = hcg[2] / 100;\n  var v = c + g * (1.0 - c);\n  var f = 0;\n\n  if (v > 0.0) {\n    f = c / v;\n  }\n\n  return [hcg[0], f * 100, v * 100];\n};\n\nconvert$1.hcg.hsl = function (hcg) {\n  var c = hcg[1] / 100;\n  var g = hcg[2] / 100;\n  var l = g * (1.0 - c) + 0.5 * c;\n  var s = 0;\n\n  if (l > 0.0 && l < 0.5) {\n    s = c / (2 * l);\n  } else if (l >= 0.5 && l < 1.0) {\n    s = c / (2 * (1 - l));\n  }\n\n  return [hcg[0], s * 100, l * 100];\n};\n\nconvert$1.hcg.hwb = function (hcg) {\n  var c = hcg[1] / 100;\n  var g = hcg[2] / 100;\n  var v = c + g * (1.0 - c);\n  return [hcg[0], (v - c) * 100, (1 - v) * 100];\n};\n\nconvert$1.hwb.hcg = function (hwb) {\n  var w = hwb[1] / 100;\n  var b = hwb[2] / 100;\n  var v = 1 - b;\n  var c = v - w;\n  var g = 0;\n\n  if (c < 1) {\n    g = (v - c) / (1 - c);\n  }\n\n  return [hwb[0], c * 100, g * 100];\n};\n\nconvert$1.apple.rgb = function (apple) {\n  return [apple[0] / 65535 * 255, apple[1] / 65535 * 255, apple[2] / 65535 * 255];\n};\n\nconvert$1.rgb.apple = function (rgb) {\n  return [rgb[0] / 255 * 65535, rgb[1] / 255 * 65535, rgb[2] / 255 * 65535];\n};\n\nconvert$1.gray.rgb = function (args) {\n  return [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];\n};\n\nconvert$1.gray.hsl = function (args) {\n  return [0, 0, args[0]];\n};\n\nconvert$1.gray.hsv = convert$1.gray.hsl;\n\nconvert$1.gray.hwb = function (gray) {\n  return [0, 100, gray[0]];\n};\n\nconvert$1.gray.cmyk = function (gray) {\n  return [0, 0, 0, gray[0]];\n};\n\nconvert$1.gray.lab = function (gray) {\n  return [gray[0], 0, 0];\n};\n\nconvert$1.gray.hex = function (gray) {\n  var val = Math.round(gray[0] / 100 * 255) & 0xFF;\n  var integer = (val << 16) + (val << 8) + val;\n  var string = integer.toString(16).toUpperCase();\n  return \'000000\'.substring(string.length) + string;\n};\n\nconvert$1.rgb.gray = function (rgb) {\n  var val = (rgb[0] + rgb[1] + rgb[2]) / 3;\n  return [val / 255 * 100];\n};\n\nvar conversions$1 = conversions$2;\n/*\n\tThis function routes a model to all other models.\n\n\tall functions that are routed have a property `.conversion` attached\n\tto the returned synthetic function. This property is an array\n\tof strings, each with the steps in between the \'from\' and \'to\'\n\tcolor models (inclusive).\n\n\tconversions that are not possible simply are not included.\n*/\n\nfunction buildGraph() {\n  var graph = {}; // https://jsperf.com/object-keys-vs-for-in-with-closure/3\n\n  var models = Object.keys(conversions$1);\n\n  for (var len = models.length, _i5 = 0; _i5 < len; _i5++) {\n    graph[models[_i5]] = {\n      // http://jsperf.com/1-vs-infinity\n      // micro-opt, but this is simple.\n      distance: -1,\n      parent: null\n    };\n  }\n\n  return graph;\n} // https://en.wikipedia.org/wiki/Breadth-first_search\n\n\nfunction deriveBFS(fromModel) {\n  var graph = buildGraph();\n  var queue = [fromModel]; // Unshift -> queue -> pop\n\n  graph[fromModel].distance = 0;\n\n  while (queue.length) {\n    var current = queue.pop();\n    var adjacents = Object.keys(conversions$1[current]);\n\n    for (var len = adjacents.length, _i6 = 0; _i6 < len; _i6++) {\n      var adjacent = adjacents[_i6];\n      var node = graph[adjacent];\n\n      if (node.distance === -1) {\n        node.distance = graph[current].distance + 1;\n        node.parent = current;\n        queue.unshift(adjacent);\n      }\n    }\n  }\n\n  return graph;\n}\n\nfunction link(from, to) {\n  return function (args) {\n    return to(from(args));\n  };\n}\n\nfunction wrapConversion(toModel, graph) {\n  var path = [graph[toModel].parent, toModel];\n  var fn = conversions$1[graph[toModel].parent][toModel];\n  var cur = graph[toModel].parent;\n\n  while (graph[cur].parent) {\n    path.unshift(graph[cur].parent);\n    fn = link(conversions$1[graph[cur].parent][cur], fn);\n    cur = graph[cur].parent;\n  }\n\n  fn.conversion = path;\n  return fn;\n}\n\nvar route$1 = function route$1(fromModel) {\n  var graph = deriveBFS(fromModel);\n  var conversion = {};\n  var models = Object.keys(graph);\n\n  for (var len = models.length, _i7 = 0; _i7 < len; _i7++) {\n    var toModel = models[_i7];\n    var node = graph[toModel];\n\n    if (node.parent === null) {\n      // No possible conversion, or this node is the source model.\n      continue;\n    }\n\n    conversion[toModel] = wrapConversion(toModel, graph);\n  }\n\n  return conversion;\n};\n\nvar conversions = conversions$2;\nvar route = route$1;\nvar convert = {};\nvar models = Object.keys(conversions);\n\nfunction wrapRaw(fn) {\n  var wrappedFn = function wrappedFn() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var arg0 = args[0];\n\n    if (arg0 === undefined || arg0 === null) {\n      return arg0;\n    }\n\n    if (arg0.length > 1) {\n      args = arg0;\n    }\n\n    return fn(args);\n  }; // Preserve .conversion property if there is one\n\n\n  if (\'conversion\' in fn) {\n    wrappedFn.conversion = fn.conversion;\n  }\n\n  return wrappedFn;\n}\n\nfunction wrapRounded(fn) {\n  var wrappedFn = function wrappedFn() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    var arg0 = args[0];\n\n    if (arg0 === undefined || arg0 === null) {\n      return arg0;\n    }\n\n    if (arg0.length > 1) {\n      args = arg0;\n    }\n\n    var result = fn(args); // We\'re assuming the result is an array here.\n    // see notice in conversions.js; don\'t use box types\n    // in conversion functions.\n\n    if (_typeof(result) === \'object\') {\n      for (var len = result.length, _i8 = 0; _i8 < len; _i8++) {\n        result[_i8] = Math.round(result[_i8]);\n      }\n    }\n\n    return result;\n  }; // Preserve .conversion property if there is one\n\n\n  if (\'conversion\' in fn) {\n    wrappedFn.conversion = fn.conversion;\n  }\n\n  return wrappedFn;\n}\n\nmodels.forEach(function (fromModel) {\n  convert[fromModel] = {};\n  Object.defineProperty(convert[fromModel], \'channels\', {\n    value: conversions[fromModel].channels\n  });\n  Object.defineProperty(convert[fromModel], \'labels\', {\n    value: conversions[fromModel].labels\n  });\n  var routes = route(fromModel);\n  var routeModels = Object.keys(routes);\n  routeModels.forEach(function (toModel) {\n    var fn = routes[toModel];\n    convert[fromModel][toModel] = wrapRounded(fn);\n    convert[fromModel][toModel].raw = wrapRaw(fn);\n  });\n});\nvar colorConvert = convert;\nvar root = _index_681e4b07_js__WEBPACK_IMPORTED_MODULE_26__[/* u */ "Z"];\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\n\nvar now$1 = function now$1() {\n  return root.Date.now();\n};\n\nvar now_1 = now$1;\n/** Used to match a single whitespace character. */\n\nvar reWhitespace = /\\s/;\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\n\nfunction trimmedEndIndex$1(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n\n  return index;\n}\n\nvar _trimmedEndIndex = trimmedEndIndex$1;\nvar trimmedEndIndex = _trimmedEndIndex;\n/** Used to match leading whitespace. */\n\nvar reTrimStart = /^\\s+/;\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\n\nfunction baseTrim$1(string) {\n  return string ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, \'\') : string;\n}\n\nvar _baseTrim = baseTrim$1;\nvar baseTrim = _baseTrim,\n    isObject$2 = _index_681e4b07_js__WEBPACK_IMPORTED_MODULE_26__[/* x */ "cb"],\n    isSymbol = _index_681e4b07_js__WEBPACK_IMPORTED_MODULE_26__[/* y */ "db"];\n/** Used as references for various `Number` constants. */\n\nvar NAN = 0 / 0;\n/** Used to detect bad signed hexadecimal string values. */\n\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n/** Used to detect binary string values. */\n\nvar reIsBinary = /^0b[01]+$/i;\n/** Used to detect octal string values. */\n\nvar reIsOctal = /^0o[0-7]+$/i;\n/** Built-in method references without a dependency on `root`. */\n\nvar freeParseInt = parseInt;\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber(\'3.2\');\n * // => 3.2\n */\n\nfunction toNumber$1(value) {\n  if (typeof value == \'number\') {\n    return value;\n  }\n\n  if (isSymbol(value)) {\n    return NAN;\n  }\n\n  if (isObject$2(value)) {\n    var other = typeof value.valueOf == \'function\' ? value.valueOf() : value;\n    value = isObject$2(other) ? other + \'\' : other;\n  }\n\n  if (typeof value != \'string\') {\n    return value === 0 ? value : +value;\n  }\n\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n}\n\nvar toNumber_1 = toNumber$1;\nvar isObject$1 = _index_681e4b07_js__WEBPACK_IMPORTED_MODULE_26__[/* x */ "cb"],\n    now = now_1,\n    toNumber = toNumber_1;\n/** Error message constants. */\n\nvar FUNC_ERROR_TEXT$1 = \'Expected a function\';\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho\'s article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it\'s invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on(\'resize\', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on(\'click\', _.debounce(sendMail, 300, {\n *   \'leading\': true,\n *   \'trailing\': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { \'maxWait\': 1000 });\n * var source = new EventSource(\'/stream\');\n * jQuery(source).on(\'message\', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on(\'popstate\', debounced.cancel);\n */\n\nfunction debounce$1(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != \'function\') {\n    throw new TypeError(FUNC_ERROR_TEXT$1);\n  }\n\n  wait = toNumber(wait) || 0;\n\n  if (isObject$1(options)) {\n    leading = !!options.leading;\n    maxing = \'maxWait\' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = \'trailing\' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time; // Start the timer for the trailing edge.\n\n    timerId = setTimeout(timerExpired, wait); // Invoke the leading edge.\n\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n    return maxing ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime; // Either this is the first call, activity has stopped and we\'re at the\n    // trailing edge, the system time has gone backwards and we\'re treating\n    // it as the trailing edge, or we\'ve hit the `maxWait` limit.\n\n    return lastCallTime === undefined || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n\n  function timerExpired() {\n    var time = now();\n\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    } // Restart the timer.\n\n\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined; // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n\n    return result;\n  }\n\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nvar debounce_1 = debounce$1;\nvar debounce = debounce_1,\n    isObject = _index_681e4b07_js__WEBPACK_IMPORTED_MODULE_26__[/* x */ "cb"];\n/** Error message constants. */\n\nvar FUNC_ERROR_TEXT = \'Expected a function\';\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho\'s article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on(\'scroll\', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { \'trailing\': false });\n * jQuery(element).on(\'click\', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on(\'popstate\', throttled.cancel);\n */\n\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != \'function\') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n\n  if (isObject(options)) {\n    leading = \'leading\' in options ? !!options.leading : leading;\n    trailing = \'trailing\' in options ? !!options.trailing : trailing;\n  }\n\n  return debounce(func, wait, {\n    \'leading\': leading,\n    \'maxWait\': wait,\n    \'trailing\': trailing\n  });\n}\n\nvar throttle_1 = throttle;\nvar Wrapper = _storybook_theming__WEBPACK_IMPORTED_MODULE_28__["styled"].div({\n  position: \'relative\',\n  maxWidth: 250\n});\nvar PickerTooltip = Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_28__["styled"])(_index_681e4b07_js__WEBPACK_IMPORTED_MODULE_26__[/* W */ "k"])({\n  position: \'absolute\',\n  zIndex: 1,\n  top: 4,\n  left: 4\n});\nvar TooltipContent = _storybook_theming__WEBPACK_IMPORTED_MODULE_28__["styled"].div({\n  width: 200,\n  margin: 5,\n  \'.react-colorful__saturation\': {\n    borderRadius: \'4px 4px 0 0\'\n  },\n  \'.react-colorful__hue\': {\n    boxShadow: \'inset 0 0 0 1px rgb(0 0 0 / 5%)\'\n  },\n  \'.react-colorful__last-control\': {\n    borderRadius: \'0 0 4px 4px\'\n  }\n});\nvar Note = Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_28__["styled"])(_index_681e4b07_js__WEBPACK_IMPORTED_MODULE_26__[/* T */ "j"])(function (_ref) {\n  var theme = _ref.theme;\n  return {\n    fontFamily: theme.typography.fonts.base\n  };\n});\nvar Swatches = _storybook_theming__WEBPACK_IMPORTED_MODULE_28__["styled"].div({\n  display: \'grid\',\n  gridTemplateColumns: \'repeat(9, 16px)\',\n  gap: 6,\n  padding: 3,\n  marginTop: 5,\n  width: 200\n});\nvar SwatchColor = _storybook_theming__WEBPACK_IMPORTED_MODULE_28__["styled"].div(function (_ref2) {\n  var theme = _ref2.theme,\n      active = _ref2.active;\n  return {\n    width: 16,\n    height: 16,\n    boxShadow: active ? "".concat(theme.appBorderColor, " 0 0 0 1px inset, ").concat(theme.color.mediumdark, "50 0 0 0 4px") : "".concat(theme.appBorderColor, " 0 0 0 1px inset"),\n    borderRadius: theme.appBorderRadius\n  };\n});\nvar swatchBackground = "url(\'data:image/svg+xml;charset=utf-8,<svg xmlns=\\"http://www.w3.org/2000/svg\\" width=\\"16\\" height=\\"16\\" fill-opacity=\\".05\\"><path d=\\"M8 0h8v8H8zM0 8h8v8H0z\\"/></svg>\')";\n\nvar Swatch = function Swatch(_a) {\n  var value = _a.value,\n      active = _a.active,\n      onClick = _a.onClick,\n      style = _a.style,\n      props = Object(_index_681e4b07_js__WEBPACK_IMPORTED_MODULE_26__[/* d */ "I"])(_a, ["value", "active", "onClick", "style"]);\n\n  var backgroundImage = "linear-gradient(".concat(value, ", ").concat(value, "), ").concat(swatchBackground, ", linear-gradient(#fff, #fff)");\n  return react__WEBPACK_IMPORTED_MODULE_27___default.a.createElement(SwatchColor, Object.assign({}, props, {\n    active: active,\n    onClick: onClick\n  }, {\n    style: Object.assign(Object.assign({}, style), {\n      backgroundImage: backgroundImage\n    })\n  }));\n};\n\nvar Input = Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_28__["styled"])(_index_681e4b07_js__WEBPACK_IMPORTED_MODULE_26__[/* F */ "d"].Input)(function (_ref3) {\n  var theme = _ref3.theme;\n  return {\n    width: \'100%\',\n    paddingLeft: 30,\n    paddingRight: 30,\n    boxSizing: \'border-box\',\n    fontFamily: theme.typography.fonts.base\n  };\n});\nvar ToggleIcon = Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_28__["styled"])(_index_681e4b07_js__WEBPACK_IMPORTED_MODULE_26__[/* I */ "f"])(function (_ref4) {\n  var theme = _ref4.theme;\n  return {\n    position: \'absolute\',\n    zIndex: 1,\n    top: 6,\n    right: 7,\n    width: 20,\n    height: 20,\n    padding: 4,\n    boxSizing: \'border-box\',\n    cursor: \'pointer\',\n    color: theme.input.color\n  };\n});\nvar ColorSpace;\n\n(function (ColorSpace) {\n  ColorSpace["RGB"] = "rgb";\n  ColorSpace["HSL"] = "hsl";\n  ColorSpace["HEX"] = "hex";\n})(ColorSpace || (ColorSpace = {}));\n\nvar COLOR_SPACES = Object.values(ColorSpace);\nvar COLOR_REGEXP = /\\(([0-9]+),\\s*([0-9]+)%?,\\s*([0-9]+)%?,?\\s*([0-9.]+)?\\)/;\nvar RGB_REGEXP = /^\\s*rgba?\\(([0-9]+),\\s*([0-9]+),\\s*([0-9]+),?\\s*([0-9.]+)?\\)\\s*$/i;\nvar HSL_REGEXP = /^\\s*hsla?\\(([0-9]+),\\s*([0-9]+)%,\\s*([0-9]+)%,?\\s*([0-9.]+)?\\)\\s*$/i;\nvar HEX_REGEXP = /^\\s*#?([0-9a-f]{3}|[0-9a-f]{6})\\s*$/i;\nvar SHORTHEX_REGEXP = /^\\s*#?([0-9a-f]{3})\\s*$/i;\nvar ColorPicker = (_ColorPicker = {}, _defineProperty(_ColorPicker, ColorSpace.HEX, J), _defineProperty(_ColorPicker, ColorSpace.RGB, pe), _defineProperty(_ColorPicker, ColorSpace.HSL, re), _ColorPicker);\nvar fallbackColor = (_fallbackColor = {}, _defineProperty(_fallbackColor, ColorSpace.HEX, \'transparent\'), _defineProperty(_fallbackColor, ColorSpace.RGB, \'rgba(0, 0, 0, 0)\'), _defineProperty(_fallbackColor, ColorSpace.HSL, \'hsla(0, 0%, 0%, 0)\'), _fallbackColor);\n\nvar stringToArgs = function stringToArgs(value) {\n  var match = value === null || value === void 0 ? void 0 : value.match(COLOR_REGEXP);\n  if (!match) return [0, 0, 0, 1];\n\n  var _match = _slicedToArray(match, 5),\n      x = _match[1],\n      y = _match[2],\n      z = _match[3],\n      _match$ = _match[4],\n      a = _match$ === void 0 ? 1 : _match$;\n\n  return [x, y, z, a].map(Number);\n};\n\nvar parseValue = function parseValue(value) {\n  var _ref11;\n\n  if (!value) return undefined;\n  var valid = true;\n\n  if (RGB_REGEXP.test(value)) {\n    var _ref7;\n\n    var _stringToArgs = stringToArgs(value),\n        _stringToArgs2 = _slicedToArray(_stringToArgs, 4),\n        r = _stringToArgs2[0],\n        _g = _stringToArgs2[1],\n        _b = _stringToArgs2[2],\n        a = _stringToArgs2[3];\n\n    var _ref5 = colorConvert.rgb.hsl([r, _g, _b]) || [0, 0, 0],\n        _ref6 = _slicedToArray(_ref5, 3),\n        _h = _ref6[0],\n        _s2 = _ref6[1],\n        l = _ref6[2];\n\n    return _ref7 = {\n      valid: valid,\n      value: value,\n      keyword: colorConvert.rgb.keyword([r, _g, _b]),\n      colorSpace: ColorSpace.RGB\n    }, _defineProperty(_ref7, ColorSpace.RGB, value), _defineProperty(_ref7, ColorSpace.HSL, "hsla(".concat(_h, ", ").concat(_s2, "%, ").concat(l, "%, ").concat(a, ")")), _defineProperty(_ref7, ColorSpace.HEX, "#".concat(colorConvert.rgb.hex([r, _g, _b]).toLowerCase())), _ref7;\n  }\n\n  if (HSL_REGEXP.test(value)) {\n    var _ref10;\n\n    var _stringToArgs3 = stringToArgs(value),\n        _stringToArgs4 = _slicedToArray(_stringToArgs3, 4),\n        _h2 = _stringToArgs4[0],\n        _s3 = _stringToArgs4[1],\n        _l = _stringToArgs4[2],\n        _a2 = _stringToArgs4[3];\n\n    var _ref8 = colorConvert.hsl.rgb([_h2, _s3, _l]) || [0, 0, 0],\n        _ref9 = _slicedToArray(_ref8, 3),\n        _r = _ref9[0],\n        _g2 = _ref9[1],\n        _b2 = _ref9[2];\n\n    return _ref10 = {\n      valid: valid,\n      value: value,\n      keyword: colorConvert.hsl.keyword([_h2, _s3, _l]),\n      colorSpace: ColorSpace.HSL\n    }, _defineProperty(_ref10, ColorSpace.RGB, "rgba(".concat(_r, ", ").concat(_g2, ", ").concat(_b2, ", ").concat(_a2, ")")), _defineProperty(_ref10, ColorSpace.HSL, value), _defineProperty(_ref10, ColorSpace.HEX, "#".concat(colorConvert.hsl.hex([_h2, _s3, _l]).toLowerCase())), _ref10;\n  }\n\n  var plain = value.replace(\'#\', \'\');\n  var rgb = colorConvert.keyword.rgb(plain) || colorConvert.hex.rgb(plain);\n  var hsl = colorConvert.rgb.hsl(rgb);\n  var mapped = value;\n  if (/[^#a-f0-9]/i.test(value)) mapped = plain;else if (HEX_REGEXP.test(value)) mapped = "#".concat(plain);\n\n  if (mapped.startsWith(\'#\')) {\n    valid = HEX_REGEXP.test(mapped);\n  } else {\n    try {\n      colorConvert.keyword.hex(mapped);\n    } catch (e) {\n      valid = false;\n    }\n  }\n\n  return _ref11 = {\n    valid: valid,\n    value: mapped,\n    keyword: colorConvert.rgb.keyword(rgb),\n    colorSpace: ColorSpace.HEX\n  }, _defineProperty(_ref11, ColorSpace.RGB, "rgba(".concat(rgb[0], ", ").concat(rgb[1], ", ").concat(rgb[2], ", 1)")), _defineProperty(_ref11, ColorSpace.HSL, "hsla(".concat(hsl[0], ", ").concat(hsl[1], "%, ").concat(hsl[2], "%, 1)")), _defineProperty(_ref11, ColorSpace.HEX, mapped), _ref11;\n};\n\nvar getRealValue = function getRealValue(value, color, colorSpace) {\n  if (!value || !(color === null || color === void 0 ? void 0 : color.valid)) return fallbackColor[colorSpace];\n  if (colorSpace !== ColorSpace.HEX) return (color === null || color === void 0 ? void 0 : color[colorSpace]) || fallbackColor[colorSpace];\n\n  if (!color.hex.startsWith(\'#\')) {\n    try {\n      return "#".concat(colorConvert.keyword.hex(color.hex));\n    } catch (e) {\n      return fallbackColor.hex;\n    }\n  }\n\n  var short = color.hex.match(SHORTHEX_REGEXP);\n  if (!short) return HEX_REGEXP.test(color.hex) ? color.hex : fallbackColor.hex;\n\n  var _short$1$split = short[1].split(\'\'),\n      _short$1$split2 = _slicedToArray(_short$1$split, 3),\n      r = _short$1$split2[0],\n      g = _short$1$split2[1],\n      b = _short$1$split2[2];\n\n  return "#".concat(r).concat(r).concat(g).concat(g).concat(b).concat(b);\n};\n\nvar useColorInput = function useColorInput(initialValue, onChange) {\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_27__["useState"])(initialValue || \'\'),\n      _useState2 = _slicedToArray(_useState, 2),\n      value = _useState2[0],\n      setValue = _useState2[1];\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_27__["useState"])(function () {\n    return parseValue(value);\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      color = _useState4[0],\n      setColor = _useState4[1];\n\n  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_27__["useState"])((color === null || color === void 0 ? void 0 : color.colorSpace) || ColorSpace.HEX),\n      _useState6 = _slicedToArray(_useState5, 2),\n      colorSpace = _useState6[0],\n      setColorSpace = _useState6[1]; // Reset state when initialValue becomes undefined (when resetting controls)\n\n\n  Object(react__WEBPACK_IMPORTED_MODULE_27__["useEffect"])(function () {\n    if (initialValue !== undefined) return;\n    setValue(\'\');\n    setColor(undefined);\n    setColorSpace(ColorSpace.HEX);\n  }, [initialValue]);\n  var realValue = Object(react__WEBPACK_IMPORTED_MODULE_27__["useMemo"])(function () {\n    return getRealValue(value, color, colorSpace).toLowerCase();\n  }, [value, color, colorSpace]);\n  var updateValue = Object(react__WEBPACK_IMPORTED_MODULE_27__["useCallback"])(function (update) {\n    var parsed = parseValue(update);\n    setValue((parsed === null || parsed === void 0 ? void 0 : parsed.value) || update || \'\');\n    if (!parsed) return;\n    setColor(parsed);\n    setColorSpace(parsed.colorSpace);\n    onChange(parsed.value);\n  }, [onChange]);\n  var cycleColorSpace = Object(react__WEBPACK_IMPORTED_MODULE_27__["useCallback"])(function () {\n    var next = COLOR_SPACES.indexOf(colorSpace) + 1;\n    if (next >= COLOR_SPACES.length) next = 0;\n    setColorSpace(COLOR_SPACES[next]);\n    var update = (color === null || color === void 0 ? void 0 : color[COLOR_SPACES[next]]) || \'\';\n    setValue(update);\n    onChange(update);\n  }, [color, colorSpace, onChange]);\n  return {\n    value: value,\n    realValue: realValue,\n    updateValue: updateValue,\n    color: color,\n    colorSpace: colorSpace,\n    cycleColorSpace: cycleColorSpace\n  };\n};\n\nvar id = function id(value) {\n  return value.replace(/\\s*/, \'\').toLowerCase();\n};\n\nvar usePresets = function usePresets(presetColors, currentColor, colorSpace) {\n  var _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_27__["useState"])((currentColor === null || currentColor === void 0 ? void 0 : currentColor.valid) ? [currentColor] : []),\n      _useState8 = _slicedToArray(_useState7, 2),\n      selectedColors = _useState8[0],\n      setSelectedColors = _useState8[1]; // Reset state when currentColor becomes undefined (when resetting controls)\n\n\n  Object(react__WEBPACK_IMPORTED_MODULE_27__["useEffect"])(function () {\n    if (currentColor !== undefined) return;\n    setSelectedColors([]);\n  }, [currentColor]);\n  var presets = Object(react__WEBPACK_IMPORTED_MODULE_27__["useMemo"])(function () {\n    var initialPresets = (presetColors || []).map(function (preset) {\n      if (typeof preset === \'string\') return parseValue(preset);\n      if (preset.title) return Object.assign(Object.assign({}, parseValue(preset.color)), {\n        keyword: preset.title\n      });\n      return parseValue(preset.color);\n    });\n    return initialPresets.concat(selectedColors).filter(Boolean).slice(-27);\n  }, [presetColors, selectedColors]);\n  var addPreset = Object(react__WEBPACK_IMPORTED_MODULE_27__["useCallback"])(function (color) {\n    if (!(color === null || color === void 0 ? void 0 : color.valid)) return;\n    if (presets.some(function (preset) {\n      return id(preset[colorSpace]) === id(color[colorSpace]);\n    })) return;\n    setSelectedColors(function (arr) {\n      return arr.concat(color);\n    });\n  }, [colorSpace, presets]);\n  return {\n    presets: presets,\n    addPreset: addPreset\n  };\n};\n\nvar ColorControl = function ColorControl(_ref12) {\n  var name = _ref12.name,\n      initialValue = _ref12.value,\n      onChange = _ref12.onChange,\n      onFocus = _ref12.onFocus,\n      onBlur = _ref12.onBlur,\n      presetColors = _ref12.presetColors,\n      startOpen = _ref12.startOpen;\n\n  var _useColorInput = useColorInput(initialValue, throttle_1(onChange, 200)),\n      value = _useColorInput.value,\n      realValue = _useColorInput.realValue,\n      updateValue = _useColorInput.updateValue,\n      color = _useColorInput.color,\n      colorSpace = _useColorInput.colorSpace,\n      cycleColorSpace = _useColorInput.cycleColorSpace;\n\n  var _usePresets = usePresets(presetColors, color, colorSpace),\n      presets = _usePresets.presets,\n      addPreset = _usePresets.addPreset;\n\n  var Picker = ColorPicker[colorSpace];\n  return react__WEBPACK_IMPORTED_MODULE_27___default.a.createElement(Wrapper, null, react__WEBPACK_IMPORTED_MODULE_27___default.a.createElement(PickerTooltip, {\n    trigger: "click",\n    startOpen: startOpen,\n    closeOnClick: true,\n    onVisibilityChange: function onVisibilityChange() {\n      return addPreset(color);\n    },\n    tooltip: react__WEBPACK_IMPORTED_MODULE_27___default.a.createElement(TooltipContent, null, react__WEBPACK_IMPORTED_MODULE_27___default.a.createElement(Picker, Object.assign({\n      color: realValue === \'transparent\' ? \'#000000\' : realValue\n    }, {\n      onChange: updateValue,\n      onFocus: onFocus,\n      onBlur: onBlur\n    })), presets.length > 0 && react__WEBPACK_IMPORTED_MODULE_27___default.a.createElement(Swatches, null, presets.map(function (preset, index) {\n      return react__WEBPACK_IMPORTED_MODULE_27___default.a.createElement(_index_681e4b07_js__WEBPACK_IMPORTED_MODULE_26__[/* W */ "k"] // eslint-disable-next-line react/no-array-index-key\n      , {\n        // eslint-disable-next-line react/no-array-index-key\n        key: "".concat(preset.value, "-").concat(index),\n        hasChrome: false,\n        tooltip: react__WEBPACK_IMPORTED_MODULE_27___default.a.createElement(Note, {\n          note: preset.keyword || preset.value\n        })\n      }, react__WEBPACK_IMPORTED_MODULE_27___default.a.createElement(Swatch, {\n        value: preset[colorSpace],\n        active: color && id(preset[colorSpace]) === id(color[colorSpace]),\n        onClick: function onClick() {\n          return updateValue(preset.value);\n        }\n      }));\n    })))\n  }, react__WEBPACK_IMPORTED_MODULE_27___default.a.createElement(Swatch, {\n    value: realValue,\n    style: {\n      margin: 4\n    }\n  })), react__WEBPACK_IMPORTED_MODULE_27___default.a.createElement(Input, {\n    id: Object(_index_681e4b07_js__WEBPACK_IMPORTED_MODULE_26__[/* z */ "eb"])(name),\n    value: value,\n    onChange: function onChange(e) {\n      return updateValue(e.target.value);\n    },\n    onFocus: function onFocus(e) {\n      return e.target.select();\n    },\n    placeholder: "Choose color..."\n  }), value ? react__WEBPACK_IMPORTED_MODULE_27___default.a.createElement(ToggleIcon, {\n    icon: "markup",\n    onClick: cycleColorSpace\n  }) : null);\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHN0b3J5Ym9vay9jb21wb25lbnRzL2Rpc3QvZXNtL0NvbG9yLWY5NTNkMDg4LmpzPzNiODgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUVBLDJDQUEyQyxrQkFBa0Isa0NBQWtDLHFFQUFxRSxFQUFFLEVBQUUsT0FBTyxrQkFBa0IsRUFBRSxZQUFZOztBQUUvTSx1QkFBdUIsMkJBQTJCLHNHQUFzRyxtQkFBbUIsRUFBRSxtQkFBbUIsNkhBQTZILEVBQUUsZUFBZTs7QUFFOVUsaUNBQWlDLDJIQUEySDs7QUFFNUosNkJBQTZCLGtLQUFrSzs7QUFFL0wsaURBQWlELGdCQUFnQixnRUFBZ0Usd0RBQXdELDZEQUE2RCxzREFBc0Qsa0hBQWtIOztBQUU5WixzQ0FBc0MsdURBQXVELHVDQUF1QyxTQUFTLE9BQU8sa0JBQWtCLEVBQUUsYUFBYTs7QUFFckwsd0NBQXdDLDBHQUEwRyx3QkFBd0IsZUFBZSxlQUFlLGdCQUFnQixZQUFZLE1BQU0sd0JBQXdCLCtCQUErQixhQUFhLHFCQUFxQixtQ0FBbUMsRUFBRSxFQUFFLGNBQWMsV0FBVyxVQUFVLEVBQUUsVUFBVSxNQUFNLGlEQUFpRCxFQUFFLFVBQVUsa0JBQWtCLEVBQUUsRUFBRSxhQUFhOztBQUUvZiwrQkFBK0Isb0NBQW9DOztBQUV0QjtBQUNGO0FBQ0Q7QUFDRTtBQUNJO0FBQ0U7QUFDUDtBQUNLO0FBQ0Y7QUFDQTtBQUNYO0FBQ1k7QUFDVTtBQUNiO0FBQ0g7QUFDRztBQUNhO0FBQ2Q7QUFDQztBQUNDO0FBQ0s7QUFDTDtBQUNQO0FBQ1k7QUFDSDtBQUNMO0FBQ29JO0FBQ25FO0FBQy9EO0FBQ3RCO0FBQ0U7QUFDWjtBQUNzQjs7QUFFbEM7QUFDQTtBQUNBLG1CQUFtQixzQkFBc0I7QUFDekM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7O0FBRUEsYUFBYSxjQUFjO0FBQzNCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFVBQVUscURBQU07QUFDaEIsVUFBVSxxREFBTTtBQUNoQjtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixjQUFjO0FBQ2pDO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRCxRQUFRLDZDQUFjO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLFVBQVUscURBQU07QUFDaEI7QUFDQTtBQUNBLFVBQVUscURBQU07QUFDaEIsVUFBVSxxREFBTTtBQUNoQixVQUFVLHNEQUFPO0FBQ2pCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUEsU0FBUyx3REFBUztBQUNsQjtBQUNBLEdBQUcsUUFBUSw2Q0FBYywwQkFBMEI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw2Q0FBYztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxFQUFFLDZDQUFjO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsNEJBQTRCO0FBQzVCO0FBQ0E7O0FBRUE7O0FBRUEseURBQXlELDBCQUEwQjtBQUNuRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7O0FBRTlCLHlEQUF5RCw0QkFBNEI7QUFDckY7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLDZEQUE2RCw0QkFBNEI7QUFDekY7QUFDQSxxQ0FBcUM7O0FBRXJDLG1EQUFtRDs7QUFFbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7O0FBRXZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsbUJBQW1CLFNBQVM7QUFDNUI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOzs7QUFHRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTs7QUFFUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLDRCQUE0Qjs7QUFFNUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0Qzs7QUFFNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNEVBQTRFOztBQUU1RTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3QkFBd0I7O0FBRXhCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0RBQWdELEVBQUUsVUFBVSxFQUFFOztBQUU5RDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsaUJBQWlCOztBQUVqQjs7QUFFQSx3Q0FBd0MsV0FBVztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLENBQUM7OztBQUdEO0FBQ0E7QUFDQSwwQkFBMEI7O0FBRTFCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSw2Q0FBNkMsV0FBVztBQUN4RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx3Q0FBd0MsV0FBVztBQUNuRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdUVBQXVFLGFBQWE7QUFDcEY7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTs7O0FBR0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDBFQUEwRSxlQUFlO0FBQ3pGO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSwwQkFBMEI7QUFDMUIsb0NBQW9DO0FBQ3BDOztBQUVBO0FBQ0EsNENBQTRDLFdBQVc7QUFDdkQ7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTs7O0FBR0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ0EsV0FBVyw2REFBSztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsT0FBTztBQUNwQjs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxPQUFPO0FBQ3BCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLDhEQUFVO0FBQzNCLGVBQWUsOERBQVU7QUFDekI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQiw4REFBVTtBQUMzQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTyxZQUFZO0FBQzlCLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLDhDQUE4QyxrQkFBa0I7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwwQkFBMEI7O0FBRTFCLDZDQUE2Qzs7QUFFN0M7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7O0FBR0w7QUFDQTs7QUFFQTtBQUNBLHdCQUF3QjtBQUN4Qjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLDhEQUFVO0FBQ3pCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU8sWUFBWTtBQUM5QixXQUFXLFFBQVE7QUFDbkI7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELG9CQUFvQjtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSxjQUFjLDBEQUFNO0FBQ3BCO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsb0JBQW9CLGtFQUFNLENBQUMsNkRBQVc7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QscUJBQXFCLDBEQUFNO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELFdBQVcsa0VBQU0sQ0FBQyw2REFBVztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxlQUFlLDBEQUFNO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBa0IsMERBQU07QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxnREFBZ0Q7O0FBRWhEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHFFQUFNOztBQUVwQjtBQUNBLFNBQVMsNkNBQWMsNENBQTRDO0FBQ25FO0FBQ0E7QUFDQSxHQUFHO0FBQ0gseUNBQXlDO0FBQ3pDO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQSxZQUFZLGtFQUFNLENBQUMsNkRBQUk7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxpQkFBaUIsa0VBQU0sQ0FBQyw2REFBSztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsZ0NBQWdDOztBQUVqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxFQUFFLFVBQVUsRUFBRTtBQUNoRCx1Q0FBdUMsRUFBRTtBQUN6QyxvQ0FBb0M7QUFDcEMsd0NBQXdDOztBQUV4QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Q7O0FBRWhEO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQix1REFBUTtBQUMxQjtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CLHVEQUFRO0FBQzNCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIsdURBQVE7QUFDM0I7QUFDQTtBQUNBLG9DQUFvQzs7O0FBR3BDLEVBQUUsd0RBQVM7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxrQkFBa0Isc0RBQU87QUFDekI7QUFDQSxHQUFHO0FBQ0gsb0JBQW9CLDBEQUFXO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCx3QkFBd0IsMERBQVc7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtQkFBbUIsdURBQVE7QUFDM0I7QUFDQTtBQUNBLHdDQUF3Qzs7O0FBR3hDLEVBQUUsd0RBQVM7QUFDWDtBQUNBO0FBQ0EsR0FBRztBQUNILGdCQUFnQixzREFBTztBQUN2QjtBQUNBO0FBQ0EsNkRBQTZEO0FBQzdEO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNILGtCQUFrQiwwREFBVztBQUM3QjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVMsNkNBQWMsOEJBQThCLDZDQUFjO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsYUFBYSw2Q0FBYyxxQ0FBcUMsNkNBQWM7QUFDOUU7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSywwQkFBMEIsNkNBQWM7QUFDN0MsYUFBYSw2Q0FBYyxlQUFlLDZEQUFXO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDZDQUFjO0FBQy9CO0FBQ0EsU0FBUztBQUNULE9BQU8sRUFBRSw2Q0FBYztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCxHQUFHLEVBQUUsNkNBQWM7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLElBQUksNkNBQWM7QUFDckIsUUFBUSxzRUFBWTtBQUNwQjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUcsV0FBVyw2Q0FBYztBQUM1QjtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVpRCIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9Ac3Rvcnlib29rL2NvbXBvbmVudHMvZGlzdC9lc20vQ29sb3ItZjk1M2QwODguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX0NvbG9yUGlja2VyLCBfZmFsbGJhY2tDb2xvcjtcblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH0sIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyB2YXIgX2kgPSBhcnIgPT0gbnVsbCA/IG51bGwgOiB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGFycltTeW1ib2wuaXRlcmF0b3JdIHx8IGFycltcIkBAaXRlcmF0b3JcIl07IGlmIChfaSA9PSBudWxsKSByZXR1cm47IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX3MsIF9lOyB0cnkgeyBmb3IgKF9pID0gX2kuY2FsbChhcnIpOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5cbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuYXNzaWduLmpzXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanNcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qc1wiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qc1wiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qc1wiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXRlcmF0b3IuanNcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lcy5tYXAuanNcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanNcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLm1hdGNoLmpzXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qc1wiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnZhbHVlcy5qc1wiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zdGFydHMtd2l0aC5qc1wiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanNcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanNcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanNcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuaXRlcmF0b3IuanNcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mcm9tLmpzXCI7XG5pbXBvcnQgeyB1IGFzIF9yb290LCB4IGFzIGlzT2JqZWN0XzEsIHkgYXMgaXNTeW1ib2xfMSwgVyBhcyBXaXRoVG9vbHRpcCwgVCBhcyBUb29sdGlwTm90ZSwgRiBhcyBGb3JtLCBJIGFzIEljb25zLCB6IGFzIGdldENvbnRyb2xJZCwgZCBhcyBfX3Jlc3QgfSBmcm9tICcuL2luZGV4LTY4MWU0YjA3LmpzJztcbmltcG9ydCBSZWFjdF9fZGVmYXVsdCwgeyB1c2VSZWYsIHVzZU1lbW8sIHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VMYXlvdXRFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBzdHlsZWQgfSBmcm9tICdAc3Rvcnlib29rL3RoZW1pbmcnO1xuaW1wb3J0ICdtZW1vaXplcmlmaWMnO1xuaW1wb3J0ICdAc3Rvcnlib29rL2NzZic7XG5pbXBvcnQgJ3FzJztcbmltcG9ydCAnQHN0b3J5Ym9vay9jbGllbnQtbG9nZ2VyJztcblxuZnVuY3Rpb24gdSgpIHtcbiAgcmV0dXJuICh1ID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAoZSkge1xuICAgIGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7XG4gICAgICB2YXIgdCA9IGFyZ3VtZW50c1tyXTtcblxuICAgICAgZm9yICh2YXIgbiBpbiB0KSB7XG4gICAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LCBuKSAmJiAoZVtuXSA9IHRbbl0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBlO1xuICB9KS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBjKGUsIHIpIHtcbiAgaWYgKG51bGwgPT0gZSkgcmV0dXJuIHt9O1xuICB2YXIgdCxcbiAgICAgIG4sXG4gICAgICBvID0ge30sXG4gICAgICBhID0gT2JqZWN0LmtleXMoZSk7XG5cbiAgZm9yIChuID0gMDsgbiA8IGEubGVuZ3RoOyBuKyspIHtcbiAgICByLmluZGV4T2YodCA9IGFbbl0pID49IDAgfHwgKG9bdF0gPSBlW3RdKTtcbiAgfVxuXG4gIHJldHVybiBvO1xufVxuXG5mdW5jdGlvbiBpKGUpIHtcbiAgdmFyIHQgPSB1c2VSZWYoZSksXG4gICAgICBuID0gdXNlUmVmKGZ1bmN0aW9uIChlKSB7XG4gICAgdC5jdXJyZW50ICYmIHQuY3VycmVudChlKTtcbiAgfSk7XG4gIHJldHVybiB0LmN1cnJlbnQgPSBlLCBuLmN1cnJlbnQ7XG59XG5cbnZhciBzID0gZnVuY3Rpb24gcyhlLCByLCB0KSB7XG4gIHJldHVybiB2b2lkIDAgPT09IHIgJiYgKHIgPSAwKSwgdm9pZCAwID09PSB0ICYmICh0ID0gMSksIGUgPiB0ID8gdCA6IGUgPCByID8gciA6IGU7XG59LFxuICAgIGYgPSBmdW5jdGlvbiBmKGUpIHtcbiAgcmV0dXJuIFwidG91Y2hlc1wiIGluIGU7XG59LFxuICAgIHYgPSBmdW5jdGlvbiB2KGUpIHtcbiAgcmV0dXJuIGUgJiYgZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3IHx8IHNlbGY7XG59LFxuICAgIGQgPSBmdW5jdGlvbiBkKGUsIHIsIHQpIHtcbiAgdmFyIG4gPSBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgbyA9IGYocikgPyBmdW5jdGlvbiAoZSwgcikge1xuICAgIGZvciAodmFyIHQgPSAwOyB0IDwgZS5sZW5ndGg7IHQrKykge1xuICAgICAgaWYgKGVbdF0uaWRlbnRpZmllciA9PT0gcikgcmV0dXJuIGVbdF07XG4gICAgfVxuXG4gICAgcmV0dXJuIGVbMF07XG4gIH0oci50b3VjaGVzLCB0KSA6IHI7XG4gIHJldHVybiB7XG4gICAgbGVmdDogcygoby5wYWdlWCAtIChuLmxlZnQgKyB2KGUpLnBhZ2VYT2Zmc2V0KSkgLyBuLndpZHRoKSxcbiAgICB0b3A6IHMoKG8ucGFnZVkgLSAobi50b3AgKyB2KGUpLnBhZ2VZT2Zmc2V0KSkgLyBuLmhlaWdodClcbiAgfTtcbn0sXG4gICAgaCA9IGZ1bmN0aW9uIGgoZSkge1xuICAhZihlKSAmJiBlLnByZXZlbnREZWZhdWx0KCk7XG59LFxuICAgIG0gPSBSZWFjdF9fZGVmYXVsdC5tZW1vKGZ1bmN0aW9uIChvKSB7XG4gIHZhciBhID0gby5vbk1vdmUsXG4gICAgICBsID0gby5vbktleSxcbiAgICAgIHMgPSBjKG8sIFtcIm9uTW92ZVwiLCBcIm9uS2V5XCJdKSxcbiAgICAgIG0gPSB1c2VSZWYobnVsbCksXG4gICAgICBnID0gaShhKSxcbiAgICAgIHAgPSBpKGwpLFxuICAgICAgYiA9IHVzZVJlZihudWxsKSxcbiAgICAgIF8gPSB1c2VSZWYoITEpLFxuICAgICAgeCA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHZhciBlID0gZnVuY3Rpb24gZShfZSkge1xuICAgICAgaChfZSksIChmKF9lKSA/IF9lLnRvdWNoZXMubGVuZ3RoID4gMCA6IF9lLmJ1dHRvbnMgPiAwKSAmJiBtLmN1cnJlbnQgPyBnKGQobS5jdXJyZW50LCBfZSwgYi5jdXJyZW50KSkgOiB0KCExKTtcbiAgICB9LFxuICAgICAgICByID0gZnVuY3Rpb24gcigpIHtcbiAgICAgIHJldHVybiB0KCExKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gdCh0KSB7XG4gICAgICB2YXIgbiA9IF8uY3VycmVudCxcbiAgICAgICAgICBvID0gdihtLmN1cnJlbnQpLFxuICAgICAgICAgIGEgPSB0ID8gby5hZGRFdmVudExpc3RlbmVyIDogby5yZW1vdmVFdmVudExpc3RlbmVyO1xuICAgICAgYShuID8gXCJ0b3VjaG1vdmVcIiA6IFwibW91c2Vtb3ZlXCIsIGUpLCBhKG4gPyBcInRvdWNoZW5kXCIgOiBcIm1vdXNldXBcIiwgcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIFtmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIHIgPSBlLm5hdGl2ZUV2ZW50LFxuICAgICAgICAgIG4gPSBtLmN1cnJlbnQ7XG5cbiAgICAgIGlmIChuICYmIChoKHIpLCAhZnVuY3Rpb24gKGUsIHIpIHtcbiAgICAgICAgcmV0dXJuIHIgJiYgIWYoZSk7XG4gICAgICB9KHIsIF8uY3VycmVudCkgJiYgbikpIHtcbiAgICAgICAgaWYgKGYocikpIHtcbiAgICAgICAgICBfLmN1cnJlbnQgPSAhMDtcbiAgICAgICAgICB2YXIgbyA9IHIuY2hhbmdlZFRvdWNoZXMgfHwgW107XG4gICAgICAgICAgby5sZW5ndGggJiYgKGIuY3VycmVudCA9IG9bMF0uaWRlbnRpZmllcik7XG4gICAgICAgIH1cblxuICAgICAgICBuLmZvY3VzKCksIGcoZChuLCByLCBiLmN1cnJlbnQpKSwgdCghMCk7XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciByID0gZS53aGljaCB8fCBlLmtleUNvZGU7XG4gICAgICByIDwgMzcgfHwgciA+IDQwIHx8IChlLnByZXZlbnREZWZhdWx0KCksIHAoe1xuICAgICAgICBsZWZ0OiAzOSA9PT0gciA/IC4wNSA6IDM3ID09PSByID8gLS4wNSA6IDAsXG4gICAgICAgIHRvcDogNDAgPT09IHIgPyAuMDUgOiAzOCA9PT0gciA/IC0uMDUgOiAwXG4gICAgICB9KSk7XG4gICAgfSwgdF07XG4gIH0sIFtwLCBnXSksXG4gICAgICBDID0geFswXSxcbiAgICAgIEUgPSB4WzFdLFxuICAgICAgSCA9IHhbMl07XG5cbiAgcmV0dXJuIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIEg7XG4gIH0sIFtIXSksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgdSh7fSwgcywge1xuICAgIG9uVG91Y2hTdGFydDogQyxcbiAgICBvbk1vdXNlRG93bjogQyxcbiAgICBjbGFzc05hbWU6IFwicmVhY3QtY29sb3JmdWxfX2ludGVyYWN0aXZlXCIsXG4gICAgcmVmOiBtLFxuICAgIG9uS2V5RG93bjogRSxcbiAgICB0YWJJbmRleDogMCxcbiAgICByb2xlOiBcInNsaWRlclwiXG4gIH0pKTtcbn0pLFxuICAgIGcgPSBmdW5jdGlvbiBnKGUpIHtcbiAgcmV0dXJuIGUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCIgXCIpO1xufSxcbiAgICBwID0gZnVuY3Rpb24gcChyKSB7XG4gIHZhciB0ID0gci5jb2xvcixcbiAgICAgIG4gPSByLmxlZnQsXG4gICAgICBvID0gci50b3AsXG4gICAgICBhID0gdm9pZCAwID09PSBvID8gLjUgOiBvLFxuICAgICAgbCA9IGcoW1wicmVhY3QtY29sb3JmdWxfX3BvaW50ZXJcIiwgci5jbGFzc05hbWVdKTtcbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogbCxcbiAgICBzdHlsZToge1xuICAgICAgdG9wOiAxMDAgKiBhICsgXCIlXCIsXG4gICAgICBsZWZ0OiAxMDAgKiBuICsgXCIlXCJcbiAgICB9XG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJyZWFjdC1jb2xvcmZ1bF9fcG9pbnRlci1maWxsXCIsXG4gICAgc3R5bGU6IHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdFxuICAgIH1cbiAgfSkpO1xufSxcbiAgICBiID0gZnVuY3Rpb24gYihlLCByLCB0KSB7XG4gIHJldHVybiB2b2lkIDAgPT09IHIgJiYgKHIgPSAwKSwgdm9pZCAwID09PSB0ICYmICh0ID0gTWF0aC5wb3coMTAsIHIpKSwgTWF0aC5yb3VuZCh0ICogZSkgLyB0O1xufSxcbiAgICBfID0ge1xuICBncmFkOiAuOSxcbiAgdHVybjogMzYwLFxuICByYWQ6IDM2MCAvICgyICogTWF0aC5QSSlcbn0sXG4gICAgeCA9IGZ1bmN0aW9uIHgoZSkge1xuICByZXR1cm4gXCIjXCIgPT09IGVbMF0gJiYgKGUgPSBlLnN1YnN0cigxKSksIGUubGVuZ3RoIDwgNiA/IHtcbiAgICByOiBwYXJzZUludChlWzBdICsgZVswXSwgMTYpLFxuICAgIGc6IHBhcnNlSW50KGVbMV0gKyBlWzFdLCAxNiksXG4gICAgYjogcGFyc2VJbnQoZVsyXSArIGVbMl0sIDE2KSxcbiAgICBhOiAxXG4gIH0gOiB7XG4gICAgcjogcGFyc2VJbnQoZS5zdWJzdHIoMCwgMiksIDE2KSxcbiAgICBnOiBwYXJzZUludChlLnN1YnN0cigyLCAyKSwgMTYpLFxuICAgIGI6IHBhcnNlSW50KGUuc3Vic3RyKDQsIDIpLCAxNiksXG4gICAgYTogMVxuICB9O1xufSxcbiAgICBDID0gZnVuY3Rpb24gQyhlLCByKSB7XG4gIHJldHVybiB2b2lkIDAgPT09IHIgJiYgKHIgPSBcImRlZ1wiKSwgTnVtYmVyKGUpICogKF9bcl0gfHwgMSk7XG59LFxuICAgIEUgPSBmdW5jdGlvbiBFKGUpIHtcbiAgdmFyIHIgPSAvaHNsYT9cXCg/XFxzKigtP1xcZCpcXC4/XFxkKykoZGVnfHJhZHxncmFkfHR1cm4pP1ssXFxzXSsoLT9cXGQqXFwuP1xcZCspJT9bLFxcc10rKC0/XFxkKlxcLj9cXGQrKSU/LD9cXHMqWy9cXHNdKigtP1xcZCpcXC4/XFxkKyk/KCUpP1xccypcXCk/L2kuZXhlYyhlKTtcbiAgcmV0dXJuIHIgPyBNKHtcbiAgICBoOiBDKHJbMV0sIHJbMl0pLFxuICAgIHM6IE51bWJlcihyWzNdKSxcbiAgICBsOiBOdW1iZXIocls0XSksXG4gICAgYTogdm9pZCAwID09PSByWzVdID8gMSA6IE51bWJlcihyWzVdKSAvIChyWzZdID8gMTAwIDogMSlcbiAgfSkgOiB7XG4gICAgaDogMCxcbiAgICBzOiAwLFxuICAgIHY6IDAsXG4gICAgYTogMVxuICB9O1xufSxcbiAgICBNID0gZnVuY3Rpb24gTShlKSB7XG4gIHZhciByID0gZS5zLFxuICAgICAgdCA9IGUubDtcbiAgcmV0dXJuIHtcbiAgICBoOiBlLmgsXG4gICAgczogKHIgKj0gKHQgPCA1MCA/IHQgOiAxMDAgLSB0KSAvIDEwMCkgPiAwID8gMiAqIHIgLyAodCArIHIpICogMTAwIDogMCxcbiAgICB2OiB0ICsgcixcbiAgICBhOiBlLmFcbiAgfTtcbn0sXG4gICAgTiA9IGZ1bmN0aW9uIE4oZSkge1xuICB2YXIgciA9IGUucyxcbiAgICAgIHQgPSBlLnYsXG4gICAgICBuID0gZS5hLFxuICAgICAgbyA9ICgyMDAgLSByKSAqIHQgLyAxMDA7XG4gIHJldHVybiB7XG4gICAgaDogYihlLmgpLFxuICAgIHM6IGIobyA+IDAgJiYgbyA8IDIwMCA/IHIgKiB0IC8gMTAwIC8gKG8gPD0gMTAwID8gbyA6IDIwMCAtIG8pICogMTAwIDogMCksXG4gICAgbDogYihvIC8gMiksXG4gICAgYTogYihuLCAyKVxuICB9O1xufSxcbiAgICB3ID0gZnVuY3Rpb24gdyhlKSB7XG4gIHZhciByID0gTihlKTtcbiAgcmV0dXJuIFwiaHNsKFwiICsgci5oICsgXCIsIFwiICsgci5zICsgXCIlLCBcIiArIHIubCArIFwiJSlcIjtcbn0sXG4gICAgeSA9IGZ1bmN0aW9uIHkoZSkge1xuICB2YXIgciA9IE4oZSk7XG4gIHJldHVybiBcImhzbGEoXCIgKyByLmggKyBcIiwgXCIgKyByLnMgKyBcIiUsIFwiICsgci5sICsgXCIlLCBcIiArIHIuYSArIFwiKVwiO1xufSxcbiAgICBxID0gZnVuY3Rpb24gcShlKSB7XG4gIHZhciByID0gZS5oLFxuICAgICAgdCA9IGUucyxcbiAgICAgIG4gPSBlLnYsXG4gICAgICBvID0gZS5hO1xuICByID0gciAvIDM2MCAqIDYsIHQgLz0gMTAwLCBuIC89IDEwMDtcbiAgdmFyIGEgPSBNYXRoLmZsb29yKHIpLFxuICAgICAgbCA9IG4gKiAoMSAtIHQpLFxuICAgICAgdSA9IG4gKiAoMSAtIChyIC0gYSkgKiB0KSxcbiAgICAgIGMgPSBuICogKDEgLSAoMSAtIHIgKyBhKSAqIHQpLFxuICAgICAgaSA9IGEgJSA2O1xuICByZXR1cm4ge1xuICAgIHI6IGIoMjU1ICogW24sIHUsIGwsIGwsIGMsIG5dW2ldKSxcbiAgICBnOiBiKDI1NSAqIFtjLCBuLCBuLCB1LCBsLCBsXVtpXSksXG4gICAgYjogYigyNTUgKiBbbCwgbCwgYywgbiwgbiwgdV1baV0pLFxuICAgIGE6IGIobywgMilcbiAgfTtcbn0sXG4gICAgSSA9IGZ1bmN0aW9uIEkoZSkge1xuICB2YXIgciA9IC9yZ2JhP1xcKD9cXHMqKC0/XFxkKlxcLj9cXGQrKSglKT9bLFxcc10rKC0/XFxkKlxcLj9cXGQrKSglKT9bLFxcc10rKC0/XFxkKlxcLj9cXGQrKSglKT8sP1xccypbL1xcc10qKC0/XFxkKlxcLj9cXGQrKT8oJSk/XFxzKlxcKT8vaS5leGVjKGUpO1xuICByZXR1cm4gciA/IEIoe1xuICAgIHI6IE51bWJlcihyWzFdKSAvIChyWzJdID8gMTAwIC8gMjU1IDogMSksXG4gICAgZzogTnVtYmVyKHJbM10pIC8gKHJbNF0gPyAxMDAgLyAyNTUgOiAxKSxcbiAgICBiOiBOdW1iZXIocls1XSkgLyAocls2XSA/IDEwMCAvIDI1NSA6IDEpLFxuICAgIGE6IHZvaWQgMCA9PT0gcls3XSA/IDEgOiBOdW1iZXIocls3XSkgLyAocls4XSA/IDEwMCA6IDEpXG4gIH0pIDoge1xuICAgIGg6IDAsXG4gICAgczogMCxcbiAgICB2OiAwLFxuICAgIGE6IDFcbiAgfTtcbn0sXG4gICAgeiA9IGZ1bmN0aW9uIHooZSkge1xuICB2YXIgciA9IGUudG9TdHJpbmcoMTYpO1xuICByZXR1cm4gci5sZW5ndGggPCAyID8gXCIwXCIgKyByIDogcjtcbn0sXG4gICAgQiA9IGZ1bmN0aW9uIEIoZSkge1xuICB2YXIgciA9IGUucixcbiAgICAgIHQgPSBlLmcsXG4gICAgICBuID0gZS5iLFxuICAgICAgbyA9IGUuYSxcbiAgICAgIGEgPSBNYXRoLm1heChyLCB0LCBuKSxcbiAgICAgIGwgPSBhIC0gTWF0aC5taW4ociwgdCwgbiksXG4gICAgICB1ID0gbCA/IGEgPT09IHIgPyAodCAtIG4pIC8gbCA6IGEgPT09IHQgPyAyICsgKG4gLSByKSAvIGwgOiA0ICsgKHIgLSB0KSAvIGwgOiAwO1xuICByZXR1cm4ge1xuICAgIGg6IGIoNjAgKiAodSA8IDAgPyB1ICsgNiA6IHUpKSxcbiAgICBzOiBiKGEgPyBsIC8gYSAqIDEwMCA6IDApLFxuICAgIHY6IGIoYSAvIDI1NSAqIDEwMCksXG4gICAgYTogb1xuICB9O1xufSxcbiAgICBLID0gUmVhY3RfX2RlZmF1bHQubWVtbyhmdW5jdGlvbiAocikge1xuICB2YXIgdCA9IHIuaHVlLFxuICAgICAgbiA9IHIub25DaGFuZ2UsXG4gICAgICBvID0gZyhbXCJyZWFjdC1jb2xvcmZ1bF9faHVlXCIsIHIuY2xhc3NOYW1lXSk7XG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IG9cbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChtLCB7XG4gICAgb25Nb3ZlOiBmdW5jdGlvbiBvbk1vdmUoZSkge1xuICAgICAgbih7XG4gICAgICAgIGg6IDM2MCAqIGUubGVmdFxuICAgICAgfSk7XG4gICAgfSxcbiAgICBvbktleTogZnVuY3Rpb24gb25LZXkoZSkge1xuICAgICAgbih7XG4gICAgICAgIGg6IHModCArIDM2MCAqIGUubGVmdCwgMCwgMzYwKVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBcImFyaWEtbGFiZWxcIjogXCJIdWVcIixcbiAgICBcImFyaWEtdmFsdWV0ZXh0XCI6IGIodClcbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChwLCB7XG4gICAgY2xhc3NOYW1lOiBcInJlYWN0LWNvbG9yZnVsX19odWUtcG9pbnRlclwiLFxuICAgIGxlZnQ6IHQgLyAzNjAsXG4gICAgY29sb3I6IHcoe1xuICAgICAgaDogdCxcbiAgICAgIHM6IDEwMCxcbiAgICAgIHY6IDEwMCxcbiAgICAgIGE6IDFcbiAgICB9KVxuICB9KSkpO1xufSksXG4gICAgTCA9IFJlYWN0X19kZWZhdWx0Lm1lbW8oZnVuY3Rpb24gKHIpIHtcbiAgdmFyIHQgPSByLmhzdmEsXG4gICAgICBuID0gci5vbkNoYW5nZSxcbiAgICAgIG8gPSB7XG4gICAgYmFja2dyb3VuZENvbG9yOiB3KHtcbiAgICAgIGg6IHQuaCxcbiAgICAgIHM6IDEwMCxcbiAgICAgIHY6IDEwMCxcbiAgICAgIGE6IDFcbiAgICB9KVxuICB9O1xuICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInJlYWN0LWNvbG9yZnVsX19zYXR1cmF0aW9uXCIsXG4gICAgc3R5bGU6IG9cbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChtLCB7XG4gICAgb25Nb3ZlOiBmdW5jdGlvbiBvbk1vdmUoZSkge1xuICAgICAgbih7XG4gICAgICAgIHM6IDEwMCAqIGUubGVmdCxcbiAgICAgICAgdjogMTAwIC0gMTAwICogZS50b3BcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb25LZXk6IGZ1bmN0aW9uIG9uS2V5KGUpIHtcbiAgICAgIG4oe1xuICAgICAgICBzOiBzKHQucyArIDEwMCAqIGUubGVmdCwgMCwgMTAwKSxcbiAgICAgICAgdjogcyh0LnYgLSAxMDAgKiBlLnRvcCwgMCwgMTAwKVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBcImFyaWEtbGFiZWxcIjogXCJDb2xvclwiLFxuICAgIFwiYXJpYS12YWx1ZXRleHRcIjogXCJTYXR1cmF0aW9uIFwiICsgYih0LnMpICsgXCIlLCBCcmlnaHRuZXNzIFwiICsgYih0LnYpICsgXCIlXCJcbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChwLCB7XG4gICAgY2xhc3NOYW1lOiBcInJlYWN0LWNvbG9yZnVsX19zYXR1cmF0aW9uLXBvaW50ZXJcIixcbiAgICB0b3A6IDEgLSB0LnYgLyAxMDAsXG4gICAgbGVmdDogdC5zIC8gMTAwLFxuICAgIGNvbG9yOiB3KHQpXG4gIH0pKSk7XG59KSxcbiAgICBBID0gZnVuY3Rpb24gQShlLCByKSB7XG4gIGlmIChlID09PSByKSByZXR1cm4gITA7XG5cbiAgZm9yICh2YXIgdCBpbiBlKSB7XG4gICAgaWYgKGVbdF0gIT09IHJbdF0pIHJldHVybiAhMTtcbiAgfVxuXG4gIHJldHVybiAhMDtcbn0sXG4gICAgUyA9IGZ1bmN0aW9uIFMoZSwgcikge1xuICByZXR1cm4gZS5yZXBsYWNlKC9cXHMvZywgXCJcIikgPT09IHIucmVwbGFjZSgvXFxzL2csIFwiXCIpO1xufTtcblxuZnVuY3Rpb24gVChlLCB0LCBsKSB7XG4gIHZhciB1ID0gaShsKSxcbiAgICAgIGMgPSB1c2VTdGF0ZShmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGUudG9Ic3ZhKHQpO1xuICB9KSxcbiAgICAgIHMgPSBjWzBdLFxuICAgICAgZiA9IGNbMV0sXG4gICAgICB2ID0gdXNlUmVmKHtcbiAgICBjb2xvcjogdCxcbiAgICBoc3ZhOiBzXG4gIH0pO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmICghZS5lcXVhbCh0LCB2LmN1cnJlbnQuY29sb3IpKSB7XG4gICAgICB2YXIgciA9IGUudG9Ic3ZhKHQpO1xuICAgICAgdi5jdXJyZW50ID0ge1xuICAgICAgICBoc3ZhOiByLFxuICAgICAgICBjb2xvcjogdFxuICAgICAgfSwgZihyKTtcbiAgICB9XG4gIH0sIFt0LCBlXSksIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHI7XG4gICAgQShzLCB2LmN1cnJlbnQuaHN2YSkgfHwgZS5lcXVhbChyID0gZS5mcm9tSHN2YShzKSwgdi5jdXJyZW50LmNvbG9yKSB8fCAodi5jdXJyZW50ID0ge1xuICAgICAgaHN2YTogcyxcbiAgICAgIGNvbG9yOiByXG4gICAgfSwgdShyKSk7XG4gIH0sIFtzLCBlLCB1XSk7XG4gIHZhciBkID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGUpIHtcbiAgICBmKGZ1bmN0aW9uIChyKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgciwgZSk7XG4gICAgfSk7XG4gIH0sIFtdKTtcbiAgcmV0dXJuIFtzLCBkXTtcbn1cblxudmFyIFAgPSBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiB3aW5kb3cgPyB1c2VMYXlvdXRFZmZlY3QgOiB1c2VFZmZlY3QsXG4gICAgWCA9IGZ1bmN0aW9uIFgoKSB7XG4gIHJldHVybiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyA/IF9fd2VicGFja19ub25jZV9fIDogdm9pZCAwO1xufSxcbiAgICBSID0gbmV3IE1hcCgpLFxuICAgIFYgPSBmdW5jdGlvbiBWKGUpIHtcbiAgUChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHIgPSBlLmN1cnJlbnQgPyBlLmN1cnJlbnQub3duZXJEb2N1bWVudCA6IGRvY3VtZW50O1xuXG4gICAgaWYgKHZvaWQgMCAhPT0gciAmJiAhUi5oYXMocikpIHtcbiAgICAgIHZhciB0ID0gci5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgICB0LmlubmVySFRNTCA9ICcucmVhY3QtY29sb3JmdWx7cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjt3aWR0aDoyMDBweDtoZWlnaHQ6MjAwcHg7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO2N1cnNvcjpkZWZhdWx0fS5yZWFjdC1jb2xvcmZ1bF9fc2F0dXJhdGlvbntwb3NpdGlvbjpyZWxhdGl2ZTtmbGV4LWdyb3c6MTtib3JkZXItY29sb3I6dHJhbnNwYXJlbnQ7Ym9yZGVyLWJvdHRvbToxMnB4IHNvbGlkICMwMDA7Ym9yZGVyLXJhZGl1czo4cHggOHB4IDAgMDtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCgwZGVnLCMwMDAsdHJhbnNwYXJlbnQpLGxpbmVhci1ncmFkaWVudCg5MGRlZywjZmZmLGhzbGEoMCwwJSwxMDAlLDApKX0ucmVhY3QtY29sb3JmdWxfX2FscGhhLWdyYWRpZW50LC5yZWFjdC1jb2xvcmZ1bF9fcG9pbnRlci1maWxse2NvbnRlbnQ6XCJcIjtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7cmlnaHQ6MDtib3R0b206MDtwb2ludGVyLWV2ZW50czpub25lO2JvcmRlci1yYWRpdXM6aW5oZXJpdH0ucmVhY3QtY29sb3JmdWxfX2FscGhhLWdyYWRpZW50LC5yZWFjdC1jb2xvcmZ1bF9fc2F0dXJhdGlvbntib3gtc2hhZG93Omluc2V0IDAgMCAwIDFweCByZ2JhKDAsMCwwLC4wNSl9LnJlYWN0LWNvbG9yZnVsX19hbHBoYSwucmVhY3QtY29sb3JmdWxfX2h1ZXtwb3NpdGlvbjpyZWxhdGl2ZTtoZWlnaHQ6MjRweH0ucmVhY3QtY29sb3JmdWxfX2h1ZXtiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCg5MGRlZyxyZWQgMCwjZmYwIDE3JSwjMGYwIDMzJSwjMGZmIDUwJSwjMDBmIDY3JSwjZjBmIDgzJSxyZWQpfS5yZWFjdC1jb2xvcmZ1bF9fbGFzdC1jb250cm9se2JvcmRlci1yYWRpdXM6MCAwIDhweCA4cHh9LnJlYWN0LWNvbG9yZnVsX19pbnRlcmFjdGl2ZXtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7cmlnaHQ6MDtib3R0b206MDtib3JkZXItcmFkaXVzOmluaGVyaXQ7b3V0bGluZTpub25lO3RvdWNoLWFjdGlvbjpub25lfS5yZWFjdC1jb2xvcmZ1bF9fcG9pbnRlcntwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjE7Ym94LXNpemluZzpib3JkZXItYm94O3dpZHRoOjI4cHg7aGVpZ2h0OjI4cHg7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpO2JhY2tncm91bmQtY29sb3I6I2ZmZjtib3JkZXI6MnB4IHNvbGlkICNmZmY7Ym9yZGVyLXJhZGl1czo1MCU7Ym94LXNoYWRvdzowIDJweCA0cHggcmdiYSgwLDAsMCwuMil9LnJlYWN0LWNvbG9yZnVsX19pbnRlcmFjdGl2ZTpmb2N1cyAucmVhY3QtY29sb3JmdWxfX3BvaW50ZXJ7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpIHNjYWxlKDEuMSl9LnJlYWN0LWNvbG9yZnVsX19hbHBoYSwucmVhY3QtY29sb3JmdWxfX2FscGhhLXBvaW50ZXJ7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcJ2RhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIGZpbGwtb3BhY2l0eT1cIi4wNVwiPjxwYXRoIGQ9XCJNOCAwaDh2OEg4ek0wIDhoOHY4SDB6XCIvPjwvc3ZnPlxcJyl9LnJlYWN0LWNvbG9yZnVsX19zYXR1cmF0aW9uLXBvaW50ZXJ7ei1pbmRleDozfS5yZWFjdC1jb2xvcmZ1bF9faHVlLXBvaW50ZXJ7ei1pbmRleDoyfScsIFIuc2V0KHIsIHQpO1xuICAgICAgdmFyIG4gPSBYKCk7XG4gICAgICBuICYmIHQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbiksIHIuaGVhZC5hcHBlbmRDaGlsZCh0KTtcbiAgICB9XG4gIH0sIFtdKTtcbn0sXG4gICAgJCA9IGZ1bmN0aW9uICQodCkge1xuICB2YXIgbiA9IHQuY2xhc3NOYW1lLFxuICAgICAgbyA9IHQuY29sb3JNb2RlbCxcbiAgICAgIGEgPSB0LmNvbG9yLFxuICAgICAgbCA9IHZvaWQgMCA9PT0gYSA/IG8uZGVmYXVsdENvbG9yIDogYSxcbiAgICAgIGkgPSB0Lm9uQ2hhbmdlLFxuICAgICAgcyA9IGModCwgW1wiY2xhc3NOYW1lXCIsIFwiY29sb3JNb2RlbFwiLCBcImNvbG9yXCIsIFwib25DaGFuZ2VcIl0pLFxuICAgICAgZiA9IHVzZVJlZihudWxsKTtcbiAgVihmKTtcbiAgdmFyIHYgPSBUKG8sIGwsIGkpLFxuICAgICAgZCA9IHZbMF0sXG4gICAgICBoID0gdlsxXSxcbiAgICAgIG0gPSBnKFtcInJlYWN0LWNvbG9yZnVsXCIsIG5dKTtcbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgdSh7fSwgcywge1xuICAgIHJlZjogZixcbiAgICBjbGFzc05hbWU6IG1cbiAgfSksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoTCwge1xuICAgIGhzdmE6IGQsXG4gICAgb25DaGFuZ2U6IGhcbiAgfSksIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoSywge1xuICAgIGh1ZTogZC5oLFxuICAgIG9uQ2hhbmdlOiBoLFxuICAgIGNsYXNzTmFtZTogXCJyZWFjdC1jb2xvcmZ1bF9fbGFzdC1jb250cm9sXCJcbiAgfSkpO1xufSxcbiAgICBHID0ge1xuICBkZWZhdWx0Q29sb3I6IFwiMDAwXCIsXG4gIHRvSHN2YTogZnVuY3Rpb24gdG9Ic3ZhKGUpIHtcbiAgICByZXR1cm4gQih4KGUpKTtcbiAgfSxcbiAgZnJvbUhzdmE6IGZ1bmN0aW9uIGZyb21Ic3ZhKGUpIHtcbiAgICByZXR1cm4gdCA9IChyID0gcShlKSkuZywgbiA9IHIuYiwgXCIjXCIgKyB6KHIucikgKyB6KHQpICsgeihuKTtcbiAgICB2YXIgciwgdCwgbjtcbiAgfSxcbiAgZXF1YWw6IGZ1bmN0aW9uIGVxdWFsKGUsIHIpIHtcbiAgICByZXR1cm4gZS50b0xvd2VyQ2FzZSgpID09PSByLnRvTG93ZXJDYXNlKCkgfHwgQSh4KGUpLCB4KHIpKTtcbiAgfVxufSxcbiAgICBKID0gZnVuY3Rpb24gSihyKSB7XG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KCQsIHUoe30sIHIsIHtcbiAgICBjb2xvck1vZGVsOiBHXG4gIH0pKTtcbn0sXG4gICAgUSA9IGZ1bmN0aW9uIFEocikge1xuICB2YXIgdCA9IHIuY2xhc3NOYW1lLFxuICAgICAgbiA9IHIuaHN2YSxcbiAgICAgIG8gPSByLm9uQ2hhbmdlLFxuICAgICAgYSA9IHtcbiAgICBiYWNrZ3JvdW5kSW1hZ2U6IFwibGluZWFyLWdyYWRpZW50KDkwZGVnLCBcIiArIHkoT2JqZWN0LmFzc2lnbih7fSwgbiwge1xuICAgICAgYTogMFxuICAgIH0pKSArIFwiLCBcIiArIHkoT2JqZWN0LmFzc2lnbih7fSwgbiwge1xuICAgICAgYTogMVxuICAgIH0pKSArIFwiKVwiXG4gIH0sXG4gICAgICBsID0gZyhbXCJyZWFjdC1jb2xvcmZ1bF9fYWxwaGFcIiwgdF0pO1xuICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBsXG4gIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJyZWFjdC1jb2xvcmZ1bF9fYWxwaGEtZ3JhZGllbnRcIixcbiAgICBzdHlsZTogYVxuICB9KSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChtLCB7XG4gICAgb25Nb3ZlOiBmdW5jdGlvbiBvbk1vdmUoZSkge1xuICAgICAgbyh7XG4gICAgICAgIGE6IGUubGVmdFxuICAgICAgfSk7XG4gICAgfSxcbiAgICBvbktleTogZnVuY3Rpb24gb25LZXkoZSkge1xuICAgICAgbyh7XG4gICAgICAgIGE6IHMobi5hICsgZS5sZWZ0KVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBcImFyaWEtbGFiZWxcIjogXCJBbHBoYVwiLFxuICAgIFwiYXJpYS12YWx1ZXRleHRcIjogYigxMDAgKiBuLmEpICsgXCIlXCJcbiAgfSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChwLCB7XG4gICAgY2xhc3NOYW1lOiBcInJlYWN0LWNvbG9yZnVsX19hbHBoYS1wb2ludGVyXCIsXG4gICAgbGVmdDogbi5hLFxuICAgIGNvbG9yOiB5KG4pXG4gIH0pKSk7XG59LFxuICAgIFUgPSBmdW5jdGlvbiBVKHQpIHtcbiAgdmFyIG4gPSB0LmNsYXNzTmFtZSxcbiAgICAgIG8gPSB0LmNvbG9yTW9kZWwsXG4gICAgICBhID0gdC5jb2xvcixcbiAgICAgIGwgPSB2b2lkIDAgPT09IGEgPyBvLmRlZmF1bHRDb2xvciA6IGEsXG4gICAgICBpID0gdC5vbkNoYW5nZSxcbiAgICAgIHMgPSBjKHQsIFtcImNsYXNzTmFtZVwiLCBcImNvbG9yTW9kZWxcIiwgXCJjb2xvclwiLCBcIm9uQ2hhbmdlXCJdKSxcbiAgICAgIGYgPSB1c2VSZWYobnVsbCk7XG4gIFYoZik7XG4gIHZhciB2ID0gVChvLCBsLCBpKSxcbiAgICAgIGQgPSB2WzBdLFxuICAgICAgaCA9IHZbMV0sXG4gICAgICBtID0gZyhbXCJyZWFjdC1jb2xvcmZ1bFwiLCBuXSk7XG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHUoe30sIHMsIHtcbiAgICByZWY6IGYsXG4gICAgY2xhc3NOYW1lOiBtXG4gIH0pLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEwsIHtcbiAgICBoc3ZhOiBkLFxuICAgIG9uQ2hhbmdlOiBoXG4gIH0pLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEssIHtcbiAgICBodWU6IGQuaCxcbiAgICBvbkNoYW5nZTogaFxuICB9KSwgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChRLCB7XG4gICAgaHN2YTogZCxcbiAgICBvbkNoYW5nZTogaCxcbiAgICBjbGFzc05hbWU6IFwicmVhY3QtY29sb3JmdWxfX2xhc3QtY29udHJvbFwiXG4gIH0pKTtcbn0sXG4gICAgZWUgPSB7XG4gIGRlZmF1bHRDb2xvcjogXCJoc2xhKDAsIDAlLCAwJSwgMSlcIixcbiAgdG9Ic3ZhOiBFLFxuICBmcm9tSHN2YTogeSxcbiAgZXF1YWw6IFNcbn0sXG4gICAgcmUgPSBmdW5jdGlvbiByZShyKSB7XG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFUsIHUoe30sIHIsIHtcbiAgICBjb2xvck1vZGVsOiBlZVxuICB9KSk7XG59LFxuICAgIGdlID0ge1xuICBkZWZhdWx0Q29sb3I6IFwicmdiYSgwLCAwLCAwLCAxKVwiLFxuICB0b0hzdmE6IEksXG4gIGZyb21Ic3ZhOiBmdW5jdGlvbiBmcm9tSHN2YShlKSB7XG4gICAgdmFyIHIgPSBxKGUpO1xuICAgIHJldHVybiBcInJnYmEoXCIgKyByLnIgKyBcIiwgXCIgKyByLmcgKyBcIiwgXCIgKyByLmIgKyBcIiwgXCIgKyByLmEgKyBcIilcIjtcbiAgfSxcbiAgZXF1YWw6IFNcbn0sXG4gICAgcGUgPSBmdW5jdGlvbiBwZShyKSB7XG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFUsIHUoe30sIHIsIHtcbiAgICBjb2xvck1vZGVsOiBnZVxuICB9KSk7XG59O1xuXG52YXIgY29sb3JOYW1lID0ge1xuICBcImFsaWNlYmx1ZVwiOiBbMjQwLCAyNDgsIDI1NV0sXG4gIFwiYW50aXF1ZXdoaXRlXCI6IFsyNTAsIDIzNSwgMjE1XSxcbiAgXCJhcXVhXCI6IFswLCAyNTUsIDI1NV0sXG4gIFwiYXF1YW1hcmluZVwiOiBbMTI3LCAyNTUsIDIxMl0sXG4gIFwiYXp1cmVcIjogWzI0MCwgMjU1LCAyNTVdLFxuICBcImJlaWdlXCI6IFsyNDUsIDI0NSwgMjIwXSxcbiAgXCJiaXNxdWVcIjogWzI1NSwgMjI4LCAxOTZdLFxuICBcImJsYWNrXCI6IFswLCAwLCAwXSxcbiAgXCJibGFuY2hlZGFsbW9uZFwiOiBbMjU1LCAyMzUsIDIwNV0sXG4gIFwiYmx1ZVwiOiBbMCwgMCwgMjU1XSxcbiAgXCJibHVldmlvbGV0XCI6IFsxMzgsIDQzLCAyMjZdLFxuICBcImJyb3duXCI6IFsxNjUsIDQyLCA0Ml0sXG4gIFwiYnVybHl3b29kXCI6IFsyMjIsIDE4NCwgMTM1XSxcbiAgXCJjYWRldGJsdWVcIjogWzk1LCAxNTgsIDE2MF0sXG4gIFwiY2hhcnRyZXVzZVwiOiBbMTI3LCAyNTUsIDBdLFxuICBcImNob2NvbGF0ZVwiOiBbMjEwLCAxMDUsIDMwXSxcbiAgXCJjb3JhbFwiOiBbMjU1LCAxMjcsIDgwXSxcbiAgXCJjb3JuZmxvd2VyYmx1ZVwiOiBbMTAwLCAxNDksIDIzN10sXG4gIFwiY29ybnNpbGtcIjogWzI1NSwgMjQ4LCAyMjBdLFxuICBcImNyaW1zb25cIjogWzIyMCwgMjAsIDYwXSxcbiAgXCJjeWFuXCI6IFswLCAyNTUsIDI1NV0sXG4gIFwiZGFya2JsdWVcIjogWzAsIDAsIDEzOV0sXG4gIFwiZGFya2N5YW5cIjogWzAsIDEzOSwgMTM5XSxcbiAgXCJkYXJrZ29sZGVucm9kXCI6IFsxODQsIDEzNCwgMTFdLFxuICBcImRhcmtncmF5XCI6IFsxNjksIDE2OSwgMTY5XSxcbiAgXCJkYXJrZ3JlZW5cIjogWzAsIDEwMCwgMF0sXG4gIFwiZGFya2dyZXlcIjogWzE2OSwgMTY5LCAxNjldLFxuICBcImRhcmtraGFraVwiOiBbMTg5LCAxODMsIDEwN10sXG4gIFwiZGFya21hZ2VudGFcIjogWzEzOSwgMCwgMTM5XSxcbiAgXCJkYXJrb2xpdmVncmVlblwiOiBbODUsIDEwNywgNDddLFxuICBcImRhcmtvcmFuZ2VcIjogWzI1NSwgMTQwLCAwXSxcbiAgXCJkYXJrb3JjaGlkXCI6IFsxNTMsIDUwLCAyMDRdLFxuICBcImRhcmtyZWRcIjogWzEzOSwgMCwgMF0sXG4gIFwiZGFya3NhbG1vblwiOiBbMjMzLCAxNTAsIDEyMl0sXG4gIFwiZGFya3NlYWdyZWVuXCI6IFsxNDMsIDE4OCwgMTQzXSxcbiAgXCJkYXJrc2xhdGVibHVlXCI6IFs3MiwgNjEsIDEzOV0sXG4gIFwiZGFya3NsYXRlZ3JheVwiOiBbNDcsIDc5LCA3OV0sXG4gIFwiZGFya3NsYXRlZ3JleVwiOiBbNDcsIDc5LCA3OV0sXG4gIFwiZGFya3R1cnF1b2lzZVwiOiBbMCwgMjA2LCAyMDldLFxuICBcImRhcmt2aW9sZXRcIjogWzE0OCwgMCwgMjExXSxcbiAgXCJkZWVwcGlua1wiOiBbMjU1LCAyMCwgMTQ3XSxcbiAgXCJkZWVwc2t5Ymx1ZVwiOiBbMCwgMTkxLCAyNTVdLFxuICBcImRpbWdyYXlcIjogWzEwNSwgMTA1LCAxMDVdLFxuICBcImRpbWdyZXlcIjogWzEwNSwgMTA1LCAxMDVdLFxuICBcImRvZGdlcmJsdWVcIjogWzMwLCAxNDQsIDI1NV0sXG4gIFwiZmlyZWJyaWNrXCI6IFsxNzgsIDM0LCAzNF0sXG4gIFwiZmxvcmFsd2hpdGVcIjogWzI1NSwgMjUwLCAyNDBdLFxuICBcImZvcmVzdGdyZWVuXCI6IFszNCwgMTM5LCAzNF0sXG4gIFwiZnVjaHNpYVwiOiBbMjU1LCAwLCAyNTVdLFxuICBcImdhaW5zYm9yb1wiOiBbMjIwLCAyMjAsIDIyMF0sXG4gIFwiZ2hvc3R3aGl0ZVwiOiBbMjQ4LCAyNDgsIDI1NV0sXG4gIFwiZ29sZFwiOiBbMjU1LCAyMTUsIDBdLFxuICBcImdvbGRlbnJvZFwiOiBbMjE4LCAxNjUsIDMyXSxcbiAgXCJncmF5XCI6IFsxMjgsIDEyOCwgMTI4XSxcbiAgXCJncmVlblwiOiBbMCwgMTI4LCAwXSxcbiAgXCJncmVlbnllbGxvd1wiOiBbMTczLCAyNTUsIDQ3XSxcbiAgXCJncmV5XCI6IFsxMjgsIDEyOCwgMTI4XSxcbiAgXCJob25leWRld1wiOiBbMjQwLCAyNTUsIDI0MF0sXG4gIFwiaG90cGlua1wiOiBbMjU1LCAxMDUsIDE4MF0sXG4gIFwiaW5kaWFucmVkXCI6IFsyMDUsIDkyLCA5Ml0sXG4gIFwiaW5kaWdvXCI6IFs3NSwgMCwgMTMwXSxcbiAgXCJpdm9yeVwiOiBbMjU1LCAyNTUsIDI0MF0sXG4gIFwia2hha2lcIjogWzI0MCwgMjMwLCAxNDBdLFxuICBcImxhdmVuZGVyXCI6IFsyMzAsIDIzMCwgMjUwXSxcbiAgXCJsYXZlbmRlcmJsdXNoXCI6IFsyNTUsIDI0MCwgMjQ1XSxcbiAgXCJsYXduZ3JlZW5cIjogWzEyNCwgMjUyLCAwXSxcbiAgXCJsZW1vbmNoaWZmb25cIjogWzI1NSwgMjUwLCAyMDVdLFxuICBcImxpZ2h0Ymx1ZVwiOiBbMTczLCAyMTYsIDIzMF0sXG4gIFwibGlnaHRjb3JhbFwiOiBbMjQwLCAxMjgsIDEyOF0sXG4gIFwibGlnaHRjeWFuXCI6IFsyMjQsIDI1NSwgMjU1XSxcbiAgXCJsaWdodGdvbGRlbnJvZHllbGxvd1wiOiBbMjUwLCAyNTAsIDIxMF0sXG4gIFwibGlnaHRncmF5XCI6IFsyMTEsIDIxMSwgMjExXSxcbiAgXCJsaWdodGdyZWVuXCI6IFsxNDQsIDIzOCwgMTQ0XSxcbiAgXCJsaWdodGdyZXlcIjogWzIxMSwgMjExLCAyMTFdLFxuICBcImxpZ2h0cGlua1wiOiBbMjU1LCAxODIsIDE5M10sXG4gIFwibGlnaHRzYWxtb25cIjogWzI1NSwgMTYwLCAxMjJdLFxuICBcImxpZ2h0c2VhZ3JlZW5cIjogWzMyLCAxNzgsIDE3MF0sXG4gIFwibGlnaHRza3libHVlXCI6IFsxMzUsIDIwNiwgMjUwXSxcbiAgXCJsaWdodHNsYXRlZ3JheVwiOiBbMTE5LCAxMzYsIDE1M10sXG4gIFwibGlnaHRzbGF0ZWdyZXlcIjogWzExOSwgMTM2LCAxNTNdLFxuICBcImxpZ2h0c3RlZWxibHVlXCI6IFsxNzYsIDE5NiwgMjIyXSxcbiAgXCJsaWdodHllbGxvd1wiOiBbMjU1LCAyNTUsIDIyNF0sXG4gIFwibGltZVwiOiBbMCwgMjU1LCAwXSxcbiAgXCJsaW1lZ3JlZW5cIjogWzUwLCAyMDUsIDUwXSxcbiAgXCJsaW5lblwiOiBbMjUwLCAyNDAsIDIzMF0sXG4gIFwibWFnZW50YVwiOiBbMjU1LCAwLCAyNTVdLFxuICBcIm1hcm9vblwiOiBbMTI4LCAwLCAwXSxcbiAgXCJtZWRpdW1hcXVhbWFyaW5lXCI6IFsxMDIsIDIwNSwgMTcwXSxcbiAgXCJtZWRpdW1ibHVlXCI6IFswLCAwLCAyMDVdLFxuICBcIm1lZGl1bW9yY2hpZFwiOiBbMTg2LCA4NSwgMjExXSxcbiAgXCJtZWRpdW1wdXJwbGVcIjogWzE0NywgMTEyLCAyMTldLFxuICBcIm1lZGl1bXNlYWdyZWVuXCI6IFs2MCwgMTc5LCAxMTNdLFxuICBcIm1lZGl1bXNsYXRlYmx1ZVwiOiBbMTIzLCAxMDQsIDIzOF0sXG4gIFwibWVkaXVtc3ByaW5nZ3JlZW5cIjogWzAsIDI1MCwgMTU0XSxcbiAgXCJtZWRpdW10dXJxdW9pc2VcIjogWzcyLCAyMDksIDIwNF0sXG4gIFwibWVkaXVtdmlvbGV0cmVkXCI6IFsxOTksIDIxLCAxMzNdLFxuICBcIm1pZG5pZ2h0Ymx1ZVwiOiBbMjUsIDI1LCAxMTJdLFxuICBcIm1pbnRjcmVhbVwiOiBbMjQ1LCAyNTUsIDI1MF0sXG4gIFwibWlzdHlyb3NlXCI6IFsyNTUsIDIyOCwgMjI1XSxcbiAgXCJtb2NjYXNpblwiOiBbMjU1LCAyMjgsIDE4MV0sXG4gIFwibmF2YWpvd2hpdGVcIjogWzI1NSwgMjIyLCAxNzNdLFxuICBcIm5hdnlcIjogWzAsIDAsIDEyOF0sXG4gIFwib2xkbGFjZVwiOiBbMjUzLCAyNDUsIDIzMF0sXG4gIFwib2xpdmVcIjogWzEyOCwgMTI4LCAwXSxcbiAgXCJvbGl2ZWRyYWJcIjogWzEwNywgMTQyLCAzNV0sXG4gIFwib3JhbmdlXCI6IFsyNTUsIDE2NSwgMF0sXG4gIFwib3JhbmdlcmVkXCI6IFsyNTUsIDY5LCAwXSxcbiAgXCJvcmNoaWRcIjogWzIxOCwgMTEyLCAyMTRdLFxuICBcInBhbGVnb2xkZW5yb2RcIjogWzIzOCwgMjMyLCAxNzBdLFxuICBcInBhbGVncmVlblwiOiBbMTUyLCAyNTEsIDE1Ml0sXG4gIFwicGFsZXR1cnF1b2lzZVwiOiBbMTc1LCAyMzgsIDIzOF0sXG4gIFwicGFsZXZpb2xldHJlZFwiOiBbMjE5LCAxMTIsIDE0N10sXG4gIFwicGFwYXlhd2hpcFwiOiBbMjU1LCAyMzksIDIxM10sXG4gIFwicGVhY2hwdWZmXCI6IFsyNTUsIDIxOCwgMTg1XSxcbiAgXCJwZXJ1XCI6IFsyMDUsIDEzMywgNjNdLFxuICBcInBpbmtcIjogWzI1NSwgMTkyLCAyMDNdLFxuICBcInBsdW1cIjogWzIyMSwgMTYwLCAyMjFdLFxuICBcInBvd2RlcmJsdWVcIjogWzE3NiwgMjI0LCAyMzBdLFxuICBcInB1cnBsZVwiOiBbMTI4LCAwLCAxMjhdLFxuICBcInJlYmVjY2FwdXJwbGVcIjogWzEwMiwgNTEsIDE1M10sXG4gIFwicmVkXCI6IFsyNTUsIDAsIDBdLFxuICBcInJvc3licm93blwiOiBbMTg4LCAxNDMsIDE0M10sXG4gIFwicm95YWxibHVlXCI6IFs2NSwgMTA1LCAyMjVdLFxuICBcInNhZGRsZWJyb3duXCI6IFsxMzksIDY5LCAxOV0sXG4gIFwic2FsbW9uXCI6IFsyNTAsIDEyOCwgMTE0XSxcbiAgXCJzYW5keWJyb3duXCI6IFsyNDQsIDE2NCwgOTZdLFxuICBcInNlYWdyZWVuXCI6IFs0NiwgMTM5LCA4N10sXG4gIFwic2Vhc2hlbGxcIjogWzI1NSwgMjQ1LCAyMzhdLFxuICBcInNpZW5uYVwiOiBbMTYwLCA4MiwgNDVdLFxuICBcInNpbHZlclwiOiBbMTkyLCAxOTIsIDE5Ml0sXG4gIFwic2t5Ymx1ZVwiOiBbMTM1LCAyMDYsIDIzNV0sXG4gIFwic2xhdGVibHVlXCI6IFsxMDYsIDkwLCAyMDVdLFxuICBcInNsYXRlZ3JheVwiOiBbMTEyLCAxMjgsIDE0NF0sXG4gIFwic2xhdGVncmV5XCI6IFsxMTIsIDEyOCwgMTQ0XSxcbiAgXCJzbm93XCI6IFsyNTUsIDI1MCwgMjUwXSxcbiAgXCJzcHJpbmdncmVlblwiOiBbMCwgMjU1LCAxMjddLFxuICBcInN0ZWVsYmx1ZVwiOiBbNzAsIDEzMCwgMTgwXSxcbiAgXCJ0YW5cIjogWzIxMCwgMTgwLCAxNDBdLFxuICBcInRlYWxcIjogWzAsIDEyOCwgMTI4XSxcbiAgXCJ0aGlzdGxlXCI6IFsyMTYsIDE5MSwgMjE2XSxcbiAgXCJ0b21hdG9cIjogWzI1NSwgOTksIDcxXSxcbiAgXCJ0dXJxdW9pc2VcIjogWzY0LCAyMjQsIDIwOF0sXG4gIFwidmlvbGV0XCI6IFsyMzgsIDEzMCwgMjM4XSxcbiAgXCJ3aGVhdFwiOiBbMjQ1LCAyMjIsIDE3OV0sXG4gIFwid2hpdGVcIjogWzI1NSwgMjU1LCAyNTVdLFxuICBcIndoaXRlc21va2VcIjogWzI0NSwgMjQ1LCAyNDVdLFxuICBcInllbGxvd1wiOiBbMjU1LCAyNTUsIDBdLFxuICBcInllbGxvd2dyZWVuXCI6IFsxNTQsIDIwNSwgNTBdXG59O1xuLyogTUlUIGxpY2Vuc2UgKi9cblxuLyogZXNsaW50LWRpc2FibGUgbm8tbWl4ZWQtb3BlcmF0b3JzICovXG5cbnZhciBjc3NLZXl3b3JkcyA9IGNvbG9yTmFtZTsgLy8gTk9URTogY29udmVyc2lvbnMgc2hvdWxkIG9ubHkgcmV0dXJuIHByaW1pdGl2ZSB2YWx1ZXMgKGkuZS4gYXJyYXlzLCBvclxuLy8gICAgICAgdmFsdWVzIHRoYXQgZ2l2ZSBjb3JyZWN0IGB0eXBlb2ZgIHJlc3VsdHMpLlxuLy8gICAgICAgZG8gbm90IHVzZSBib3ggdmFsdWVzIHR5cGVzIChpLmUuIE51bWJlcigpLCBTdHJpbmcoKSwgZXRjLilcblxudmFyIHJldmVyc2VLZXl3b3JkcyA9IHt9O1xuXG5mb3IgKHZhciBfaSA9IDAsIF9PYmplY3Qka2V5cyA9IE9iamVjdC5rZXlzKGNzc0tleXdvcmRzKTsgX2kgPCBfT2JqZWN0JGtleXMubGVuZ3RoOyBfaSsrKSB7XG4gIHZhciBrZXkgPSBfT2JqZWN0JGtleXNbX2ldO1xuICByZXZlcnNlS2V5d29yZHNbY3NzS2V5d29yZHNba2V5XV0gPSBrZXk7XG59XG5cbnZhciBjb252ZXJ0JDEgPSB7XG4gIHJnYjoge1xuICAgIGNoYW5uZWxzOiAzLFxuICAgIGxhYmVsczogJ3JnYidcbiAgfSxcbiAgaHNsOiB7XG4gICAgY2hhbm5lbHM6IDMsXG4gICAgbGFiZWxzOiAnaHNsJ1xuICB9LFxuICBoc3Y6IHtcbiAgICBjaGFubmVsczogMyxcbiAgICBsYWJlbHM6ICdoc3YnXG4gIH0sXG4gIGh3Yjoge1xuICAgIGNoYW5uZWxzOiAzLFxuICAgIGxhYmVsczogJ2h3YidcbiAgfSxcbiAgY215azoge1xuICAgIGNoYW5uZWxzOiA0LFxuICAgIGxhYmVsczogJ2NteWsnXG4gIH0sXG4gIHh5ejoge1xuICAgIGNoYW5uZWxzOiAzLFxuICAgIGxhYmVsczogJ3h5eidcbiAgfSxcbiAgbGFiOiB7XG4gICAgY2hhbm5lbHM6IDMsXG4gICAgbGFiZWxzOiAnbGFiJ1xuICB9LFxuICBsY2g6IHtcbiAgICBjaGFubmVsczogMyxcbiAgICBsYWJlbHM6ICdsY2gnXG4gIH0sXG4gIGhleDoge1xuICAgIGNoYW5uZWxzOiAxLFxuICAgIGxhYmVsczogWydoZXgnXVxuICB9LFxuICBrZXl3b3JkOiB7XG4gICAgY2hhbm5lbHM6IDEsXG4gICAgbGFiZWxzOiBbJ2tleXdvcmQnXVxuICB9LFxuICBhbnNpMTY6IHtcbiAgICBjaGFubmVsczogMSxcbiAgICBsYWJlbHM6IFsnYW5zaTE2J11cbiAgfSxcbiAgYW5zaTI1Njoge1xuICAgIGNoYW5uZWxzOiAxLFxuICAgIGxhYmVsczogWydhbnNpMjU2J11cbiAgfSxcbiAgaGNnOiB7XG4gICAgY2hhbm5lbHM6IDMsXG4gICAgbGFiZWxzOiBbJ2gnLCAnYycsICdnJ11cbiAgfSxcbiAgYXBwbGU6IHtcbiAgICBjaGFubmVsczogMyxcbiAgICBsYWJlbHM6IFsncjE2JywgJ2cxNicsICdiMTYnXVxuICB9LFxuICBncmF5OiB7XG4gICAgY2hhbm5lbHM6IDEsXG4gICAgbGFiZWxzOiBbJ2dyYXknXVxuICB9XG59O1xudmFyIGNvbnZlcnNpb25zJDIgPSBjb252ZXJ0JDE7IC8vIEhpZGUgLmNoYW5uZWxzIGFuZCAubGFiZWxzIHByb3BlcnRpZXNcblxuZm9yICh2YXIgX2kyID0gMCwgX09iamVjdCRrZXlzMiA9IE9iamVjdC5rZXlzKGNvbnZlcnQkMSk7IF9pMiA8IF9PYmplY3Qka2V5czIubGVuZ3RoOyBfaTIrKykge1xuICB2YXIgbW9kZWwgPSBfT2JqZWN0JGtleXMyW19pMl07XG5cbiAgaWYgKCEoJ2NoYW5uZWxzJyBpbiBjb252ZXJ0JDFbbW9kZWxdKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignbWlzc2luZyBjaGFubmVscyBwcm9wZXJ0eTogJyArIG1vZGVsKTtcbiAgfVxuXG4gIGlmICghKCdsYWJlbHMnIGluIGNvbnZlcnQkMVttb2RlbF0pKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdtaXNzaW5nIGNoYW5uZWwgbGFiZWxzIHByb3BlcnR5OiAnICsgbW9kZWwpO1xuICB9XG5cbiAgaWYgKGNvbnZlcnQkMVttb2RlbF0ubGFiZWxzLmxlbmd0aCAhPT0gY29udmVydCQxW21vZGVsXS5jaGFubmVscykge1xuICAgIHRocm93IG5ldyBFcnJvcignY2hhbm5lbCBhbmQgbGFiZWwgY291bnRzIG1pc21hdGNoOiAnICsgbW9kZWwpO1xuICB9XG5cbiAgdmFyIF9jb252ZXJ0JDEkbW9kZWwgPSBjb252ZXJ0JDFbbW9kZWxdLFxuICAgICAgY2hhbm5lbHMgPSBfY29udmVydCQxJG1vZGVsLmNoYW5uZWxzLFxuICAgICAgbGFiZWxzID0gX2NvbnZlcnQkMSRtb2RlbC5sYWJlbHM7XG4gIGRlbGV0ZSBjb252ZXJ0JDFbbW9kZWxdLmNoYW5uZWxzO1xuICBkZWxldGUgY29udmVydCQxW21vZGVsXS5sYWJlbHM7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb252ZXJ0JDFbbW9kZWxdLCAnY2hhbm5lbHMnLCB7XG4gICAgdmFsdWU6IGNoYW5uZWxzXG4gIH0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29udmVydCQxW21vZGVsXSwgJ2xhYmVscycsIHtcbiAgICB2YWx1ZTogbGFiZWxzXG4gIH0pO1xufVxuXG5jb252ZXJ0JDEucmdiLmhzbCA9IGZ1bmN0aW9uIChyZ2IpIHtcbiAgdmFyIHIgPSByZ2JbMF0gLyAyNTU7XG4gIHZhciBnID0gcmdiWzFdIC8gMjU1O1xuICB2YXIgYiA9IHJnYlsyXSAvIDI1NTtcbiAgdmFyIG1pbiA9IE1hdGgubWluKHIsIGcsIGIpO1xuICB2YXIgbWF4ID0gTWF0aC5tYXgociwgZywgYik7XG4gIHZhciBkZWx0YSA9IG1heCAtIG1pbjtcbiAgdmFyIGg7XG4gIHZhciBzO1xuXG4gIGlmIChtYXggPT09IG1pbikge1xuICAgIGggPSAwO1xuICB9IGVsc2UgaWYgKHIgPT09IG1heCkge1xuICAgIGggPSAoZyAtIGIpIC8gZGVsdGE7XG4gIH0gZWxzZSBpZiAoZyA9PT0gbWF4KSB7XG4gICAgaCA9IDIgKyAoYiAtIHIpIC8gZGVsdGE7XG4gIH0gZWxzZSBpZiAoYiA9PT0gbWF4KSB7XG4gICAgaCA9IDQgKyAociAtIGcpIC8gZGVsdGE7XG4gIH1cblxuICBoID0gTWF0aC5taW4oaCAqIDYwLCAzNjApO1xuXG4gIGlmIChoIDwgMCkge1xuICAgIGggKz0gMzYwO1xuICB9XG5cbiAgdmFyIGwgPSAobWluICsgbWF4KSAvIDI7XG5cbiAgaWYgKG1heCA9PT0gbWluKSB7XG4gICAgcyA9IDA7XG4gIH0gZWxzZSBpZiAobCA8PSAwLjUpIHtcbiAgICBzID0gZGVsdGEgLyAobWF4ICsgbWluKTtcbiAgfSBlbHNlIHtcbiAgICBzID0gZGVsdGEgLyAoMiAtIG1heCAtIG1pbik7XG4gIH1cblxuICByZXR1cm4gW2gsIHMgKiAxMDAsIGwgKiAxMDBdO1xufTtcblxuY29udmVydCQxLnJnYi5oc3YgPSBmdW5jdGlvbiAocmdiKSB7XG4gIHZhciByZGlmO1xuICB2YXIgZ2RpZjtcbiAgdmFyIGJkaWY7XG4gIHZhciBoO1xuICB2YXIgcztcbiAgdmFyIHIgPSByZ2JbMF0gLyAyNTU7XG4gIHZhciBnID0gcmdiWzFdIC8gMjU1O1xuICB2YXIgYiA9IHJnYlsyXSAvIDI1NTtcbiAgdmFyIHYgPSBNYXRoLm1heChyLCBnLCBiKTtcbiAgdmFyIGRpZmYgPSB2IC0gTWF0aC5taW4ociwgZywgYik7XG5cbiAgdmFyIGRpZmZjID0gZnVuY3Rpb24gZGlmZmMoYykge1xuICAgIHJldHVybiAodiAtIGMpIC8gNiAvIGRpZmYgKyAxIC8gMjtcbiAgfTtcblxuICBpZiAoZGlmZiA9PT0gMCkge1xuICAgIGggPSAwO1xuICAgIHMgPSAwO1xuICB9IGVsc2Uge1xuICAgIHMgPSBkaWZmIC8gdjtcbiAgICByZGlmID0gZGlmZmMocik7XG4gICAgZ2RpZiA9IGRpZmZjKGcpO1xuICAgIGJkaWYgPSBkaWZmYyhiKTtcblxuICAgIGlmIChyID09PSB2KSB7XG4gICAgICBoID0gYmRpZiAtIGdkaWY7XG4gICAgfSBlbHNlIGlmIChnID09PSB2KSB7XG4gICAgICBoID0gMSAvIDMgKyByZGlmIC0gYmRpZjtcbiAgICB9IGVsc2UgaWYgKGIgPT09IHYpIHtcbiAgICAgIGggPSAyIC8gMyArIGdkaWYgLSByZGlmO1xuICAgIH1cblxuICAgIGlmIChoIDwgMCkge1xuICAgICAgaCArPSAxO1xuICAgIH0gZWxzZSBpZiAoaCA+IDEpIHtcbiAgICAgIGggLT0gMTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gW2ggKiAzNjAsIHMgKiAxMDAsIHYgKiAxMDBdO1xufTtcblxuY29udmVydCQxLnJnYi5od2IgPSBmdW5jdGlvbiAocmdiKSB7XG4gIHZhciByID0gcmdiWzBdO1xuICB2YXIgZyA9IHJnYlsxXTtcbiAgdmFyIGIgPSByZ2JbMl07XG4gIHZhciBoID0gY29udmVydCQxLnJnYi5oc2wocmdiKVswXTtcbiAgdmFyIHcgPSAxIC8gMjU1ICogTWF0aC5taW4ociwgTWF0aC5taW4oZywgYikpO1xuICBiID0gMSAtIDEgLyAyNTUgKiBNYXRoLm1heChyLCBNYXRoLm1heChnLCBiKSk7XG4gIHJldHVybiBbaCwgdyAqIDEwMCwgYiAqIDEwMF07XG59O1xuXG5jb252ZXJ0JDEucmdiLmNteWsgPSBmdW5jdGlvbiAocmdiKSB7XG4gIHZhciByID0gcmdiWzBdIC8gMjU1O1xuICB2YXIgZyA9IHJnYlsxXSAvIDI1NTtcbiAgdmFyIGIgPSByZ2JbMl0gLyAyNTU7XG4gIHZhciBrID0gTWF0aC5taW4oMSAtIHIsIDEgLSBnLCAxIC0gYik7XG4gIHZhciBjID0gKDEgLSByIC0gaykgLyAoMSAtIGspIHx8IDA7XG4gIHZhciBtID0gKDEgLSBnIC0gaykgLyAoMSAtIGspIHx8IDA7XG4gIHZhciB5ID0gKDEgLSBiIC0gaykgLyAoMSAtIGspIHx8IDA7XG4gIHJldHVybiBbYyAqIDEwMCwgbSAqIDEwMCwgeSAqIDEwMCwgayAqIDEwMF07XG59O1xuXG5mdW5jdGlvbiBjb21wYXJhdGl2ZURpc3RhbmNlKHgsIHkpIHtcbiAgLypcbiAgXHRTZWUgaHR0cHM6Ly9lbi5tLndpa2lwZWRpYS5vcmcvd2lraS9FdWNsaWRlYW5fZGlzdGFuY2UjU3F1YXJlZF9FdWNsaWRlYW5fZGlzdGFuY2VcbiAgKi9cbiAgcmV0dXJuIE1hdGgucG93KHhbMF0gLSB5WzBdLCAyKSArIE1hdGgucG93KHhbMV0gLSB5WzFdLCAyKSArIE1hdGgucG93KHhbMl0gLSB5WzJdLCAyKTtcbn1cblxuY29udmVydCQxLnJnYi5rZXl3b3JkID0gZnVuY3Rpb24gKHJnYikge1xuICB2YXIgcmV2ZXJzZWQgPSByZXZlcnNlS2V5d29yZHNbcmdiXTtcblxuICBpZiAocmV2ZXJzZWQpIHtcbiAgICByZXR1cm4gcmV2ZXJzZWQ7XG4gIH1cblxuICB2YXIgY3VycmVudENsb3Nlc3REaXN0YW5jZSA9IEluZmluaXR5O1xuICB2YXIgY3VycmVudENsb3Nlc3RLZXl3b3JkO1xuXG4gIGZvciAodmFyIF9pMyA9IDAsIF9PYmplY3Qka2V5czMgPSBPYmplY3Qua2V5cyhjc3NLZXl3b3Jkcyk7IF9pMyA8IF9PYmplY3Qka2V5czMubGVuZ3RoOyBfaTMrKykge1xuICAgIHZhciBrZXl3b3JkID0gX09iamVjdCRrZXlzM1tfaTNdO1xuICAgIHZhciB2YWx1ZSA9IGNzc0tleXdvcmRzW2tleXdvcmRdOyAvLyBDb21wdXRlIGNvbXBhcmF0aXZlIGRpc3RhbmNlXG5cbiAgICB2YXIgZGlzdGFuY2UgPSBjb21wYXJhdGl2ZURpc3RhbmNlKHJnYiwgdmFsdWUpOyAvLyBDaGVjayBpZiBpdHMgbGVzcywgaWYgc28gc2V0IGFzIGNsb3Nlc3RcblxuICAgIGlmIChkaXN0YW5jZSA8IGN1cnJlbnRDbG9zZXN0RGlzdGFuY2UpIHtcbiAgICAgIGN1cnJlbnRDbG9zZXN0RGlzdGFuY2UgPSBkaXN0YW5jZTtcbiAgICAgIGN1cnJlbnRDbG9zZXN0S2V5d29yZCA9IGtleXdvcmQ7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGN1cnJlbnRDbG9zZXN0S2V5d29yZDtcbn07XG5cbmNvbnZlcnQkMS5rZXl3b3JkLnJnYiA9IGZ1bmN0aW9uIChrZXl3b3JkKSB7XG4gIHJldHVybiBjc3NLZXl3b3Jkc1trZXl3b3JkXTtcbn07XG5cbmNvbnZlcnQkMS5yZ2IueHl6ID0gZnVuY3Rpb24gKHJnYikge1xuICB2YXIgciA9IHJnYlswXSAvIDI1NTtcbiAgdmFyIGcgPSByZ2JbMV0gLyAyNTU7XG4gIHZhciBiID0gcmdiWzJdIC8gMjU1OyAvLyBBc3N1bWUgc1JHQlxuXG4gIHIgPSByID4gMC4wNDA0NSA/IE1hdGgucG93KChyICsgMC4wNTUpIC8gMS4wNTUsIDIuNCkgOiByIC8gMTIuOTI7XG4gIGcgPSBnID4gMC4wNDA0NSA/IE1hdGgucG93KChnICsgMC4wNTUpIC8gMS4wNTUsIDIuNCkgOiBnIC8gMTIuOTI7XG4gIGIgPSBiID4gMC4wNDA0NSA/IE1hdGgucG93KChiICsgMC4wNTUpIC8gMS4wNTUsIDIuNCkgOiBiIC8gMTIuOTI7XG4gIHZhciB4ID0gciAqIDAuNDEyNCArIGcgKiAwLjM1NzYgKyBiICogMC4xODA1O1xuICB2YXIgeSA9IHIgKiAwLjIxMjYgKyBnICogMC43MTUyICsgYiAqIDAuMDcyMjtcbiAgdmFyIHogPSByICogMC4wMTkzICsgZyAqIDAuMTE5MiArIGIgKiAwLjk1MDU7XG4gIHJldHVybiBbeCAqIDEwMCwgeSAqIDEwMCwgeiAqIDEwMF07XG59O1xuXG5jb252ZXJ0JDEucmdiLmxhYiA9IGZ1bmN0aW9uIChyZ2IpIHtcbiAgdmFyIHh5eiA9IGNvbnZlcnQkMS5yZ2IueHl6KHJnYik7XG4gIHZhciB4ID0geHl6WzBdO1xuICB2YXIgeSA9IHh5elsxXTtcbiAgdmFyIHogPSB4eXpbMl07XG4gIHggLz0gOTUuMDQ3O1xuICB5IC89IDEwMDtcbiAgeiAvPSAxMDguODgzO1xuICB4ID0geCA+IDAuMDA4ODU2ID8gTWF0aC5wb3coeCwgMSAvIDMpIDogNy43ODcgKiB4ICsgMTYgLyAxMTY7XG4gIHkgPSB5ID4gMC4wMDg4NTYgPyBNYXRoLnBvdyh5LCAxIC8gMykgOiA3Ljc4NyAqIHkgKyAxNiAvIDExNjtcbiAgeiA9IHogPiAwLjAwODg1NiA/IE1hdGgucG93KHosIDEgLyAzKSA6IDcuNzg3ICogeiArIDE2IC8gMTE2O1xuICB2YXIgbCA9IDExNiAqIHkgLSAxNjtcbiAgdmFyIGEgPSA1MDAgKiAoeCAtIHkpO1xuICB2YXIgYiA9IDIwMCAqICh5IC0geik7XG4gIHJldHVybiBbbCwgYSwgYl07XG59O1xuXG5jb252ZXJ0JDEuaHNsLnJnYiA9IGZ1bmN0aW9uIChoc2wpIHtcbiAgdmFyIGggPSBoc2xbMF0gLyAzNjA7XG4gIHZhciBzID0gaHNsWzFdIC8gMTAwO1xuICB2YXIgbCA9IGhzbFsyXSAvIDEwMDtcbiAgdmFyIHQyO1xuICB2YXIgdDM7XG4gIHZhciB2YWw7XG5cbiAgaWYgKHMgPT09IDApIHtcbiAgICB2YWwgPSBsICogMjU1O1xuICAgIHJldHVybiBbdmFsLCB2YWwsIHZhbF07XG4gIH1cblxuICBpZiAobCA8IDAuNSkge1xuICAgIHQyID0gbCAqICgxICsgcyk7XG4gIH0gZWxzZSB7XG4gICAgdDIgPSBsICsgcyAtIGwgKiBzO1xuICB9XG5cbiAgdmFyIHQxID0gMiAqIGwgLSB0MjtcbiAgdmFyIHJnYiA9IFswLCAwLCAwXTtcblxuICBmb3IgKHZhciBfaTQgPSAwOyBfaTQgPCAzOyBfaTQrKykge1xuICAgIHQzID0gaCArIDEgLyAzICogLShfaTQgLSAxKTtcblxuICAgIGlmICh0MyA8IDApIHtcbiAgICAgIHQzKys7XG4gICAgfVxuXG4gICAgaWYgKHQzID4gMSkge1xuICAgICAgdDMtLTtcbiAgICB9XG5cbiAgICBpZiAoNiAqIHQzIDwgMSkge1xuICAgICAgdmFsID0gdDEgKyAodDIgLSB0MSkgKiA2ICogdDM7XG4gICAgfSBlbHNlIGlmICgyICogdDMgPCAxKSB7XG4gICAgICB2YWwgPSB0MjtcbiAgICB9IGVsc2UgaWYgKDMgKiB0MyA8IDIpIHtcbiAgICAgIHZhbCA9IHQxICsgKHQyIC0gdDEpICogKDIgLyAzIC0gdDMpICogNjtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsID0gdDE7XG4gICAgfVxuXG4gICAgcmdiW19pNF0gPSB2YWwgKiAyNTU7XG4gIH1cblxuICByZXR1cm4gcmdiO1xufTtcblxuY29udmVydCQxLmhzbC5oc3YgPSBmdW5jdGlvbiAoaHNsKSB7XG4gIHZhciBoID0gaHNsWzBdO1xuICB2YXIgcyA9IGhzbFsxXSAvIDEwMDtcbiAgdmFyIGwgPSBoc2xbMl0gLyAxMDA7XG4gIHZhciBzbWluID0gcztcbiAgdmFyIGxtaW4gPSBNYXRoLm1heChsLCAwLjAxKTtcbiAgbCAqPSAyO1xuICBzICo9IGwgPD0gMSA/IGwgOiAyIC0gbDtcbiAgc21pbiAqPSBsbWluIDw9IDEgPyBsbWluIDogMiAtIGxtaW47XG4gIHZhciB2ID0gKGwgKyBzKSAvIDI7XG4gIHZhciBzdiA9IGwgPT09IDAgPyAyICogc21pbiAvIChsbWluICsgc21pbikgOiAyICogcyAvIChsICsgcyk7XG4gIHJldHVybiBbaCwgc3YgKiAxMDAsIHYgKiAxMDBdO1xufTtcblxuY29udmVydCQxLmhzdi5yZ2IgPSBmdW5jdGlvbiAoaHN2KSB7XG4gIHZhciBoID0gaHN2WzBdIC8gNjA7XG4gIHZhciBzID0gaHN2WzFdIC8gMTAwO1xuICB2YXIgdiA9IGhzdlsyXSAvIDEwMDtcbiAgdmFyIGhpID0gTWF0aC5mbG9vcihoKSAlIDY7XG4gIHZhciBmID0gaCAtIE1hdGguZmxvb3IoaCk7XG4gIHZhciBwID0gMjU1ICogdiAqICgxIC0gcyk7XG4gIHZhciBxID0gMjU1ICogdiAqICgxIC0gcyAqIGYpO1xuICB2YXIgdCA9IDI1NSAqIHYgKiAoMSAtIHMgKiAoMSAtIGYpKTtcbiAgdiAqPSAyNTU7XG5cbiAgc3dpdGNoIChoaSkge1xuICAgIGNhc2UgMDpcbiAgICAgIHJldHVybiBbdiwgdCwgcF07XG5cbiAgICBjYXNlIDE6XG4gICAgICByZXR1cm4gW3EsIHYsIHBdO1xuXG4gICAgY2FzZSAyOlxuICAgICAgcmV0dXJuIFtwLCB2LCB0XTtcblxuICAgIGNhc2UgMzpcbiAgICAgIHJldHVybiBbcCwgcSwgdl07XG5cbiAgICBjYXNlIDQ6XG4gICAgICByZXR1cm4gW3QsIHAsIHZdO1xuXG4gICAgY2FzZSA1OlxuICAgICAgcmV0dXJuIFt2LCBwLCBxXTtcbiAgfVxufTtcblxuY29udmVydCQxLmhzdi5oc2wgPSBmdW5jdGlvbiAoaHN2KSB7XG4gIHZhciBoID0gaHN2WzBdO1xuICB2YXIgcyA9IGhzdlsxXSAvIDEwMDtcbiAgdmFyIHYgPSBoc3ZbMl0gLyAxMDA7XG4gIHZhciB2bWluID0gTWF0aC5tYXgodiwgMC4wMSk7XG4gIHZhciBzbDtcbiAgdmFyIGw7XG4gIGwgPSAoMiAtIHMpICogdjtcbiAgdmFyIGxtaW4gPSAoMiAtIHMpICogdm1pbjtcbiAgc2wgPSBzICogdm1pbjtcbiAgc2wgLz0gbG1pbiA8PSAxID8gbG1pbiA6IDIgLSBsbWluO1xuICBzbCA9IHNsIHx8IDA7XG4gIGwgLz0gMjtcbiAgcmV0dXJuIFtoLCBzbCAqIDEwMCwgbCAqIDEwMF07XG59OyAvLyBodHRwOi8vZGV2LnczLm9yZy9jc3N3Zy9jc3MtY29sb3IvI2h3Yi10by1yZ2JcblxuXG5jb252ZXJ0JDEuaHdiLnJnYiA9IGZ1bmN0aW9uIChod2IpIHtcbiAgdmFyIGggPSBod2JbMF0gLyAzNjA7XG4gIHZhciB3aCA9IGh3YlsxXSAvIDEwMDtcbiAgdmFyIGJsID0gaHdiWzJdIC8gMTAwO1xuICB2YXIgcmF0aW8gPSB3aCArIGJsO1xuICB2YXIgZjsgLy8gV2ggKyBibCBjYW50IGJlID4gMVxuXG4gIGlmIChyYXRpbyA+IDEpIHtcbiAgICB3aCAvPSByYXRpbztcbiAgICBibCAvPSByYXRpbztcbiAgfVxuXG4gIHZhciBpID0gTWF0aC5mbG9vcig2ICogaCk7XG4gIHZhciB2ID0gMSAtIGJsO1xuICBmID0gNiAqIGggLSBpO1xuXG4gIGlmICgoaSAmIDB4MDEpICE9PSAwKSB7XG4gICAgZiA9IDEgLSBmO1xuICB9XG5cbiAgdmFyIG4gPSB3aCArIGYgKiAodiAtIHdoKTsgLy8gTGluZWFyIGludGVycG9sYXRpb25cblxuICB2YXIgcjtcbiAgdmFyIGc7XG4gIHZhciBiO1xuICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtc3RhdGVtZW50cy1wZXItbGluZSxuby1tdWx0aS1zcGFjZXMgKi9cblxuICBzd2l0Y2ggKGkpIHtcbiAgICBkZWZhdWx0OlxuICAgIGNhc2UgNjpcbiAgICBjYXNlIDA6XG4gICAgICByID0gdjtcbiAgICAgIGcgPSBuO1xuICAgICAgYiA9IHdoO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIDE6XG4gICAgICByID0gbjtcbiAgICAgIGcgPSB2O1xuICAgICAgYiA9IHdoO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIDI6XG4gICAgICByID0gd2g7XG4gICAgICBnID0gdjtcbiAgICAgIGIgPSBuO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIDM6XG4gICAgICByID0gd2g7XG4gICAgICBnID0gbjtcbiAgICAgIGIgPSB2O1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIDQ6XG4gICAgICByID0gbjtcbiAgICAgIGcgPSB3aDtcbiAgICAgIGIgPSB2O1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIDU6XG4gICAgICByID0gdjtcbiAgICAgIGcgPSB3aDtcbiAgICAgIGIgPSBuO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgLyogZXNsaW50LWVuYWJsZSBtYXgtc3RhdGVtZW50cy1wZXItbGluZSxuby1tdWx0aS1zcGFjZXMgKi9cblxuXG4gIHJldHVybiBbciAqIDI1NSwgZyAqIDI1NSwgYiAqIDI1NV07XG59O1xuXG5jb252ZXJ0JDEuY215ay5yZ2IgPSBmdW5jdGlvbiAoY215aykge1xuICB2YXIgYyA9IGNteWtbMF0gLyAxMDA7XG4gIHZhciBtID0gY215a1sxXSAvIDEwMDtcbiAgdmFyIHkgPSBjbXlrWzJdIC8gMTAwO1xuICB2YXIgayA9IGNteWtbM10gLyAxMDA7XG4gIHZhciByID0gMSAtIE1hdGgubWluKDEsIGMgKiAoMSAtIGspICsgayk7XG4gIHZhciBnID0gMSAtIE1hdGgubWluKDEsIG0gKiAoMSAtIGspICsgayk7XG4gIHZhciBiID0gMSAtIE1hdGgubWluKDEsIHkgKiAoMSAtIGspICsgayk7XG4gIHJldHVybiBbciAqIDI1NSwgZyAqIDI1NSwgYiAqIDI1NV07XG59O1xuXG5jb252ZXJ0JDEueHl6LnJnYiA9IGZ1bmN0aW9uICh4eXopIHtcbiAgdmFyIHggPSB4eXpbMF0gLyAxMDA7XG4gIHZhciB5ID0geHl6WzFdIC8gMTAwO1xuICB2YXIgeiA9IHh5elsyXSAvIDEwMDtcbiAgdmFyIHI7XG4gIHZhciBnO1xuICB2YXIgYjtcbiAgciA9IHggKiAzLjI0MDYgKyB5ICogLTEuNTM3MiArIHogKiAtMC40OTg2O1xuICBnID0geCAqIC0wLjk2ODkgKyB5ICogMS44NzU4ICsgeiAqIDAuMDQxNTtcbiAgYiA9IHggKiAwLjA1NTcgKyB5ICogLTAuMjA0MCArIHogKiAxLjA1NzA7IC8vIEFzc3VtZSBzUkdCXG5cbiAgciA9IHIgPiAwLjAwMzEzMDggPyAxLjA1NSAqIE1hdGgucG93KHIsIDEuMCAvIDIuNCkgLSAwLjA1NSA6IHIgKiAxMi45MjtcbiAgZyA9IGcgPiAwLjAwMzEzMDggPyAxLjA1NSAqIE1hdGgucG93KGcsIDEuMCAvIDIuNCkgLSAwLjA1NSA6IGcgKiAxMi45MjtcbiAgYiA9IGIgPiAwLjAwMzEzMDggPyAxLjA1NSAqIE1hdGgucG93KGIsIDEuMCAvIDIuNCkgLSAwLjA1NSA6IGIgKiAxMi45MjtcbiAgciA9IE1hdGgubWluKE1hdGgubWF4KDAsIHIpLCAxKTtcbiAgZyA9IE1hdGgubWluKE1hdGgubWF4KDAsIGcpLCAxKTtcbiAgYiA9IE1hdGgubWluKE1hdGgubWF4KDAsIGIpLCAxKTtcbiAgcmV0dXJuIFtyICogMjU1LCBnICogMjU1LCBiICogMjU1XTtcbn07XG5cbmNvbnZlcnQkMS54eXoubGFiID0gZnVuY3Rpb24gKHh5eikge1xuICB2YXIgeCA9IHh5elswXTtcbiAgdmFyIHkgPSB4eXpbMV07XG4gIHZhciB6ID0geHl6WzJdO1xuICB4IC89IDk1LjA0NztcbiAgeSAvPSAxMDA7XG4gIHogLz0gMTA4Ljg4MztcbiAgeCA9IHggPiAwLjAwODg1NiA/IE1hdGgucG93KHgsIDEgLyAzKSA6IDcuNzg3ICogeCArIDE2IC8gMTE2O1xuICB5ID0geSA+IDAuMDA4ODU2ID8gTWF0aC5wb3coeSwgMSAvIDMpIDogNy43ODcgKiB5ICsgMTYgLyAxMTY7XG4gIHogPSB6ID4gMC4wMDg4NTYgPyBNYXRoLnBvdyh6LCAxIC8gMykgOiA3Ljc4NyAqIHogKyAxNiAvIDExNjtcbiAgdmFyIGwgPSAxMTYgKiB5IC0gMTY7XG4gIHZhciBhID0gNTAwICogKHggLSB5KTtcbiAgdmFyIGIgPSAyMDAgKiAoeSAtIHopO1xuICByZXR1cm4gW2wsIGEsIGJdO1xufTtcblxuY29udmVydCQxLmxhYi54eXogPSBmdW5jdGlvbiAobGFiKSB7XG4gIHZhciBsID0gbGFiWzBdO1xuICB2YXIgYSA9IGxhYlsxXTtcbiAgdmFyIGIgPSBsYWJbMl07XG4gIHZhciB4O1xuICB2YXIgeTtcbiAgdmFyIHo7XG4gIHkgPSAobCArIDE2KSAvIDExNjtcbiAgeCA9IGEgLyA1MDAgKyB5O1xuICB6ID0geSAtIGIgLyAyMDA7XG4gIHZhciB5MiA9IE1hdGgucG93KHksIDMpO1xuICB2YXIgeDIgPSBNYXRoLnBvdyh4LCAzKTtcbiAgdmFyIHoyID0gTWF0aC5wb3coeiwgMyk7XG4gIHkgPSB5MiA+IDAuMDA4ODU2ID8geTIgOiAoeSAtIDE2IC8gMTE2KSAvIDcuNzg3O1xuICB4ID0geDIgPiAwLjAwODg1NiA/IHgyIDogKHggLSAxNiAvIDExNikgLyA3Ljc4NztcbiAgeiA9IHoyID4gMC4wMDg4NTYgPyB6MiA6ICh6IC0gMTYgLyAxMTYpIC8gNy43ODc7XG4gIHggKj0gOTUuMDQ3O1xuICB5ICo9IDEwMDtcbiAgeiAqPSAxMDguODgzO1xuICByZXR1cm4gW3gsIHksIHpdO1xufTtcblxuY29udmVydCQxLmxhYi5sY2ggPSBmdW5jdGlvbiAobGFiKSB7XG4gIHZhciBsID0gbGFiWzBdO1xuICB2YXIgYSA9IGxhYlsxXTtcbiAgdmFyIGIgPSBsYWJbMl07XG4gIHZhciBoO1xuICB2YXIgaHIgPSBNYXRoLmF0YW4yKGIsIGEpO1xuICBoID0gaHIgKiAzNjAgLyAyIC8gTWF0aC5QSTtcblxuICBpZiAoaCA8IDApIHtcbiAgICBoICs9IDM2MDtcbiAgfVxuXG4gIHZhciBjID0gTWF0aC5zcXJ0KGEgKiBhICsgYiAqIGIpO1xuICByZXR1cm4gW2wsIGMsIGhdO1xufTtcblxuY29udmVydCQxLmxjaC5sYWIgPSBmdW5jdGlvbiAobGNoKSB7XG4gIHZhciBsID0gbGNoWzBdO1xuICB2YXIgYyA9IGxjaFsxXTtcbiAgdmFyIGggPSBsY2hbMl07XG4gIHZhciBociA9IGggLyAzNjAgKiAyICogTWF0aC5QSTtcbiAgdmFyIGEgPSBjICogTWF0aC5jb3MoaHIpO1xuICB2YXIgYiA9IGMgKiBNYXRoLnNpbihocik7XG4gIHJldHVybiBbbCwgYSwgYl07XG59O1xuXG5jb252ZXJ0JDEucmdiLmFuc2kxNiA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gIHZhciBzYXR1cmF0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBudWxsO1xuXG4gIHZhciBfYXJncyA9IF9zbGljZWRUb0FycmF5KGFyZ3MsIDMpLFxuICAgICAgciA9IF9hcmdzWzBdLFxuICAgICAgZyA9IF9hcmdzWzFdLFxuICAgICAgYiA9IF9hcmdzWzJdO1xuXG4gIHZhciB2YWx1ZSA9IHNhdHVyYXRpb24gPT09IG51bGwgPyBjb252ZXJ0JDEucmdiLmhzdihhcmdzKVsyXSA6IHNhdHVyYXRpb247IC8vIEhzdiAtPiBhbnNpMTYgb3B0aW1pemF0aW9uXG5cbiAgdmFsdWUgPSBNYXRoLnJvdW5kKHZhbHVlIC8gNTApO1xuXG4gIGlmICh2YWx1ZSA9PT0gMCkge1xuICAgIHJldHVybiAzMDtcbiAgfVxuXG4gIHZhciBhbnNpID0gMzAgKyAoTWF0aC5yb3VuZChiIC8gMjU1KSA8PCAyIHwgTWF0aC5yb3VuZChnIC8gMjU1KSA8PCAxIHwgTWF0aC5yb3VuZChyIC8gMjU1KSk7XG5cbiAgaWYgKHZhbHVlID09PSAyKSB7XG4gICAgYW5zaSArPSA2MDtcbiAgfVxuXG4gIHJldHVybiBhbnNpO1xufTtcblxuY29udmVydCQxLmhzdi5hbnNpMTYgPSBmdW5jdGlvbiAoYXJncykge1xuICAvLyBPcHRpbWl6YXRpb24gaGVyZTsgd2UgYWxyZWFkeSBrbm93IHRoZSB2YWx1ZSBhbmQgZG9uJ3QgbmVlZCB0byBnZXRcbiAgLy8gaXQgY29udmVydGVkIGZvciB1cy5cbiAgcmV0dXJuIGNvbnZlcnQkMS5yZ2IuYW5zaTE2KGNvbnZlcnQkMS5oc3YucmdiKGFyZ3MpLCBhcmdzWzJdKTtcbn07XG5cbmNvbnZlcnQkMS5yZ2IuYW5zaTI1NiA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gIHZhciByID0gYXJnc1swXTtcbiAgdmFyIGcgPSBhcmdzWzFdO1xuICB2YXIgYiA9IGFyZ3NbMl07IC8vIFdlIHVzZSB0aGUgZXh0ZW5kZWQgZ3JleXNjYWxlIHBhbGV0dGUgaGVyZSwgd2l0aCB0aGUgZXhjZXB0aW9uIG9mXG4gIC8vIGJsYWNrIGFuZCB3aGl0ZS4gbm9ybWFsIHBhbGV0dGUgb25seSBoYXMgNCBncmV5c2NhbGUgc2hhZGVzLlxuXG4gIGlmIChyID09PSBnICYmIGcgPT09IGIpIHtcbiAgICBpZiAociA8IDgpIHtcbiAgICAgIHJldHVybiAxNjtcbiAgICB9XG5cbiAgICBpZiAociA+IDI0OCkge1xuICAgICAgcmV0dXJuIDIzMTtcbiAgICB9XG5cbiAgICByZXR1cm4gTWF0aC5yb3VuZCgociAtIDgpIC8gMjQ3ICogMjQpICsgMjMyO1xuICB9XG5cbiAgdmFyIGFuc2kgPSAxNiArIDM2ICogTWF0aC5yb3VuZChyIC8gMjU1ICogNSkgKyA2ICogTWF0aC5yb3VuZChnIC8gMjU1ICogNSkgKyBNYXRoLnJvdW5kKGIgLyAyNTUgKiA1KTtcbiAgcmV0dXJuIGFuc2k7XG59O1xuXG5jb252ZXJ0JDEuYW5zaTE2LnJnYiA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gIHZhciBjb2xvciA9IGFyZ3MgJSAxMDsgLy8gSGFuZGxlIGdyZXlzY2FsZVxuXG4gIGlmIChjb2xvciA9PT0gMCB8fCBjb2xvciA9PT0gNykge1xuICAgIGlmIChhcmdzID4gNTApIHtcbiAgICAgIGNvbG9yICs9IDMuNTtcbiAgICB9XG5cbiAgICBjb2xvciA9IGNvbG9yIC8gMTAuNSAqIDI1NTtcbiAgICByZXR1cm4gW2NvbG9yLCBjb2xvciwgY29sb3JdO1xuICB9XG5cbiAgdmFyIG11bHQgPSAofn4oYXJncyA+IDUwKSArIDEpICogMC41O1xuICB2YXIgciA9IChjb2xvciAmIDEpICogbXVsdCAqIDI1NTtcbiAgdmFyIGcgPSAoY29sb3IgPj4gMSAmIDEpICogbXVsdCAqIDI1NTtcbiAgdmFyIGIgPSAoY29sb3IgPj4gMiAmIDEpICogbXVsdCAqIDI1NTtcbiAgcmV0dXJuIFtyLCBnLCBiXTtcbn07XG5cbmNvbnZlcnQkMS5hbnNpMjU2LnJnYiA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gIC8vIEhhbmRsZSBncmV5c2NhbGVcbiAgaWYgKGFyZ3MgPj0gMjMyKSB7XG4gICAgdmFyIF9jID0gKGFyZ3MgLSAyMzIpICogMTAgKyA4O1xuXG4gICAgcmV0dXJuIFtfYywgX2MsIF9jXTtcbiAgfVxuXG4gIGFyZ3MgLT0gMTY7XG4gIHZhciByZW07XG4gIHZhciByID0gTWF0aC5mbG9vcihhcmdzIC8gMzYpIC8gNSAqIDI1NTtcbiAgdmFyIGcgPSBNYXRoLmZsb29yKChyZW0gPSBhcmdzICUgMzYpIC8gNikgLyA1ICogMjU1O1xuICB2YXIgYiA9IHJlbSAlIDYgLyA1ICogMjU1O1xuICByZXR1cm4gW3IsIGcsIGJdO1xufTtcblxuY29udmVydCQxLnJnYi5oZXggPSBmdW5jdGlvbiAoYXJncykge1xuICB2YXIgaW50ZWdlciA9ICgoTWF0aC5yb3VuZChhcmdzWzBdKSAmIDB4RkYpIDw8IDE2KSArICgoTWF0aC5yb3VuZChhcmdzWzFdKSAmIDB4RkYpIDw8IDgpICsgKE1hdGgucm91bmQoYXJnc1syXSkgJiAweEZGKTtcbiAgdmFyIHN0cmluZyA9IGludGVnZXIudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG4gIHJldHVybiAnMDAwMDAwJy5zdWJzdHJpbmcoc3RyaW5nLmxlbmd0aCkgKyBzdHJpbmc7XG59O1xuXG5jb252ZXJ0JDEuaGV4LnJnYiA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gIHZhciBtYXRjaCA9IGFyZ3MudG9TdHJpbmcoMTYpLm1hdGNoKC9bYS1mMC05XXs2fXxbYS1mMC05XXszfS9pKTtcblxuICBpZiAoIW1hdGNoKSB7XG4gICAgcmV0dXJuIFswLCAwLCAwXTtcbiAgfVxuXG4gIHZhciBjb2xvclN0cmluZyA9IG1hdGNoWzBdO1xuXG4gIGlmIChtYXRjaFswXS5sZW5ndGggPT09IDMpIHtcbiAgICBjb2xvclN0cmluZyA9IGNvbG9yU3RyaW5nLnNwbGl0KCcnKS5tYXAoZnVuY3Rpb24gKGNoYXIpIHtcbiAgICAgIHJldHVybiBjaGFyICsgY2hhcjtcbiAgICB9KS5qb2luKCcnKTtcbiAgfVxuXG4gIHZhciBpbnRlZ2VyID0gcGFyc2VJbnQoY29sb3JTdHJpbmcsIDE2KTtcbiAgdmFyIHIgPSBpbnRlZ2VyID4+IDE2ICYgMHhGRjtcbiAgdmFyIGcgPSBpbnRlZ2VyID4+IDggJiAweEZGO1xuICB2YXIgYiA9IGludGVnZXIgJiAweEZGO1xuICByZXR1cm4gW3IsIGcsIGJdO1xufTtcblxuY29udmVydCQxLnJnYi5oY2cgPSBmdW5jdGlvbiAocmdiKSB7XG4gIHZhciByID0gcmdiWzBdIC8gMjU1O1xuICB2YXIgZyA9IHJnYlsxXSAvIDI1NTtcbiAgdmFyIGIgPSByZ2JbMl0gLyAyNTU7XG4gIHZhciBtYXggPSBNYXRoLm1heChNYXRoLm1heChyLCBnKSwgYik7XG4gIHZhciBtaW4gPSBNYXRoLm1pbihNYXRoLm1pbihyLCBnKSwgYik7XG4gIHZhciBjaHJvbWEgPSBtYXggLSBtaW47XG4gIHZhciBncmF5c2NhbGU7XG4gIHZhciBodWU7XG5cbiAgaWYgKGNocm9tYSA8IDEpIHtcbiAgICBncmF5c2NhbGUgPSBtaW4gLyAoMSAtIGNocm9tYSk7XG4gIH0gZWxzZSB7XG4gICAgZ3JheXNjYWxlID0gMDtcbiAgfVxuXG4gIGlmIChjaHJvbWEgPD0gMCkge1xuICAgIGh1ZSA9IDA7XG4gIH0gZWxzZSBpZiAobWF4ID09PSByKSB7XG4gICAgaHVlID0gKGcgLSBiKSAvIGNocm9tYSAlIDY7XG4gIH0gZWxzZSBpZiAobWF4ID09PSBnKSB7XG4gICAgaHVlID0gMiArIChiIC0gcikgLyBjaHJvbWE7XG4gIH0gZWxzZSB7XG4gICAgaHVlID0gNCArIChyIC0gZykgLyBjaHJvbWE7XG4gIH1cblxuICBodWUgLz0gNjtcbiAgaHVlICU9IDE7XG4gIHJldHVybiBbaHVlICogMzYwLCBjaHJvbWEgKiAxMDAsIGdyYXlzY2FsZSAqIDEwMF07XG59O1xuXG5jb252ZXJ0JDEuaHNsLmhjZyA9IGZ1bmN0aW9uIChoc2wpIHtcbiAgdmFyIHMgPSBoc2xbMV0gLyAxMDA7XG4gIHZhciBsID0gaHNsWzJdIC8gMTAwO1xuICB2YXIgYyA9IGwgPCAwLjUgPyAyLjAgKiBzICogbCA6IDIuMCAqIHMgKiAoMS4wIC0gbCk7XG4gIHZhciBmID0gMDtcblxuICBpZiAoYyA8IDEuMCkge1xuICAgIGYgPSAobCAtIDAuNSAqIGMpIC8gKDEuMCAtIGMpO1xuICB9XG5cbiAgcmV0dXJuIFtoc2xbMF0sIGMgKiAxMDAsIGYgKiAxMDBdO1xufTtcblxuY29udmVydCQxLmhzdi5oY2cgPSBmdW5jdGlvbiAoaHN2KSB7XG4gIHZhciBzID0gaHN2WzFdIC8gMTAwO1xuICB2YXIgdiA9IGhzdlsyXSAvIDEwMDtcbiAgdmFyIGMgPSBzICogdjtcbiAgdmFyIGYgPSAwO1xuXG4gIGlmIChjIDwgMS4wKSB7XG4gICAgZiA9ICh2IC0gYykgLyAoMSAtIGMpO1xuICB9XG5cbiAgcmV0dXJuIFtoc3ZbMF0sIGMgKiAxMDAsIGYgKiAxMDBdO1xufTtcblxuY29udmVydCQxLmhjZy5yZ2IgPSBmdW5jdGlvbiAoaGNnKSB7XG4gIHZhciBoID0gaGNnWzBdIC8gMzYwO1xuICB2YXIgYyA9IGhjZ1sxXSAvIDEwMDtcbiAgdmFyIGcgPSBoY2dbMl0gLyAxMDA7XG5cbiAgaWYgKGMgPT09IDAuMCkge1xuICAgIHJldHVybiBbZyAqIDI1NSwgZyAqIDI1NSwgZyAqIDI1NV07XG4gIH1cblxuICB2YXIgcHVyZSA9IFswLCAwLCAwXTtcbiAgdmFyIGhpID0gaCAlIDEgKiA2O1xuICB2YXIgdiA9IGhpICUgMTtcbiAgdmFyIHcgPSAxIC0gdjtcbiAgdmFyIG1nID0gMDtcbiAgLyogZXNsaW50LWRpc2FibGUgbWF4LXN0YXRlbWVudHMtcGVyLWxpbmUgKi9cblxuICBzd2l0Y2ggKE1hdGguZmxvb3IoaGkpKSB7XG4gICAgY2FzZSAwOlxuICAgICAgcHVyZVswXSA9IDE7XG4gICAgICBwdXJlWzFdID0gdjtcbiAgICAgIHB1cmVbMl0gPSAwO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIDE6XG4gICAgICBwdXJlWzBdID0gdztcbiAgICAgIHB1cmVbMV0gPSAxO1xuICAgICAgcHVyZVsyXSA9IDA7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgMjpcbiAgICAgIHB1cmVbMF0gPSAwO1xuICAgICAgcHVyZVsxXSA9IDE7XG4gICAgICBwdXJlWzJdID0gdjtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAzOlxuICAgICAgcHVyZVswXSA9IDA7XG4gICAgICBwdXJlWzFdID0gdztcbiAgICAgIHB1cmVbMl0gPSAxO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIDQ6XG4gICAgICBwdXJlWzBdID0gdjtcbiAgICAgIHB1cmVbMV0gPSAwO1xuICAgICAgcHVyZVsyXSA9IDE7XG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICBwdXJlWzBdID0gMTtcbiAgICAgIHB1cmVbMV0gPSAwO1xuICAgICAgcHVyZVsyXSA9IHc7XG4gIH1cbiAgLyogZXNsaW50LWVuYWJsZSBtYXgtc3RhdGVtZW50cy1wZXItbGluZSAqL1xuXG5cbiAgbWcgPSAoMS4wIC0gYykgKiBnO1xuICByZXR1cm4gWyhjICogcHVyZVswXSArIG1nKSAqIDI1NSwgKGMgKiBwdXJlWzFdICsgbWcpICogMjU1LCAoYyAqIHB1cmVbMl0gKyBtZykgKiAyNTVdO1xufTtcblxuY29udmVydCQxLmhjZy5oc3YgPSBmdW5jdGlvbiAoaGNnKSB7XG4gIHZhciBjID0gaGNnWzFdIC8gMTAwO1xuICB2YXIgZyA9IGhjZ1syXSAvIDEwMDtcbiAgdmFyIHYgPSBjICsgZyAqICgxLjAgLSBjKTtcbiAgdmFyIGYgPSAwO1xuXG4gIGlmICh2ID4gMC4wKSB7XG4gICAgZiA9IGMgLyB2O1xuICB9XG5cbiAgcmV0dXJuIFtoY2dbMF0sIGYgKiAxMDAsIHYgKiAxMDBdO1xufTtcblxuY29udmVydCQxLmhjZy5oc2wgPSBmdW5jdGlvbiAoaGNnKSB7XG4gIHZhciBjID0gaGNnWzFdIC8gMTAwO1xuICB2YXIgZyA9IGhjZ1syXSAvIDEwMDtcbiAgdmFyIGwgPSBnICogKDEuMCAtIGMpICsgMC41ICogYztcbiAgdmFyIHMgPSAwO1xuXG4gIGlmIChsID4gMC4wICYmIGwgPCAwLjUpIHtcbiAgICBzID0gYyAvICgyICogbCk7XG4gIH0gZWxzZSBpZiAobCA+PSAwLjUgJiYgbCA8IDEuMCkge1xuICAgIHMgPSBjIC8gKDIgKiAoMSAtIGwpKTtcbiAgfVxuXG4gIHJldHVybiBbaGNnWzBdLCBzICogMTAwLCBsICogMTAwXTtcbn07XG5cbmNvbnZlcnQkMS5oY2cuaHdiID0gZnVuY3Rpb24gKGhjZykge1xuICB2YXIgYyA9IGhjZ1sxXSAvIDEwMDtcbiAgdmFyIGcgPSBoY2dbMl0gLyAxMDA7XG4gIHZhciB2ID0gYyArIGcgKiAoMS4wIC0gYyk7XG4gIHJldHVybiBbaGNnWzBdLCAodiAtIGMpICogMTAwLCAoMSAtIHYpICogMTAwXTtcbn07XG5cbmNvbnZlcnQkMS5od2IuaGNnID0gZnVuY3Rpb24gKGh3Yikge1xuICB2YXIgdyA9IGh3YlsxXSAvIDEwMDtcbiAgdmFyIGIgPSBod2JbMl0gLyAxMDA7XG4gIHZhciB2ID0gMSAtIGI7XG4gIHZhciBjID0gdiAtIHc7XG4gIHZhciBnID0gMDtcblxuICBpZiAoYyA8IDEpIHtcbiAgICBnID0gKHYgLSBjKSAvICgxIC0gYyk7XG4gIH1cblxuICByZXR1cm4gW2h3YlswXSwgYyAqIDEwMCwgZyAqIDEwMF07XG59O1xuXG5jb252ZXJ0JDEuYXBwbGUucmdiID0gZnVuY3Rpb24gKGFwcGxlKSB7XG4gIHJldHVybiBbYXBwbGVbMF0gLyA2NTUzNSAqIDI1NSwgYXBwbGVbMV0gLyA2NTUzNSAqIDI1NSwgYXBwbGVbMl0gLyA2NTUzNSAqIDI1NV07XG59O1xuXG5jb252ZXJ0JDEucmdiLmFwcGxlID0gZnVuY3Rpb24gKHJnYikge1xuICByZXR1cm4gW3JnYlswXSAvIDI1NSAqIDY1NTM1LCByZ2JbMV0gLyAyNTUgKiA2NTUzNSwgcmdiWzJdIC8gMjU1ICogNjU1MzVdO1xufTtcblxuY29udmVydCQxLmdyYXkucmdiID0gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgcmV0dXJuIFthcmdzWzBdIC8gMTAwICogMjU1LCBhcmdzWzBdIC8gMTAwICogMjU1LCBhcmdzWzBdIC8gMTAwICogMjU1XTtcbn07XG5cbmNvbnZlcnQkMS5ncmF5LmhzbCA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gIHJldHVybiBbMCwgMCwgYXJnc1swXV07XG59O1xuXG5jb252ZXJ0JDEuZ3JheS5oc3YgPSBjb252ZXJ0JDEuZ3JheS5oc2w7XG5cbmNvbnZlcnQkMS5ncmF5Lmh3YiA9IGZ1bmN0aW9uIChncmF5KSB7XG4gIHJldHVybiBbMCwgMTAwLCBncmF5WzBdXTtcbn07XG5cbmNvbnZlcnQkMS5ncmF5LmNteWsgPSBmdW5jdGlvbiAoZ3JheSkge1xuICByZXR1cm4gWzAsIDAsIDAsIGdyYXlbMF1dO1xufTtcblxuY29udmVydCQxLmdyYXkubGFiID0gZnVuY3Rpb24gKGdyYXkpIHtcbiAgcmV0dXJuIFtncmF5WzBdLCAwLCAwXTtcbn07XG5cbmNvbnZlcnQkMS5ncmF5LmhleCA9IGZ1bmN0aW9uIChncmF5KSB7XG4gIHZhciB2YWwgPSBNYXRoLnJvdW5kKGdyYXlbMF0gLyAxMDAgKiAyNTUpICYgMHhGRjtcbiAgdmFyIGludGVnZXIgPSAodmFsIDw8IDE2KSArICh2YWwgPDwgOCkgKyB2YWw7XG4gIHZhciBzdHJpbmcgPSBpbnRlZ2VyLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO1xuICByZXR1cm4gJzAwMDAwMCcuc3Vic3RyaW5nKHN0cmluZy5sZW5ndGgpICsgc3RyaW5nO1xufTtcblxuY29udmVydCQxLnJnYi5ncmF5ID0gZnVuY3Rpb24gKHJnYikge1xuICB2YXIgdmFsID0gKHJnYlswXSArIHJnYlsxXSArIHJnYlsyXSkgLyAzO1xuICByZXR1cm4gW3ZhbCAvIDI1NSAqIDEwMF07XG59O1xuXG52YXIgY29udmVyc2lvbnMkMSA9IGNvbnZlcnNpb25zJDI7XG4vKlxuXHRUaGlzIGZ1bmN0aW9uIHJvdXRlcyBhIG1vZGVsIHRvIGFsbCBvdGhlciBtb2RlbHMuXG5cblx0YWxsIGZ1bmN0aW9ucyB0aGF0IGFyZSByb3V0ZWQgaGF2ZSBhIHByb3BlcnR5IGAuY29udmVyc2lvbmAgYXR0YWNoZWRcblx0dG8gdGhlIHJldHVybmVkIHN5bnRoZXRpYyBmdW5jdGlvbi4gVGhpcyBwcm9wZXJ0eSBpcyBhbiBhcnJheVxuXHRvZiBzdHJpbmdzLCBlYWNoIHdpdGggdGhlIHN0ZXBzIGluIGJldHdlZW4gdGhlICdmcm9tJyBhbmQgJ3RvJ1xuXHRjb2xvciBtb2RlbHMgKGluY2x1c2l2ZSkuXG5cblx0Y29udmVyc2lvbnMgdGhhdCBhcmUgbm90IHBvc3NpYmxlIHNpbXBseSBhcmUgbm90IGluY2x1ZGVkLlxuKi9cblxuZnVuY3Rpb24gYnVpbGRHcmFwaCgpIHtcbiAgdmFyIGdyYXBoID0ge307IC8vIGh0dHBzOi8vanNwZXJmLmNvbS9vYmplY3Qta2V5cy12cy1mb3ItaW4td2l0aC1jbG9zdXJlLzNcblxuICB2YXIgbW9kZWxzID0gT2JqZWN0LmtleXMoY29udmVyc2lvbnMkMSk7XG5cbiAgZm9yICh2YXIgbGVuID0gbW9kZWxzLmxlbmd0aCwgX2k1ID0gMDsgX2k1IDwgbGVuOyBfaTUrKykge1xuICAgIGdyYXBoW21vZGVsc1tfaTVdXSA9IHtcbiAgICAgIC8vIGh0dHA6Ly9qc3BlcmYuY29tLzEtdnMtaW5maW5pdHlcbiAgICAgIC8vIG1pY3JvLW9wdCwgYnV0IHRoaXMgaXMgc2ltcGxlLlxuICAgICAgZGlzdGFuY2U6IC0xLFxuICAgICAgcGFyZW50OiBudWxsXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBncmFwaDtcbn0gLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQnJlYWR0aC1maXJzdF9zZWFyY2hcblxuXG5mdW5jdGlvbiBkZXJpdmVCRlMoZnJvbU1vZGVsKSB7XG4gIHZhciBncmFwaCA9IGJ1aWxkR3JhcGgoKTtcbiAgdmFyIHF1ZXVlID0gW2Zyb21Nb2RlbF07IC8vIFVuc2hpZnQgLT4gcXVldWUgLT4gcG9wXG5cbiAgZ3JhcGhbZnJvbU1vZGVsXS5kaXN0YW5jZSA9IDA7XG5cbiAgd2hpbGUgKHF1ZXVlLmxlbmd0aCkge1xuICAgIHZhciBjdXJyZW50ID0gcXVldWUucG9wKCk7XG4gICAgdmFyIGFkamFjZW50cyA9IE9iamVjdC5rZXlzKGNvbnZlcnNpb25zJDFbY3VycmVudF0pO1xuXG4gICAgZm9yICh2YXIgbGVuID0gYWRqYWNlbnRzLmxlbmd0aCwgX2k2ID0gMDsgX2k2IDwgbGVuOyBfaTYrKykge1xuICAgICAgdmFyIGFkamFjZW50ID0gYWRqYWNlbnRzW19pNl07XG4gICAgICB2YXIgbm9kZSA9IGdyYXBoW2FkamFjZW50XTtcblxuICAgICAgaWYgKG5vZGUuZGlzdGFuY2UgPT09IC0xKSB7XG4gICAgICAgIG5vZGUuZGlzdGFuY2UgPSBncmFwaFtjdXJyZW50XS5kaXN0YW5jZSArIDE7XG4gICAgICAgIG5vZGUucGFyZW50ID0gY3VycmVudDtcbiAgICAgICAgcXVldWUudW5zaGlmdChhZGphY2VudCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGdyYXBoO1xufVxuXG5mdW5jdGlvbiBsaW5rKGZyb20sIHRvKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoYXJncykge1xuICAgIHJldHVybiB0byhmcm9tKGFyZ3MpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gd3JhcENvbnZlcnNpb24odG9Nb2RlbCwgZ3JhcGgpIHtcbiAgdmFyIHBhdGggPSBbZ3JhcGhbdG9Nb2RlbF0ucGFyZW50LCB0b01vZGVsXTtcbiAgdmFyIGZuID0gY29udmVyc2lvbnMkMVtncmFwaFt0b01vZGVsXS5wYXJlbnRdW3RvTW9kZWxdO1xuICB2YXIgY3VyID0gZ3JhcGhbdG9Nb2RlbF0ucGFyZW50O1xuXG4gIHdoaWxlIChncmFwaFtjdXJdLnBhcmVudCkge1xuICAgIHBhdGgudW5zaGlmdChncmFwaFtjdXJdLnBhcmVudCk7XG4gICAgZm4gPSBsaW5rKGNvbnZlcnNpb25zJDFbZ3JhcGhbY3VyXS5wYXJlbnRdW2N1cl0sIGZuKTtcbiAgICBjdXIgPSBncmFwaFtjdXJdLnBhcmVudDtcbiAgfVxuXG4gIGZuLmNvbnZlcnNpb24gPSBwYXRoO1xuICByZXR1cm4gZm47XG59XG5cbnZhciByb3V0ZSQxID0gZnVuY3Rpb24gcm91dGUkMShmcm9tTW9kZWwpIHtcbiAgdmFyIGdyYXBoID0gZGVyaXZlQkZTKGZyb21Nb2RlbCk7XG4gIHZhciBjb252ZXJzaW9uID0ge307XG4gIHZhciBtb2RlbHMgPSBPYmplY3Qua2V5cyhncmFwaCk7XG5cbiAgZm9yICh2YXIgbGVuID0gbW9kZWxzLmxlbmd0aCwgX2k3ID0gMDsgX2k3IDwgbGVuOyBfaTcrKykge1xuICAgIHZhciB0b01vZGVsID0gbW9kZWxzW19pN107XG4gICAgdmFyIG5vZGUgPSBncmFwaFt0b01vZGVsXTtcblxuICAgIGlmIChub2RlLnBhcmVudCA9PT0gbnVsbCkge1xuICAgICAgLy8gTm8gcG9zc2libGUgY29udmVyc2lvbiwgb3IgdGhpcyBub2RlIGlzIHRoZSBzb3VyY2UgbW9kZWwuXG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBjb252ZXJzaW9uW3RvTW9kZWxdID0gd3JhcENvbnZlcnNpb24odG9Nb2RlbCwgZ3JhcGgpO1xuICB9XG5cbiAgcmV0dXJuIGNvbnZlcnNpb247XG59O1xuXG52YXIgY29udmVyc2lvbnMgPSBjb252ZXJzaW9ucyQyO1xudmFyIHJvdXRlID0gcm91dGUkMTtcbnZhciBjb252ZXJ0ID0ge307XG52YXIgbW9kZWxzID0gT2JqZWN0LmtleXMoY29udmVyc2lvbnMpO1xuXG5mdW5jdGlvbiB3cmFwUmF3KGZuKSB7XG4gIHZhciB3cmFwcGVkRm4gPSBmdW5jdGlvbiB3cmFwcGVkRm4oKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHZhciBhcmcwID0gYXJnc1swXTtcblxuICAgIGlmIChhcmcwID09PSB1bmRlZmluZWQgfHwgYXJnMCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGFyZzA7XG4gICAgfVxuXG4gICAgaWYgKGFyZzAubGVuZ3RoID4gMSkge1xuICAgICAgYXJncyA9IGFyZzA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZuKGFyZ3MpO1xuICB9OyAvLyBQcmVzZXJ2ZSAuY29udmVyc2lvbiBwcm9wZXJ0eSBpZiB0aGVyZSBpcyBvbmVcblxuXG4gIGlmICgnY29udmVyc2lvbicgaW4gZm4pIHtcbiAgICB3cmFwcGVkRm4uY29udmVyc2lvbiA9IGZuLmNvbnZlcnNpb247XG4gIH1cblxuICByZXR1cm4gd3JhcHBlZEZuO1xufVxuXG5mdW5jdGlvbiB3cmFwUm91bmRlZChmbikge1xuICB2YXIgd3JhcHBlZEZuID0gZnVuY3Rpb24gd3JhcHBlZEZuKCkge1xuICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgYXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgIH1cblxuICAgIHZhciBhcmcwID0gYXJnc1swXTtcblxuICAgIGlmIChhcmcwID09PSB1bmRlZmluZWQgfHwgYXJnMCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGFyZzA7XG4gICAgfVxuXG4gICAgaWYgKGFyZzAubGVuZ3RoID4gMSkge1xuICAgICAgYXJncyA9IGFyZzA7XG4gICAgfVxuXG4gICAgdmFyIHJlc3VsdCA9IGZuKGFyZ3MpOyAvLyBXZSdyZSBhc3N1bWluZyB0aGUgcmVzdWx0IGlzIGFuIGFycmF5IGhlcmUuXG4gICAgLy8gc2VlIG5vdGljZSBpbiBjb252ZXJzaW9ucy5qczsgZG9uJ3QgdXNlIGJveCB0eXBlc1xuICAgIC8vIGluIGNvbnZlcnNpb24gZnVuY3Rpb25zLlxuXG4gICAgaWYgKF90eXBlb2YocmVzdWx0KSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGZvciAodmFyIGxlbiA9IHJlc3VsdC5sZW5ndGgsIF9pOCA9IDA7IF9pOCA8IGxlbjsgX2k4KyspIHtcbiAgICAgICAgcmVzdWx0W19pOF0gPSBNYXRoLnJvdW5kKHJlc3VsdFtfaThdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9OyAvLyBQcmVzZXJ2ZSAuY29udmVyc2lvbiBwcm9wZXJ0eSBpZiB0aGVyZSBpcyBvbmVcblxuXG4gIGlmICgnY29udmVyc2lvbicgaW4gZm4pIHtcbiAgICB3cmFwcGVkRm4uY29udmVyc2lvbiA9IGZuLmNvbnZlcnNpb247XG4gIH1cblxuICByZXR1cm4gd3JhcHBlZEZuO1xufVxuXG5tb2RlbHMuZm9yRWFjaChmdW5jdGlvbiAoZnJvbU1vZGVsKSB7XG4gIGNvbnZlcnRbZnJvbU1vZGVsXSA9IHt9O1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29udmVydFtmcm9tTW9kZWxdLCAnY2hhbm5lbHMnLCB7XG4gICAgdmFsdWU6IGNvbnZlcnNpb25zW2Zyb21Nb2RlbF0uY2hhbm5lbHNcbiAgfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb252ZXJ0W2Zyb21Nb2RlbF0sICdsYWJlbHMnLCB7XG4gICAgdmFsdWU6IGNvbnZlcnNpb25zW2Zyb21Nb2RlbF0ubGFiZWxzXG4gIH0pO1xuICB2YXIgcm91dGVzID0gcm91dGUoZnJvbU1vZGVsKTtcbiAgdmFyIHJvdXRlTW9kZWxzID0gT2JqZWN0LmtleXMocm91dGVzKTtcbiAgcm91dGVNb2RlbHMuZm9yRWFjaChmdW5jdGlvbiAodG9Nb2RlbCkge1xuICAgIHZhciBmbiA9IHJvdXRlc1t0b01vZGVsXTtcbiAgICBjb252ZXJ0W2Zyb21Nb2RlbF1bdG9Nb2RlbF0gPSB3cmFwUm91bmRlZChmbik7XG4gICAgY29udmVydFtmcm9tTW9kZWxdW3RvTW9kZWxdLnJhdyA9IHdyYXBSYXcoZm4pO1xuICB9KTtcbn0pO1xudmFyIGNvbG9yQ29udmVydCA9IGNvbnZlcnQ7XG52YXIgcm9vdCA9IF9yb290O1xuLyoqXG4gKiBHZXRzIHRoZSB0aW1lc3RhbXAgb2YgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdGhhdCBoYXZlIGVsYXBzZWQgc2luY2VcbiAqIHRoZSBVbml4IGVwb2NoICgxIEphbnVhcnkgMTk3MCAwMDowMDowMCBVVEMpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMi40LjBcbiAqIEBjYXRlZ29yeSBEYXRlXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0aW1lc3RhbXAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uZGVmZXIoZnVuY3Rpb24oc3RhbXApIHtcbiAqICAgY29uc29sZS5sb2coXy5ub3coKSAtIHN0YW1wKTtcbiAqIH0sIF8ubm93KCkpO1xuICogLy8gPT4gTG9ncyB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBpdCB0b29rIGZvciB0aGUgZGVmZXJyZWQgaW52b2NhdGlvbi5cbiAqL1xuXG52YXIgbm93JDEgPSBmdW5jdGlvbiBub3ckMSgpIHtcbiAgcmV0dXJuIHJvb3QuRGF0ZS5ub3coKTtcbn07XG5cbnZhciBub3dfMSA9IG5vdyQxO1xuLyoqIFVzZWQgdG8gbWF0Y2ggYSBzaW5nbGUgd2hpdGVzcGFjZSBjaGFyYWN0ZXIuICovXG5cbnZhciByZVdoaXRlc3BhY2UgPSAvXFxzLztcbi8qKlxuICogVXNlZCBieSBgXy50cmltYCBhbmQgYF8udHJpbUVuZGAgdG8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBub24td2hpdGVzcGFjZVxuICogY2hhcmFjdGVyIG9mIGBzdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBsYXN0IG5vbi13aGl0ZXNwYWNlIGNoYXJhY3Rlci5cbiAqL1xuXG5mdW5jdGlvbiB0cmltbWVkRW5kSW5kZXgkMShzdHJpbmcpIHtcbiAgdmFyIGluZGV4ID0gc3RyaW5nLmxlbmd0aDtcblxuICB3aGlsZSAoaW5kZXgtLSAmJiByZVdoaXRlc3BhY2UudGVzdChzdHJpbmcuY2hhckF0KGluZGV4KSkpIHt9XG5cbiAgcmV0dXJuIGluZGV4O1xufVxuXG52YXIgX3RyaW1tZWRFbmRJbmRleCA9IHRyaW1tZWRFbmRJbmRleCQxO1xudmFyIHRyaW1tZWRFbmRJbmRleCA9IF90cmltbWVkRW5kSW5kZXg7XG4vKiogVXNlZCB0byBtYXRjaCBsZWFkaW5nIHdoaXRlc3BhY2UuICovXG5cbnZhciByZVRyaW1TdGFydCA9IC9eXFxzKy87XG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRyaW1gLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRyaW1tZWQgc3RyaW5nLlxuICovXG5cbmZ1bmN0aW9uIGJhc2VUcmltJDEoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcgPyBzdHJpbmcuc2xpY2UoMCwgdHJpbW1lZEVuZEluZGV4KHN0cmluZykgKyAxKS5yZXBsYWNlKHJlVHJpbVN0YXJ0LCAnJykgOiBzdHJpbmc7XG59XG5cbnZhciBfYmFzZVRyaW0gPSBiYXNlVHJpbSQxO1xudmFyIGJhc2VUcmltID0gX2Jhc2VUcmltLFxuICAgIGlzT2JqZWN0JDIgPSBpc09iamVjdF8xLFxuICAgIGlzU3ltYm9sID0gaXNTeW1ib2xfMTtcbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xuXG52YXIgTkFOID0gMCAvIDA7XG4vKiogVXNlZCB0byBkZXRlY3QgYmFkIHNpZ25lZCBoZXhhZGVjaW1hbCBzdHJpbmcgdmFsdWVzLiAqL1xuXG52YXIgcmVJc0JhZEhleCA9IC9eWy0rXTB4WzAtOWEtZl0rJC9pO1xuLyoqIFVzZWQgdG8gZGV0ZWN0IGJpbmFyeSBzdHJpbmcgdmFsdWVzLiAqL1xuXG52YXIgcmVJc0JpbmFyeSA9IC9eMGJbMDFdKyQvaTtcbi8qKiBVc2VkIHRvIGRldGVjdCBvY3RhbCBzdHJpbmcgdmFsdWVzLiAqL1xuXG52YXIgcmVJc09jdGFsID0gL14wb1swLTddKyQvaTtcbi8qKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB3aXRob3V0IGEgZGVwZW5kZW5jeSBvbiBgcm9vdGAuICovXG5cbnZhciBmcmVlUGFyc2VJbnQgPSBwYXJzZUludDtcbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIG51bWJlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b051bWJlcigzLjIpO1xuICogLy8gPT4gMy4yXG4gKlxuICogXy50b051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IDVlLTMyNFxuICpcbiAqIF8udG9OdW1iZXIoSW5maW5pdHkpO1xuICogLy8gPT4gSW5maW5pdHlcbiAqXG4gKiBfLnRvTnVtYmVyKCczLjInKTtcbiAqIC8vID0+IDMuMlxuICovXG5cbmZ1bmN0aW9uIHRvTnVtYmVyJDEodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gTkFOO1xuICB9XG5cbiAgaWYgKGlzT2JqZWN0JDIodmFsdWUpKSB7XG4gICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgIHZhbHVlID0gaXNPYmplY3QkMihvdGhlcikgPyBvdGhlciArICcnIDogb3RoZXI7XG4gIH1cblxuICBpZiAodHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiArdmFsdWU7XG4gIH1cblxuICB2YWx1ZSA9IGJhc2VUcmltKHZhbHVlKTtcbiAgdmFyIGlzQmluYXJ5ID0gcmVJc0JpbmFyeS50ZXN0KHZhbHVlKTtcbiAgcmV0dXJuIGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOCkgOiByZUlzQmFkSGV4LnRlc3QodmFsdWUpID8gTkFOIDogK3ZhbHVlO1xufVxuXG52YXIgdG9OdW1iZXJfMSA9IHRvTnVtYmVyJDE7XG52YXIgaXNPYmplY3QkMSA9IGlzT2JqZWN0XzEsXG4gICAgbm93ID0gbm93XzEsXG4gICAgdG9OdW1iZXIgPSB0b051bWJlcl8xO1xuLyoqIEVycm9yIG1lc3NhZ2UgY29uc3RhbnRzLiAqL1xuXG52YXIgRlVOQ19FUlJPUl9URVhUJDEgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG5cbnZhciBuYXRpdmVNYXggPSBNYXRoLm1heCxcbiAgICBuYXRpdmVNaW4gPSBNYXRoLm1pbjtcbi8qKlxuICogQ3JlYXRlcyBhIGRlYm91bmNlZCBmdW5jdGlvbiB0aGF0IGRlbGF5cyBpbnZva2luZyBgZnVuY2AgdW50aWwgYWZ0ZXIgYHdhaXRgXG4gKiBtaWxsaXNlY29uZHMgaGF2ZSBlbGFwc2VkIHNpbmNlIHRoZSBsYXN0IHRpbWUgdGhlIGRlYm91bmNlZCBmdW5jdGlvbiB3YXNcbiAqIGludm9rZWQuIFRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgIG1ldGhvZCB0byBjYW5jZWxcbiAqIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLlxuICogUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2Agc2hvdWxkIGJlIGludm9rZWQgb24gdGhlXG4gKiBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGAgdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkXG4gKiB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50XG4gKiBjYWxscyB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYFxuICogaW52b2NhdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIGRlYm91bmNlZCBmdW5jdGlvblxuICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICpcbiAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICpcbiAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy5kZWJvdW5jZWAgYW5kIGBfLnRocm90dGxlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlYm91bmNlLlxuICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5LlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9ZmFsc2VdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFdhaXRdXG4gKiAgVGhlIG1heGltdW0gdGltZSBgZnVuY2AgaXMgYWxsb3dlZCB0byBiZSBkZWxheWVkIGJlZm9yZSBpdCdzIGludm9rZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGRlYm91bmNlZCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogLy8gQXZvaWQgY29zdGx5IGNhbGN1bGF0aW9ucyB3aGlsZSB0aGUgd2luZG93IHNpemUgaXMgaW4gZmx1eC5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdyZXNpemUnLCBfLmRlYm91bmNlKGNhbGN1bGF0ZUxheW91dCwgMTUwKSk7XG4gKlxuICogLy8gSW52b2tlIGBzZW5kTWFpbGAgd2hlbiBjbGlja2VkLCBkZWJvdW5jaW5nIHN1YnNlcXVlbnQgY2FsbHMuXG4gKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5kZWJvdW5jZShzZW5kTWFpbCwgMzAwLCB7XG4gKiAgICdsZWFkaW5nJzogdHJ1ZSxcbiAqICAgJ3RyYWlsaW5nJzogZmFsc2VcbiAqIH0pKTtcbiAqXG4gKiAvLyBFbnN1cmUgYGJhdGNoTG9nYCBpcyBpbnZva2VkIG9uY2UgYWZ0ZXIgMSBzZWNvbmQgb2YgZGVib3VuY2VkIGNhbGxzLlxuICogdmFyIGRlYm91bmNlZCA9IF8uZGVib3VuY2UoYmF0Y2hMb2csIDI1MCwgeyAnbWF4V2FpdCc6IDEwMDAgfSk7XG4gKiB2YXIgc291cmNlID0gbmV3IEV2ZW50U291cmNlKCcvc3RyZWFtJyk7XG4gKiBqUXVlcnkoc291cmNlKS5vbignbWVzc2FnZScsIGRlYm91bmNlZCk7XG4gKlxuICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyBkZWJvdW5jZWQgaW52b2NhdGlvbi5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIGRlYm91bmNlZC5jYW5jZWwpO1xuICovXG5cbmZ1bmN0aW9uIGRlYm91bmNlJDEoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICB2YXIgbGFzdEFyZ3MsXG4gICAgICBsYXN0VGhpcyxcbiAgICAgIG1heFdhaXQsXG4gICAgICByZXN1bHQsXG4gICAgICB0aW1lcklkLFxuICAgICAgbGFzdENhbGxUaW1lLFxuICAgICAgbGFzdEludm9rZVRpbWUgPSAwLFxuICAgICAgbGVhZGluZyA9IGZhbHNlLFxuICAgICAgbWF4aW5nID0gZmFsc2UsXG4gICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCQxKTtcbiAgfVxuXG4gIHdhaXQgPSB0b051bWJlcih3YWl0KSB8fCAwO1xuXG4gIGlmIChpc09iamVjdCQxKG9wdGlvbnMpKSB7XG4gICAgbGVhZGluZyA9ICEhb3B0aW9ucy5sZWFkaW5nO1xuICAgIG1heGluZyA9ICdtYXhXYWl0JyBpbiBvcHRpb25zO1xuICAgIG1heFdhaXQgPSBtYXhpbmcgPyBuYXRpdmVNYXgodG9OdW1iZXIob3B0aW9ucy5tYXhXYWl0KSB8fCAwLCB3YWl0KSA6IG1heFdhaXQ7XG4gICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgfVxuXG4gIGZ1bmN0aW9uIGludm9rZUZ1bmModGltZSkge1xuICAgIHZhciBhcmdzID0gbGFzdEFyZ3MsXG4gICAgICAgIHRoaXNBcmcgPSBsYXN0VGhpcztcbiAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBsZWFkaW5nRWRnZSh0aW1lKSB7XG4gICAgLy8gUmVzZXQgYW55IGBtYXhXYWl0YCB0aW1lci5cbiAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7IC8vIFN0YXJ0IHRoZSB0aW1lciBmb3IgdGhlIHRyYWlsaW5nIGVkZ2UuXG5cbiAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpOyAvLyBJbnZva2UgdGhlIGxlYWRpbmcgZWRnZS5cblxuICAgIHJldHVybiBsZWFkaW5nID8gaW52b2tlRnVuYyh0aW1lKSA6IHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbWFpbmluZ1dhaXQodGltZSkge1xuICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWUsXG4gICAgICAgIHRpbWVXYWl0aW5nID0gd2FpdCAtIHRpbWVTaW5jZUxhc3RDYWxsO1xuICAgIHJldHVybiBtYXhpbmcgPyBuYXRpdmVNaW4odGltZVdhaXRpbmcsIG1heFdhaXQgLSB0aW1lU2luY2VMYXN0SW52b2tlKSA6IHRpbWVXYWl0aW5nO1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvdWxkSW52b2tlKHRpbWUpIHtcbiAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lOyAvLyBFaXRoZXIgdGhpcyBpcyB0aGUgZmlyc3QgY2FsbCwgYWN0aXZpdHkgaGFzIHN0b3BwZWQgYW5kIHdlJ3JlIGF0IHRoZVxuICAgIC8vIHRyYWlsaW5nIGVkZ2UsIHRoZSBzeXN0ZW0gdGltZSBoYXMgZ29uZSBiYWNrd2FyZHMgYW5kIHdlJ3JlIHRyZWF0aW5nXG4gICAgLy8gaXQgYXMgdGhlIHRyYWlsaW5nIGVkZ2UsIG9yIHdlJ3ZlIGhpdCB0aGUgYG1heFdhaXRgIGxpbWl0LlxuXG4gICAgcmV0dXJuIGxhc3RDYWxsVGltZSA9PT0gdW5kZWZpbmVkIHx8IHRpbWVTaW5jZUxhc3RDYWxsID49IHdhaXQgfHwgdGltZVNpbmNlTGFzdENhbGwgPCAwIHx8IG1heGluZyAmJiB0aW1lU2luY2VMYXN0SW52b2tlID49IG1heFdhaXQ7XG4gIH1cblxuICBmdW5jdGlvbiB0aW1lckV4cGlyZWQoKSB7XG4gICAgdmFyIHRpbWUgPSBub3coKTtcblxuICAgIGlmIChzaG91bGRJbnZva2UodGltZSkpIHtcbiAgICAgIHJldHVybiB0cmFpbGluZ0VkZ2UodGltZSk7XG4gICAgfSAvLyBSZXN0YXJ0IHRoZSB0aW1lci5cblxuXG4gICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCByZW1haW5pbmdXYWl0KHRpbWUpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYWlsaW5nRWRnZSh0aW1lKSB7XG4gICAgdGltZXJJZCA9IHVuZGVmaW5lZDsgLy8gT25seSBpbnZva2UgaWYgd2UgaGF2ZSBgbGFzdEFyZ3NgIHdoaWNoIG1lYW5zIGBmdW5jYCBoYXMgYmVlblxuICAgIC8vIGRlYm91bmNlZCBhdCBsZWFzdCBvbmNlLlxuXG4gICAgaWYgKHRyYWlsaW5nICYmIGxhc3RBcmdzKSB7XG4gICAgICByZXR1cm4gaW52b2tlRnVuYyh0aW1lKTtcbiAgICB9XG5cbiAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBjYW5jZWwoKSB7XG4gICAgaWYgKHRpbWVySWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgIH1cblxuICAgIGxhc3RJbnZva2VUaW1lID0gMDtcbiAgICBsYXN0QXJncyA9IGxhc3RDYWxsVGltZSA9IGxhc3RUaGlzID0gdGltZXJJZCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgIHJldHVybiB0aW1lcklkID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiB0cmFpbGluZ0VkZ2Uobm93KCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgIHZhciB0aW1lID0gbm93KCksXG4gICAgICAgIGlzSW52b2tpbmcgPSBzaG91bGRJbnZva2UodGltZSk7XG4gICAgbGFzdEFyZ3MgPSBhcmd1bWVudHM7XG4gICAgbGFzdFRoaXMgPSB0aGlzO1xuICAgIGxhc3RDYWxsVGltZSA9IHRpbWU7XG5cbiAgICBpZiAoaXNJbnZva2luZykge1xuICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gbGVhZGluZ0VkZ2UobGFzdENhbGxUaW1lKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1heGluZykge1xuICAgICAgICAvLyBIYW5kbGUgaW52b2NhdGlvbnMgaW4gYSB0aWdodCBsb29wLlxuICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIHJldHVybiBpbnZva2VGdW5jKGxhc3RDYWxsVGltZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZGVib3VuY2VkLmNhbmNlbCA9IGNhbmNlbDtcbiAgZGVib3VuY2VkLmZsdXNoID0gZmx1c2g7XG4gIHJldHVybiBkZWJvdW5jZWQ7XG59XG5cbnZhciBkZWJvdW5jZV8xID0gZGVib3VuY2UkMTtcbnZhciBkZWJvdW5jZSA9IGRlYm91bmNlXzEsXG4gICAgaXNPYmplY3QgPSBpc09iamVjdF8xO1xuLyoqIEVycm9yIG1lc3NhZ2UgY29uc3RhbnRzLiAqL1xuXG52YXIgRlVOQ19FUlJPUl9URVhUID0gJ0V4cGVjdGVkIGEgZnVuY3Rpb24nO1xuLyoqXG4gKiBDcmVhdGVzIGEgdGhyb3R0bGVkIGZ1bmN0aW9uIHRoYXQgb25seSBpbnZva2VzIGBmdW5jYCBhdCBtb3N0IG9uY2UgcGVyXG4gKiBldmVyeSBgd2FpdGAgbWlsbGlzZWNvbmRzLiBUaGUgdGhyb3R0bGVkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYFxuICogbWV0aG9kIHRvIGNhbmNlbCBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0b1xuICogaW1tZWRpYXRlbHkgaW52b2tlIHRoZW0uIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgXG4gKiBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGUgbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgXG4gKiB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWQgd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlXG4gKiB0aHJvdHRsZWQgZnVuY3Rpb24uIFN1YnNlcXVlbnQgY2FsbHMgdG8gdGhlIHRocm90dGxlZCBmdW5jdGlvbiByZXR1cm4gdGhlXG4gKiByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgIGludm9jYXRpb24uXG4gKlxuICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb25cbiAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAqXG4gKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAqXG4gKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8udGhyb3R0bGVgIGFuZCBgXy5kZWJvdW5jZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB0aHJvdHRsZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB0aHJvdHRsZSBpbnZvY2F0aW9ucyB0by5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPXRydWVdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB0aHJvdHRsZWQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIC8vIEF2b2lkIGV4Y2Vzc2l2ZWx5IHVwZGF0aW5nIHRoZSBwb3NpdGlvbiB3aGlsZSBzY3JvbGxpbmcuXG4gKiBqUXVlcnkod2luZG93KS5vbignc2Nyb2xsJywgXy50aHJvdHRsZSh1cGRhdGVQb3NpdGlvbiwgMTAwKSk7XG4gKlxuICogLy8gSW52b2tlIGByZW5ld1Rva2VuYCB3aGVuIHRoZSBjbGljayBldmVudCBpcyBmaXJlZCwgYnV0IG5vdCBtb3JlIHRoYW4gb25jZSBldmVyeSA1IG1pbnV0ZXMuXG4gKiB2YXIgdGhyb3R0bGVkID0gXy50aHJvdHRsZShyZW5ld1Rva2VuLCAzMDAwMDAsIHsgJ3RyYWlsaW5nJzogZmFsc2UgfSk7XG4gKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgdGhyb3R0bGVkKTtcbiAqXG4gKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIHRocm90dGxlZCBpbnZvY2F0aW9uLlxuICogalF1ZXJ5KHdpbmRvdykub24oJ3BvcHN0YXRlJywgdGhyb3R0bGVkLmNhbmNlbCk7XG4gKi9cblxuZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICB2YXIgbGVhZGluZyA9IHRydWUsXG4gICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gIH1cblxuICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICBsZWFkaW5nID0gJ2xlYWRpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMubGVhZGluZyA6IGxlYWRpbmc7XG4gICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgfVxuXG4gIHJldHVybiBkZWJvdW5jZShmdW5jLCB3YWl0LCB7XG4gICAgJ2xlYWRpbmcnOiBsZWFkaW5nLFxuICAgICdtYXhXYWl0Jzogd2FpdCxcbiAgICAndHJhaWxpbmcnOiB0cmFpbGluZ1xuICB9KTtcbn1cblxudmFyIHRocm90dGxlXzEgPSB0aHJvdHRsZTtcbnZhciBXcmFwcGVyID0gc3R5bGVkLmRpdih7XG4gIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICBtYXhXaWR0aDogMjUwXG59KTtcbnZhciBQaWNrZXJUb29sdGlwID0gc3R5bGVkKFdpdGhUb29sdGlwKSh7XG4gIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICB6SW5kZXg6IDEsXG4gIHRvcDogNCxcbiAgbGVmdDogNFxufSk7XG52YXIgVG9vbHRpcENvbnRlbnQgPSBzdHlsZWQuZGl2KHtcbiAgd2lkdGg6IDIwMCxcbiAgbWFyZ2luOiA1LFxuICAnLnJlYWN0LWNvbG9yZnVsX19zYXR1cmF0aW9uJzoge1xuICAgIGJvcmRlclJhZGl1czogJzRweCA0cHggMCAwJ1xuICB9LFxuICAnLnJlYWN0LWNvbG9yZnVsX19odWUnOiB7XG4gICAgYm94U2hhZG93OiAnaW5zZXQgMCAwIDAgMXB4IHJnYigwIDAgMCAvIDUlKSdcbiAgfSxcbiAgJy5yZWFjdC1jb2xvcmZ1bF9fbGFzdC1jb250cm9sJzoge1xuICAgIGJvcmRlclJhZGl1czogJzAgMCA0cHggNHB4J1xuICB9XG59KTtcbnZhciBOb3RlID0gc3R5bGVkKFRvb2x0aXBOb3RlKShmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgdGhlbWUgPSBfcmVmLnRoZW1lO1xuICByZXR1cm4ge1xuICAgIGZvbnRGYW1pbHk6IHRoZW1lLnR5cG9ncmFwaHkuZm9udHMuYmFzZVxuICB9O1xufSk7XG52YXIgU3dhdGNoZXMgPSBzdHlsZWQuZGl2KHtcbiAgZGlzcGxheTogJ2dyaWQnLFxuICBncmlkVGVtcGxhdGVDb2x1bW5zOiAncmVwZWF0KDksIDE2cHgpJyxcbiAgZ2FwOiA2LFxuICBwYWRkaW5nOiAzLFxuICBtYXJnaW5Ub3A6IDUsXG4gIHdpZHRoOiAyMDBcbn0pO1xudmFyIFN3YXRjaENvbG9yID0gc3R5bGVkLmRpdihmdW5jdGlvbiAoX3JlZjIpIHtcbiAgdmFyIHRoZW1lID0gX3JlZjIudGhlbWUsXG4gICAgICBhY3RpdmUgPSBfcmVmMi5hY3RpdmU7XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IDE2LFxuICAgIGhlaWdodDogMTYsXG4gICAgYm94U2hhZG93OiBhY3RpdmUgPyBcIlwiLmNvbmNhdCh0aGVtZS5hcHBCb3JkZXJDb2xvciwgXCIgMCAwIDAgMXB4IGluc2V0LCBcIikuY29uY2F0KHRoZW1lLmNvbG9yLm1lZGl1bWRhcmssIFwiNTAgMCAwIDAgNHB4XCIpIDogXCJcIi5jb25jYXQodGhlbWUuYXBwQm9yZGVyQ29sb3IsIFwiIDAgMCAwIDFweCBpbnNldFwiKSxcbiAgICBib3JkZXJSYWRpdXM6IHRoZW1lLmFwcEJvcmRlclJhZGl1c1xuICB9O1xufSk7XG52YXIgc3dhdGNoQmFja2dyb3VuZCA9IFwidXJsKCdkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCw8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgd2lkdGg9XFxcIjE2XFxcIiBoZWlnaHQ9XFxcIjE2XFxcIiBmaWxsLW9wYWNpdHk9XFxcIi4wNVxcXCI+PHBhdGggZD1cXFwiTTggMGg4djhIOHpNMCA4aDh2OEgwelxcXCIvPjwvc3ZnPicpXCI7XG5cbnZhciBTd2F0Y2ggPSBmdW5jdGlvbiBTd2F0Y2goX2EpIHtcbiAgdmFyIHZhbHVlID0gX2EudmFsdWUsXG4gICAgICBhY3RpdmUgPSBfYS5hY3RpdmUsXG4gICAgICBvbkNsaWNrID0gX2Eub25DbGljayxcbiAgICAgIHN0eWxlID0gX2Euc3R5bGUsXG4gICAgICBwcm9wcyA9IF9fcmVzdChfYSwgW1widmFsdWVcIiwgXCJhY3RpdmVcIiwgXCJvbkNsaWNrXCIsIFwic3R5bGVcIl0pO1xuXG4gIHZhciBiYWNrZ3JvdW5kSW1hZ2UgPSBcImxpbmVhci1ncmFkaWVudChcIi5jb25jYXQodmFsdWUsIFwiLCBcIikuY29uY2F0KHZhbHVlLCBcIiksIFwiKS5jb25jYXQoc3dhdGNoQmFja2dyb3VuZCwgXCIsIGxpbmVhci1ncmFkaWVudCgjZmZmLCAjZmZmKVwiKTtcbiAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoU3dhdGNoQ29sb3IsIE9iamVjdC5hc3NpZ24oe30sIHByb3BzLCB7XG4gICAgYWN0aXZlOiBhY3RpdmUsXG4gICAgb25DbGljazogb25DbGlja1xuICB9LCB7XG4gICAgc3R5bGU6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3R5bGUpLCB7XG4gICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGJhY2tncm91bmRJbWFnZVxuICAgIH0pXG4gIH0pKTtcbn07XG5cbnZhciBJbnB1dCA9IHN0eWxlZChGb3JtLklucHV0KShmdW5jdGlvbiAoX3JlZjMpIHtcbiAgdmFyIHRoZW1lID0gX3JlZjMudGhlbWU7XG4gIHJldHVybiB7XG4gICAgd2lkdGg6ICcxMDAlJyxcbiAgICBwYWRkaW5nTGVmdDogMzAsXG4gICAgcGFkZGluZ1JpZ2h0OiAzMCxcbiAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICBmb250RmFtaWx5OiB0aGVtZS50eXBvZ3JhcGh5LmZvbnRzLmJhc2VcbiAgfTtcbn0pO1xudmFyIFRvZ2dsZUljb24gPSBzdHlsZWQoSWNvbnMpKGZ1bmN0aW9uIChfcmVmNCkge1xuICB2YXIgdGhlbWUgPSBfcmVmNC50aGVtZTtcbiAgcmV0dXJuIHtcbiAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICB6SW5kZXg6IDEsXG4gICAgdG9wOiA2LFxuICAgIHJpZ2h0OiA3LFxuICAgIHdpZHRoOiAyMCxcbiAgICBoZWlnaHQ6IDIwLFxuICAgIHBhZGRpbmc6IDQsXG4gICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgY29sb3I6IHRoZW1lLmlucHV0LmNvbG9yXG4gIH07XG59KTtcbnZhciBDb2xvclNwYWNlO1xuXG4oZnVuY3Rpb24gKENvbG9yU3BhY2UpIHtcbiAgQ29sb3JTcGFjZVtcIlJHQlwiXSA9IFwicmdiXCI7XG4gIENvbG9yU3BhY2VbXCJIU0xcIl0gPSBcImhzbFwiO1xuICBDb2xvclNwYWNlW1wiSEVYXCJdID0gXCJoZXhcIjtcbn0pKENvbG9yU3BhY2UgfHwgKENvbG9yU3BhY2UgPSB7fSkpO1xuXG52YXIgQ09MT1JfU1BBQ0VTID0gT2JqZWN0LnZhbHVlcyhDb2xvclNwYWNlKTtcbnZhciBDT0xPUl9SRUdFWFAgPSAvXFwoKFswLTldKyksXFxzKihbMC05XSspJT8sXFxzKihbMC05XSspJT8sP1xccyooWzAtOS5dKyk/XFwpLztcbnZhciBSR0JfUkVHRVhQID0gL15cXHMqcmdiYT9cXCgoWzAtOV0rKSxcXHMqKFswLTldKyksXFxzKihbMC05XSspLD9cXHMqKFswLTkuXSspP1xcKVxccyokL2k7XG52YXIgSFNMX1JFR0VYUCA9IC9eXFxzKmhzbGE/XFwoKFswLTldKyksXFxzKihbMC05XSspJSxcXHMqKFswLTldKyklLD9cXHMqKFswLTkuXSspP1xcKVxccyokL2k7XG52YXIgSEVYX1JFR0VYUCA9IC9eXFxzKiM/KFswLTlhLWZdezN9fFswLTlhLWZdezZ9KVxccyokL2k7XG52YXIgU0hPUlRIRVhfUkVHRVhQID0gL15cXHMqIz8oWzAtOWEtZl17M30pXFxzKiQvaTtcbnZhciBDb2xvclBpY2tlciA9IChfQ29sb3JQaWNrZXIgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9Db2xvclBpY2tlciwgQ29sb3JTcGFjZS5IRVgsIEopLCBfZGVmaW5lUHJvcGVydHkoX0NvbG9yUGlja2VyLCBDb2xvclNwYWNlLlJHQiwgcGUpLCBfZGVmaW5lUHJvcGVydHkoX0NvbG9yUGlja2VyLCBDb2xvclNwYWNlLkhTTCwgcmUpLCBfQ29sb3JQaWNrZXIpO1xudmFyIGZhbGxiYWNrQ29sb3IgPSAoX2ZhbGxiYWNrQ29sb3IgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9mYWxsYmFja0NvbG9yLCBDb2xvclNwYWNlLkhFWCwgJ3RyYW5zcGFyZW50JyksIF9kZWZpbmVQcm9wZXJ0eShfZmFsbGJhY2tDb2xvciwgQ29sb3JTcGFjZS5SR0IsICdyZ2JhKDAsIDAsIDAsIDApJyksIF9kZWZpbmVQcm9wZXJ0eShfZmFsbGJhY2tDb2xvciwgQ29sb3JTcGFjZS5IU0wsICdoc2xhKDAsIDAlLCAwJSwgMCknKSwgX2ZhbGxiYWNrQ29sb3IpO1xuXG52YXIgc3RyaW5nVG9BcmdzID0gZnVuY3Rpb24gc3RyaW5nVG9BcmdzKHZhbHVlKSB7XG4gIHZhciBtYXRjaCA9IHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2YWx1ZS5tYXRjaChDT0xPUl9SRUdFWFApO1xuICBpZiAoIW1hdGNoKSByZXR1cm4gWzAsIDAsIDAsIDFdO1xuXG4gIHZhciBfbWF0Y2ggPSBfc2xpY2VkVG9BcnJheShtYXRjaCwgNSksXG4gICAgICB4ID0gX21hdGNoWzFdLFxuICAgICAgeSA9IF9tYXRjaFsyXSxcbiAgICAgIHogPSBfbWF0Y2hbM10sXG4gICAgICBfbWF0Y2gkID0gX21hdGNoWzRdLFxuICAgICAgYSA9IF9tYXRjaCQgPT09IHZvaWQgMCA/IDEgOiBfbWF0Y2gkO1xuXG4gIHJldHVybiBbeCwgeSwgeiwgYV0ubWFwKE51bWJlcik7XG59O1xuXG52YXIgcGFyc2VWYWx1ZSA9IGZ1bmN0aW9uIHBhcnNlVmFsdWUodmFsdWUpIHtcbiAgdmFyIF9yZWYxMTtcblxuICBpZiAoIXZhbHVlKSByZXR1cm4gdW5kZWZpbmVkO1xuICB2YXIgdmFsaWQgPSB0cnVlO1xuXG4gIGlmIChSR0JfUkVHRVhQLnRlc3QodmFsdWUpKSB7XG4gICAgdmFyIF9yZWY3O1xuXG4gICAgdmFyIF9zdHJpbmdUb0FyZ3MgPSBzdHJpbmdUb0FyZ3ModmFsdWUpLFxuICAgICAgICBfc3RyaW5nVG9BcmdzMiA9IF9zbGljZWRUb0FycmF5KF9zdHJpbmdUb0FyZ3MsIDQpLFxuICAgICAgICByID0gX3N0cmluZ1RvQXJnczJbMF0sXG4gICAgICAgIF9nID0gX3N0cmluZ1RvQXJnczJbMV0sXG4gICAgICAgIF9iID0gX3N0cmluZ1RvQXJnczJbMl0sXG4gICAgICAgIGEgPSBfc3RyaW5nVG9BcmdzMlszXTtcblxuICAgIHZhciBfcmVmNSA9IGNvbG9yQ29udmVydC5yZ2IuaHNsKFtyLCBfZywgX2JdKSB8fCBbMCwgMCwgMF0sXG4gICAgICAgIF9yZWY2ID0gX3NsaWNlZFRvQXJyYXkoX3JlZjUsIDMpLFxuICAgICAgICBfaCA9IF9yZWY2WzBdLFxuICAgICAgICBfczIgPSBfcmVmNlsxXSxcbiAgICAgICAgbCA9IF9yZWY2WzJdO1xuXG4gICAgcmV0dXJuIF9yZWY3ID0ge1xuICAgICAgdmFsaWQ6IHZhbGlkLFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAga2V5d29yZDogY29sb3JDb252ZXJ0LnJnYi5rZXl3b3JkKFtyLCBfZywgX2JdKSxcbiAgICAgIGNvbG9yU3BhY2U6IENvbG9yU3BhY2UuUkdCXG4gICAgfSwgX2RlZmluZVByb3BlcnR5KF9yZWY3LCBDb2xvclNwYWNlLlJHQiwgdmFsdWUpLCBfZGVmaW5lUHJvcGVydHkoX3JlZjcsIENvbG9yU3BhY2UuSFNMLCBcImhzbGEoXCIuY29uY2F0KF9oLCBcIiwgXCIpLmNvbmNhdChfczIsIFwiJSwgXCIpLmNvbmNhdChsLCBcIiUsIFwiKS5jb25jYXQoYSwgXCIpXCIpKSwgX2RlZmluZVByb3BlcnR5KF9yZWY3LCBDb2xvclNwYWNlLkhFWCwgXCIjXCIuY29uY2F0KGNvbG9yQ29udmVydC5yZ2IuaGV4KFtyLCBfZywgX2JdKS50b0xvd2VyQ2FzZSgpKSksIF9yZWY3O1xuICB9XG5cbiAgaWYgKEhTTF9SRUdFWFAudGVzdCh2YWx1ZSkpIHtcbiAgICB2YXIgX3JlZjEwO1xuXG4gICAgdmFyIF9zdHJpbmdUb0FyZ3MzID0gc3RyaW5nVG9BcmdzKHZhbHVlKSxcbiAgICAgICAgX3N0cmluZ1RvQXJnczQgPSBfc2xpY2VkVG9BcnJheShfc3RyaW5nVG9BcmdzMywgNCksXG4gICAgICAgIF9oMiA9IF9zdHJpbmdUb0FyZ3M0WzBdLFxuICAgICAgICBfczMgPSBfc3RyaW5nVG9BcmdzNFsxXSxcbiAgICAgICAgX2wgPSBfc3RyaW5nVG9BcmdzNFsyXSxcbiAgICAgICAgX2EyID0gX3N0cmluZ1RvQXJnczRbM107XG5cbiAgICB2YXIgX3JlZjggPSBjb2xvckNvbnZlcnQuaHNsLnJnYihbX2gyLCBfczMsIF9sXSkgfHwgWzAsIDAsIDBdLFxuICAgICAgICBfcmVmOSA9IF9zbGljZWRUb0FycmF5KF9yZWY4LCAzKSxcbiAgICAgICAgX3IgPSBfcmVmOVswXSxcbiAgICAgICAgX2cyID0gX3JlZjlbMV0sXG4gICAgICAgIF9iMiA9IF9yZWY5WzJdO1xuXG4gICAgcmV0dXJuIF9yZWYxMCA9IHtcbiAgICAgIHZhbGlkOiB2YWxpZCxcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGtleXdvcmQ6IGNvbG9yQ29udmVydC5oc2wua2V5d29yZChbX2gyLCBfczMsIF9sXSksXG4gICAgICBjb2xvclNwYWNlOiBDb2xvclNwYWNlLkhTTFxuICAgIH0sIF9kZWZpbmVQcm9wZXJ0eShfcmVmMTAsIENvbG9yU3BhY2UuUkdCLCBcInJnYmEoXCIuY29uY2F0KF9yLCBcIiwgXCIpLmNvbmNhdChfZzIsIFwiLCBcIikuY29uY2F0KF9iMiwgXCIsIFwiKS5jb25jYXQoX2EyLCBcIilcIikpLCBfZGVmaW5lUHJvcGVydHkoX3JlZjEwLCBDb2xvclNwYWNlLkhTTCwgdmFsdWUpLCBfZGVmaW5lUHJvcGVydHkoX3JlZjEwLCBDb2xvclNwYWNlLkhFWCwgXCIjXCIuY29uY2F0KGNvbG9yQ29udmVydC5oc2wuaGV4KFtfaDIsIF9zMywgX2xdKS50b0xvd2VyQ2FzZSgpKSksIF9yZWYxMDtcbiAgfVxuXG4gIHZhciBwbGFpbiA9IHZhbHVlLnJlcGxhY2UoJyMnLCAnJyk7XG4gIHZhciByZ2IgPSBjb2xvckNvbnZlcnQua2V5d29yZC5yZ2IocGxhaW4pIHx8IGNvbG9yQ29udmVydC5oZXgucmdiKHBsYWluKTtcbiAgdmFyIGhzbCA9IGNvbG9yQ29udmVydC5yZ2IuaHNsKHJnYik7XG4gIHZhciBtYXBwZWQgPSB2YWx1ZTtcbiAgaWYgKC9bXiNhLWYwLTldL2kudGVzdCh2YWx1ZSkpIG1hcHBlZCA9IHBsYWluO2Vsc2UgaWYgKEhFWF9SRUdFWFAudGVzdCh2YWx1ZSkpIG1hcHBlZCA9IFwiI1wiLmNvbmNhdChwbGFpbik7XG5cbiAgaWYgKG1hcHBlZC5zdGFydHNXaXRoKCcjJykpIHtcbiAgICB2YWxpZCA9IEhFWF9SRUdFWFAudGVzdChtYXBwZWQpO1xuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBjb2xvckNvbnZlcnQua2V5d29yZC5oZXgobWFwcGVkKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB2YWxpZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBfcmVmMTEgPSB7XG4gICAgdmFsaWQ6IHZhbGlkLFxuICAgIHZhbHVlOiBtYXBwZWQsXG4gICAga2V5d29yZDogY29sb3JDb252ZXJ0LnJnYi5rZXl3b3JkKHJnYiksXG4gICAgY29sb3JTcGFjZTogQ29sb3JTcGFjZS5IRVhcbiAgfSwgX2RlZmluZVByb3BlcnR5KF9yZWYxMSwgQ29sb3JTcGFjZS5SR0IsIFwicmdiYShcIi5jb25jYXQocmdiWzBdLCBcIiwgXCIpLmNvbmNhdChyZ2JbMV0sIFwiLCBcIikuY29uY2F0KHJnYlsyXSwgXCIsIDEpXCIpKSwgX2RlZmluZVByb3BlcnR5KF9yZWYxMSwgQ29sb3JTcGFjZS5IU0wsIFwiaHNsYShcIi5jb25jYXQoaHNsWzBdLCBcIiwgXCIpLmNvbmNhdChoc2xbMV0sIFwiJSwgXCIpLmNvbmNhdChoc2xbMl0sIFwiJSwgMSlcIikpLCBfZGVmaW5lUHJvcGVydHkoX3JlZjExLCBDb2xvclNwYWNlLkhFWCwgbWFwcGVkKSwgX3JlZjExO1xufTtcblxudmFyIGdldFJlYWxWYWx1ZSA9IGZ1bmN0aW9uIGdldFJlYWxWYWx1ZSh2YWx1ZSwgY29sb3IsIGNvbG9yU3BhY2UpIHtcbiAgaWYgKCF2YWx1ZSB8fCAhKGNvbG9yID09PSBudWxsIHx8IGNvbG9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb2xvci52YWxpZCkpIHJldHVybiBmYWxsYmFja0NvbG9yW2NvbG9yU3BhY2VdO1xuICBpZiAoY29sb3JTcGFjZSAhPT0gQ29sb3JTcGFjZS5IRVgpIHJldHVybiAoY29sb3IgPT09IG51bGwgfHwgY29sb3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbG9yW2NvbG9yU3BhY2VdKSB8fCBmYWxsYmFja0NvbG9yW2NvbG9yU3BhY2VdO1xuXG4gIGlmICghY29sb3IuaGV4LnN0YXJ0c1dpdGgoJyMnKSkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gXCIjXCIuY29uY2F0KGNvbG9yQ29udmVydC5rZXl3b3JkLmhleChjb2xvci5oZXgpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZmFsbGJhY2tDb2xvci5oZXg7XG4gICAgfVxuICB9XG5cbiAgdmFyIHNob3J0ID0gY29sb3IuaGV4Lm1hdGNoKFNIT1JUSEVYX1JFR0VYUCk7XG4gIGlmICghc2hvcnQpIHJldHVybiBIRVhfUkVHRVhQLnRlc3QoY29sb3IuaGV4KSA/IGNvbG9yLmhleCA6IGZhbGxiYWNrQ29sb3IuaGV4O1xuXG4gIHZhciBfc2hvcnQkMSRzcGxpdCA9IHNob3J0WzFdLnNwbGl0KCcnKSxcbiAgICAgIF9zaG9ydCQxJHNwbGl0MiA9IF9zbGljZWRUb0FycmF5KF9zaG9ydCQxJHNwbGl0LCAzKSxcbiAgICAgIHIgPSBfc2hvcnQkMSRzcGxpdDJbMF0sXG4gICAgICBnID0gX3Nob3J0JDEkc3BsaXQyWzFdLFxuICAgICAgYiA9IF9zaG9ydCQxJHNwbGl0MlsyXTtcblxuICByZXR1cm4gXCIjXCIuY29uY2F0KHIpLmNvbmNhdChyKS5jb25jYXQoZykuY29uY2F0KGcpLmNvbmNhdChiKS5jb25jYXQoYik7XG59O1xuXG52YXIgdXNlQ29sb3JJbnB1dCA9IGZ1bmN0aW9uIHVzZUNvbG9ySW5wdXQoaW5pdGlhbFZhbHVlLCBvbkNoYW5nZSkge1xuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoaW5pdGlhbFZhbHVlIHx8ICcnKSxcbiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxuICAgICAgdmFsdWUgPSBfdXNlU3RhdGUyWzBdLFxuICAgICAgc2V0VmFsdWUgPSBfdXNlU3RhdGUyWzFdO1xuXG4gIHZhciBfdXNlU3RhdGUzID0gdXNlU3RhdGUoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBwYXJzZVZhbHVlKHZhbHVlKTtcbiAgfSksXG4gICAgICBfdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMywgMiksXG4gICAgICBjb2xvciA9IF91c2VTdGF0ZTRbMF0sXG4gICAgICBzZXRDb2xvciA9IF91c2VTdGF0ZTRbMV07XG5cbiAgdmFyIF91c2VTdGF0ZTUgPSB1c2VTdGF0ZSgoY29sb3IgPT09IG51bGwgfHwgY29sb3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbG9yLmNvbG9yU3BhY2UpIHx8IENvbG9yU3BhY2UuSEVYKSxcbiAgICAgIF91c2VTdGF0ZTYgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU1LCAyKSxcbiAgICAgIGNvbG9yU3BhY2UgPSBfdXNlU3RhdGU2WzBdLFxuICAgICAgc2V0Q29sb3JTcGFjZSA9IF91c2VTdGF0ZTZbMV07IC8vIFJlc2V0IHN0YXRlIHdoZW4gaW5pdGlhbFZhbHVlIGJlY29tZXMgdW5kZWZpbmVkICh3aGVuIHJlc2V0dGluZyBjb250cm9scylcblxuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGluaXRpYWxWYWx1ZSAhPT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgc2V0VmFsdWUoJycpO1xuICAgIHNldENvbG9yKHVuZGVmaW5lZCk7XG4gICAgc2V0Q29sb3JTcGFjZShDb2xvclNwYWNlLkhFWCk7XG4gIH0sIFtpbml0aWFsVmFsdWVdKTtcbiAgdmFyIHJlYWxWYWx1ZSA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBnZXRSZWFsVmFsdWUodmFsdWUsIGNvbG9yLCBjb2xvclNwYWNlKS50b0xvd2VyQ2FzZSgpO1xuICB9LCBbdmFsdWUsIGNvbG9yLCBjb2xvclNwYWNlXSk7XG4gIHZhciB1cGRhdGVWYWx1ZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICh1cGRhdGUpIHtcbiAgICB2YXIgcGFyc2VkID0gcGFyc2VWYWx1ZSh1cGRhdGUpO1xuICAgIHNldFZhbHVlKChwYXJzZWQgPT09IG51bGwgfHwgcGFyc2VkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJzZWQudmFsdWUpIHx8IHVwZGF0ZSB8fCAnJyk7XG4gICAgaWYgKCFwYXJzZWQpIHJldHVybjtcbiAgICBzZXRDb2xvcihwYXJzZWQpO1xuICAgIHNldENvbG9yU3BhY2UocGFyc2VkLmNvbG9yU3BhY2UpO1xuICAgIG9uQ2hhbmdlKHBhcnNlZC52YWx1ZSk7XG4gIH0sIFtvbkNoYW5nZV0pO1xuICB2YXIgY3ljbGVDb2xvclNwYWNlID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIHZhciBuZXh0ID0gQ09MT1JfU1BBQ0VTLmluZGV4T2YoY29sb3JTcGFjZSkgKyAxO1xuICAgIGlmIChuZXh0ID49IENPTE9SX1NQQUNFUy5sZW5ndGgpIG5leHQgPSAwO1xuICAgIHNldENvbG9yU3BhY2UoQ09MT1JfU1BBQ0VTW25leHRdKTtcbiAgICB2YXIgdXBkYXRlID0gKGNvbG9yID09PSBudWxsIHx8IGNvbG9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb2xvcltDT0xPUl9TUEFDRVNbbmV4dF1dKSB8fCAnJztcbiAgICBzZXRWYWx1ZSh1cGRhdGUpO1xuICAgIG9uQ2hhbmdlKHVwZGF0ZSk7XG4gIH0sIFtjb2xvciwgY29sb3JTcGFjZSwgb25DaGFuZ2VdKTtcbiAgcmV0dXJuIHtcbiAgICB2YWx1ZTogdmFsdWUsXG4gICAgcmVhbFZhbHVlOiByZWFsVmFsdWUsXG4gICAgdXBkYXRlVmFsdWU6IHVwZGF0ZVZhbHVlLFxuICAgIGNvbG9yOiBjb2xvcixcbiAgICBjb2xvclNwYWNlOiBjb2xvclNwYWNlLFxuICAgIGN5Y2xlQ29sb3JTcGFjZTogY3ljbGVDb2xvclNwYWNlXG4gIH07XG59O1xuXG52YXIgaWQgPSBmdW5jdGlvbiBpZCh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUucmVwbGFjZSgvXFxzKi8sICcnKS50b0xvd2VyQ2FzZSgpO1xufTtcblxudmFyIHVzZVByZXNldHMgPSBmdW5jdGlvbiB1c2VQcmVzZXRzKHByZXNldENvbG9ycywgY3VycmVudENvbG9yLCBjb2xvclNwYWNlKSB7XG4gIHZhciBfdXNlU3RhdGU3ID0gdXNlU3RhdGUoKGN1cnJlbnRDb2xvciA9PT0gbnVsbCB8fCBjdXJyZW50Q29sb3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGN1cnJlbnRDb2xvci52YWxpZCkgPyBbY3VycmVudENvbG9yXSA6IFtdKSxcbiAgICAgIF91c2VTdGF0ZTggPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU3LCAyKSxcbiAgICAgIHNlbGVjdGVkQ29sb3JzID0gX3VzZVN0YXRlOFswXSxcbiAgICAgIHNldFNlbGVjdGVkQ29sb3JzID0gX3VzZVN0YXRlOFsxXTsgLy8gUmVzZXQgc3RhdGUgd2hlbiBjdXJyZW50Q29sb3IgYmVjb21lcyB1bmRlZmluZWQgKHdoZW4gcmVzZXR0aW5nIGNvbnRyb2xzKVxuXG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoY3VycmVudENvbG9yICE9PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICBzZXRTZWxlY3RlZENvbG9ycyhbXSk7XG4gIH0sIFtjdXJyZW50Q29sb3JdKTtcbiAgdmFyIHByZXNldHMgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaW5pdGlhbFByZXNldHMgPSAocHJlc2V0Q29sb3JzIHx8IFtdKS5tYXAoZnVuY3Rpb24gKHByZXNldCkge1xuICAgICAgaWYgKHR5cGVvZiBwcmVzZXQgPT09ICdzdHJpbmcnKSByZXR1cm4gcGFyc2VWYWx1ZShwcmVzZXQpO1xuICAgICAgaWYgKHByZXNldC50aXRsZSkgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcGFyc2VWYWx1ZShwcmVzZXQuY29sb3IpKSwge1xuICAgICAgICBrZXl3b3JkOiBwcmVzZXQudGl0bGVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHBhcnNlVmFsdWUocHJlc2V0LmNvbG9yKTtcbiAgICB9KTtcbiAgICByZXR1cm4gaW5pdGlhbFByZXNldHMuY29uY2F0KHNlbGVjdGVkQ29sb3JzKS5maWx0ZXIoQm9vbGVhbikuc2xpY2UoLTI3KTtcbiAgfSwgW3ByZXNldENvbG9ycywgc2VsZWN0ZWRDb2xvcnNdKTtcbiAgdmFyIGFkZFByZXNldCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChjb2xvcikge1xuICAgIGlmICghKGNvbG9yID09PSBudWxsIHx8IGNvbG9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb2xvci52YWxpZCkpIHJldHVybjtcbiAgICBpZiAocHJlc2V0cy5zb21lKGZ1bmN0aW9uIChwcmVzZXQpIHtcbiAgICAgIHJldHVybiBpZChwcmVzZXRbY29sb3JTcGFjZV0pID09PSBpZChjb2xvcltjb2xvclNwYWNlXSk7XG4gICAgfSkpIHJldHVybjtcbiAgICBzZXRTZWxlY3RlZENvbG9ycyhmdW5jdGlvbiAoYXJyKSB7XG4gICAgICByZXR1cm4gYXJyLmNvbmNhdChjb2xvcik7XG4gICAgfSk7XG4gIH0sIFtjb2xvclNwYWNlLCBwcmVzZXRzXSk7XG4gIHJldHVybiB7XG4gICAgcHJlc2V0czogcHJlc2V0cyxcbiAgICBhZGRQcmVzZXQ6IGFkZFByZXNldFxuICB9O1xufTtcblxudmFyIENvbG9yQ29udHJvbCA9IGZ1bmN0aW9uIENvbG9yQ29udHJvbChfcmVmMTIpIHtcbiAgdmFyIG5hbWUgPSBfcmVmMTIubmFtZSxcbiAgICAgIGluaXRpYWxWYWx1ZSA9IF9yZWYxMi52YWx1ZSxcbiAgICAgIG9uQ2hhbmdlID0gX3JlZjEyLm9uQ2hhbmdlLFxuICAgICAgb25Gb2N1cyA9IF9yZWYxMi5vbkZvY3VzLFxuICAgICAgb25CbHVyID0gX3JlZjEyLm9uQmx1cixcbiAgICAgIHByZXNldENvbG9ycyA9IF9yZWYxMi5wcmVzZXRDb2xvcnMsXG4gICAgICBzdGFydE9wZW4gPSBfcmVmMTIuc3RhcnRPcGVuO1xuXG4gIHZhciBfdXNlQ29sb3JJbnB1dCA9IHVzZUNvbG9ySW5wdXQoaW5pdGlhbFZhbHVlLCB0aHJvdHRsZV8xKG9uQ2hhbmdlLCAyMDApKSxcbiAgICAgIHZhbHVlID0gX3VzZUNvbG9ySW5wdXQudmFsdWUsXG4gICAgICByZWFsVmFsdWUgPSBfdXNlQ29sb3JJbnB1dC5yZWFsVmFsdWUsXG4gICAgICB1cGRhdGVWYWx1ZSA9IF91c2VDb2xvcklucHV0LnVwZGF0ZVZhbHVlLFxuICAgICAgY29sb3IgPSBfdXNlQ29sb3JJbnB1dC5jb2xvcixcbiAgICAgIGNvbG9yU3BhY2UgPSBfdXNlQ29sb3JJbnB1dC5jb2xvclNwYWNlLFxuICAgICAgY3ljbGVDb2xvclNwYWNlID0gX3VzZUNvbG9ySW5wdXQuY3ljbGVDb2xvclNwYWNlO1xuXG4gIHZhciBfdXNlUHJlc2V0cyA9IHVzZVByZXNldHMocHJlc2V0Q29sb3JzLCBjb2xvciwgY29sb3JTcGFjZSksXG4gICAgICBwcmVzZXRzID0gX3VzZVByZXNldHMucHJlc2V0cyxcbiAgICAgIGFkZFByZXNldCA9IF91c2VQcmVzZXRzLmFkZFByZXNldDtcblxuICB2YXIgUGlja2VyID0gQ29sb3JQaWNrZXJbY29sb3JTcGFjZV07XG4gIHJldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFdyYXBwZXIsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUGlja2VyVG9vbHRpcCwge1xuICAgIHRyaWdnZXI6IFwiY2xpY2tcIixcbiAgICBzdGFydE9wZW46IHN0YXJ0T3BlbixcbiAgICBjbG9zZU9uQ2xpY2s6IHRydWUsXG4gICAgb25WaXNpYmlsaXR5Q2hhbmdlOiBmdW5jdGlvbiBvblZpc2liaWxpdHlDaGFuZ2UoKSB7XG4gICAgICByZXR1cm4gYWRkUHJlc2V0KGNvbG9yKTtcbiAgICB9LFxuICAgIHRvb2x0aXA6IFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVG9vbHRpcENvbnRlbnQsIG51bGwsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUGlja2VyLCBPYmplY3QuYXNzaWduKHtcbiAgICAgIGNvbG9yOiByZWFsVmFsdWUgPT09ICd0cmFuc3BhcmVudCcgPyAnIzAwMDAwMCcgOiByZWFsVmFsdWVcbiAgICB9LCB7XG4gICAgICBvbkNoYW5nZTogdXBkYXRlVmFsdWUsXG4gICAgICBvbkZvY3VzOiBvbkZvY3VzLFxuICAgICAgb25CbHVyOiBvbkJsdXJcbiAgICB9KSksIHByZXNldHMubGVuZ3RoID4gMCAmJiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFN3YXRjaGVzLCBudWxsLCBwcmVzZXRzLm1hcChmdW5jdGlvbiAocHJlc2V0LCBpbmRleCkge1xuICAgICAgcmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoV2l0aFRvb2x0aXAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L25vLWFycmF5LWluZGV4LWtleVxuICAgICAgLCB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9uby1hcnJheS1pbmRleC1rZXlcbiAgICAgICAga2V5OiBcIlwiLmNvbmNhdChwcmVzZXQudmFsdWUsIFwiLVwiKS5jb25jYXQoaW5kZXgpLFxuICAgICAgICBoYXNDaHJvbWU6IGZhbHNlLFxuICAgICAgICB0b29sdGlwOiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KE5vdGUsIHtcbiAgICAgICAgICBub3RlOiBwcmVzZXQua2V5d29yZCB8fCBwcmVzZXQudmFsdWVcbiAgICAgICAgfSlcbiAgICAgIH0sIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoU3dhdGNoLCB7XG4gICAgICAgIHZhbHVlOiBwcmVzZXRbY29sb3JTcGFjZV0sXG4gICAgICAgIGFjdGl2ZTogY29sb3IgJiYgaWQocHJlc2V0W2NvbG9yU3BhY2VdKSA9PT0gaWQoY29sb3JbY29sb3JTcGFjZV0pLFxuICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgIHJldHVybiB1cGRhdGVWYWx1ZShwcmVzZXQudmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgfSkpKVxuICB9LCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFN3YXRjaCwge1xuICAgIHZhbHVlOiByZWFsVmFsdWUsXG4gICAgc3R5bGU6IHtcbiAgICAgIG1hcmdpbjogNFxuICAgIH1cbiAgfSkpLCBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KElucHV0LCB7XG4gICAgaWQ6IGdldENvbnRyb2xJZChuYW1lKSxcbiAgICB2YWx1ZTogdmFsdWUsXG4gICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHtcbiAgICAgIHJldHVybiB1cGRhdGVWYWx1ZShlLnRhcmdldC52YWx1ZSk7XG4gICAgfSxcbiAgICBvbkZvY3VzOiBmdW5jdGlvbiBvbkZvY3VzKGUpIHtcbiAgICAgIHJldHVybiBlLnRhcmdldC5zZWxlY3QoKTtcbiAgICB9LFxuICAgIHBsYWNlaG9sZGVyOiBcIkNob29zZSBjb2xvci4uLlwiXG4gIH0pLCB2YWx1ZSA/IFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVG9nZ2xlSWNvbiwge1xuICAgIGljb246IFwibWFya3VwXCIsXG4gICAgb25DbGljazogY3ljbGVDb2xvclNwYWNlXG4gIH0pIDogbnVsbCk7XG59O1xuXG5leHBvcnQgeyBDb2xvckNvbnRyb2wsIENvbG9yQ29udHJvbCBhcyBkZWZhdWx0IH07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@storybook/components/dist/esm/Color-f953d088.js\n')}}]);